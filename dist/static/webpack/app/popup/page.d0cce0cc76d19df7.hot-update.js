"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
self["webpackHotUpdate_N_E"]("app/popup/page",{

/***/ "(app-pages-browser)/./lib/export-utils.ts":
/*!*****************************!*\
  !*** ./lib/export-utils.ts ***!
  \*****************************/
/***/ (function(module, __webpack_exports__, __webpack_require__) {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   LessonExporter: function() { return /* binding */ LessonExporter; },\n/* harmony export */   lessonExporter: function() { return /* binding */ lessonExporter; }\n/* harmony export */ });\n/* harmony import */ var jspdf__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jspdf */ \"(app-pages-browser)/./node_modules/jspdf/dist/jspdf.es.min.js\");\n/* harmony import */ var docx__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! docx */ \"(app-pages-browser)/./node_modules/docx/dist/index.mjs\");\n/* harmony import */ var _avatar_utils__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./avatar-utils */ \"(app-pages-browser)/./lib/avatar-utils.ts\");\n\n\n\nclass LessonExporter {\n    formatDate() {\n        return new Date().toLocaleDateString(\"en-US\", {\n            year: \"numeric\",\n            month: \"long\",\n            day: \"numeric\"\n        });\n    }\n    validateLessonData(lessonData) {\n        var _sections_vocabulary, _sections_reading, _sections_comprehension, _sections_discussion, _sections_grammar, _sections_pronunciation, _sections_wrapup;\n        console.log(\"Validating lesson data:\", lessonData);\n        if (!lessonData) {\n            throw new Error(\"Lesson data is required\");\n        }\n        if (!lessonData.lessonTitle) {\n            throw new Error(\"AI-generated lesson title is required\");\n        }\n        if (!lessonData.lessonType) {\n            throw new Error(\"Lesson type is required\");\n        }\n        if (!lessonData.studentLevel) {\n            throw new Error(\"Student level is required\");\n        }\n        if (!lessonData.targetLanguage) {\n            throw new Error(\"Target language is required\");\n        }\n        if (!lessonData.sections) {\n            throw new Error(\"Lesson sections are required\");\n        }\n        // Validate sections structure with detailed logging\n        const sections = lessonData.sections;\n        console.log(\"Validating section types:\", {\n            warmup: {\n                type: typeof sections.warmup,\n                isArray: Array.isArray(sections.warmup),\n                value: sections.warmup\n            },\n            vocabulary: {\n                type: typeof sections.vocabulary,\n                isArray: Array.isArray(sections.vocabulary),\n                length: (_sections_vocabulary = sections.vocabulary) === null || _sections_vocabulary === void 0 ? void 0 : _sections_vocabulary.length\n            },\n            reading: {\n                type: typeof sections.reading,\n                length: (_sections_reading = sections.reading) === null || _sections_reading === void 0 ? void 0 : _sections_reading.length\n            },\n            comprehension: {\n                type: typeof sections.comprehension,\n                isArray: Array.isArray(sections.comprehension),\n                length: (_sections_comprehension = sections.comprehension) === null || _sections_comprehension === void 0 ? void 0 : _sections_comprehension.length\n            },\n            discussion: {\n                type: typeof sections.discussion,\n                isArray: Array.isArray(sections.discussion),\n                length: (_sections_discussion = sections.discussion) === null || _sections_discussion === void 0 ? void 0 : _sections_discussion.length\n            },\n            grammar: {\n                type: typeof sections.grammar,\n                hasFocus: !!((_sections_grammar = sections.grammar) === null || _sections_grammar === void 0 ? void 0 : _sections_grammar.focus)\n            },\n            pronunciation: {\n                type: typeof sections.pronunciation,\n                hasWord: !!((_sections_pronunciation = sections.pronunciation) === null || _sections_pronunciation === void 0 ? void 0 : _sections_pronunciation.word)\n            },\n            wrapup: {\n                type: typeof sections.wrapup,\n                isArray: Array.isArray(sections.wrapup),\n                length: (_sections_wrapup = sections.wrapup) === null || _sections_wrapup === void 0 ? void 0 : _sections_wrapup.length\n            }\n        });\n        if (!Array.isArray(sections.warmup)) {\n            console.warn(\"Warmup section is not an array:\", sections.warmup);\n        }\n        if (!Array.isArray(sections.vocabulary)) {\n            console.warn(\"Vocabulary section is not an array:\", sections.vocabulary);\n        }\n        if (typeof sections.reading !== \"string\") {\n            console.warn(\"Reading section is not a string:\", sections.reading);\n        }\n        if (!Array.isArray(sections.comprehension)) {\n            console.warn(\"Comprehension section is not an array:\", sections.comprehension);\n        }\n        if (!Array.isArray(sections.discussion)) {\n            console.warn(\"Discussion section is not an array:\", sections.discussion);\n        }\n        if (!sections.grammar || !sections.grammar.focus) {\n            console.warn(\"Grammar section is malformed:\", sections.grammar);\n        }\n        if (!sections.pronunciation || !sections.pronunciation.word) {\n            console.warn(\"Pronunciation section is malformed:\", sections.pronunciation);\n        }\n        if (!Array.isArray(sections.wrapup)) {\n            console.warn(\"Wrapup section is not an array:\", sections.wrapup);\n        }\n        console.log(\"Lesson data validation completed\");\n    }\n    async exportToPDF(lessonData, enabledSections) {\n        try {\n            console.log(\"Starting PDF export with data:\", {\n                lessonData,\n                enabledSections\n            });\n            // Check if we're in a browser environment\n            if (false) {}\n            // Check if jsPDF is available\n            if (typeof jspdf__WEBPACK_IMPORTED_MODULE_0__[\"default\"] === \"undefined\") {\n                throw new Error(\"jsPDF library is not available\");\n            }\n            console.log(\"Environment checks passed\");\n            this.validateLessonData(lessonData);\n            // Additional validation for enabled sections\n            if (!enabledSections || Object.keys(enabledSections).length === 0) {\n                throw new Error(\"No sections enabled for export\");\n            }\n            console.log(\"Creating jsPDF instance...\");\n            const pdf = new jspdf__WEBPACK_IMPORTED_MODULE_0__[\"default\"]();\n            console.log(\"jsPDF instance created successfully\");\n            let yPosition = 20;\n            const pageHeight = pdf.internal.pageSize.height;\n            const margin = 20;\n            const lineHeight = 7;\n            console.log(\"PDF dimensions:\", {\n                pageHeight,\n                margin,\n                lineHeight\n            });\n            // Typography hierarchy constants (matching web interface)\n            const FONT_SIZES = {\n                LESSON_TITLE: 32,\n                SECTION_HEADER: 28,\n                MAIN_CONTENT: 16,\n                INSTRUCTIONS: 15,\n                SUPPLEMENTARY: 14 // Answer keys, explanations\n            };\n            // Helper function to add text with word wrapping\n            const addText = function(text) {\n                let fontSize = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : FONT_SIZES.MAIN_CONTENT, isBold = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : false, isItalic = arguments.length > 3 && arguments[3] !== void 0 ? arguments[3] : false, indent = arguments.length > 4 && arguments[4] !== void 0 ? arguments[4] : 0;\n                try {\n                    // Sanitize text to prevent PDF errors and strip markdown formatting\n                    const sanitizedText = text.replace(/\\*\\*(.*?)\\*\\*/g, \"$1\") // Remove bold markdown (**text**)\n                    .replace(/\\*(.*?)\\*/g, \"$1\") // Remove italic markdown (*text*)\n                    .replace(/__(.*?)__/g, \"$1\") // Remove bold markdown (__text__)\n                    .replace(/_(.*?)_/g, \"$1\") // Remove italic markdown (_text_)\n                    .replace(/[\\u0000-\\u001F\\u007F-\\u009F]/g, \"\") // Remove control characters\n                    .replace(/[\\u2000-\\u206F\\u2E00-\\u2E7F\\u3000-\\u303F]/g, \" \") // Replace special spaces\n                    .trim();\n                    if (!sanitizedText) {\n                        console.warn(\"Empty text after sanitization, skipping\");\n                        return;\n                    }\n                    console.log('Adding text: \"'.concat(sanitizedText.substring(0, 50)).concat(sanitizedText.length > 50 ? \"...\" : \"\", '\"'));\n                    pdf.setFontSize(fontSize);\n                    // Set font style based on bold and italic flags\n                    let fontStyle = \"normal\";\n                    if (isBold && isItalic) {\n                        fontStyle = \"bolditalic\";\n                    } else if (isBold) {\n                        fontStyle = \"bold\";\n                    } else if (isItalic) {\n                        fontStyle = \"italic\";\n                    }\n                    pdf.setFont(\"helvetica\", fontStyle);\n                    const maxWidth = pdf.internal.pageSize.width - margin * 2 - indent;\n                    const lines = pdf.splitTextToSize(sanitizedText, maxWidth);\n                    for (const line of lines){\n                        if (yPosition > pageHeight - 30) {\n                            pdf.addPage();\n                            yPosition = 20;\n                        }\n                        pdf.text(line, margin + indent, yPosition);\n                        yPosition += lineHeight;\n                    }\n                    yPosition += 3 // Extra spacing after text block\n                    ;\n                } catch (error) {\n                    console.error(\"Error adding text to PDF:\", error, \"Text:\", text);\n                    throw error;\n                }\n            };\n            const addSection = (title, content)=>{\n                if (yPosition > pageHeight - 50) {\n                    pdf.addPage();\n                    yPosition = 20;\n                }\n                addText(title, FONT_SIZES.SECTION_HEADER, true);\n                yPosition += 5;\n                content();\n                yPosition += 10;\n            };\n            // Title and metadata\n            addText(lessonData.lessonTitle, FONT_SIZES.LESSON_TITLE, true);\n            addText(\"Target Language: \".concat(lessonData.targetLanguage.charAt(0).toUpperCase() + lessonData.targetLanguage.slice(1)), FONT_SIZES.SUPPLEMENTARY);\n            addText(\"Generated on: \".concat(this.formatDate()), FONT_SIZES.SUPPLEMENTARY);\n            yPosition += 10;\n            // Add sections based on enabled state\n            if (enabledSections.warmup && lessonData.sections.warmup) {\n                addSection(\"Warm-up Questions\", ()=>{\n                    const warmupQuestions = Array.isArray(lessonData.sections.warmup) ? lessonData.sections.warmup : [];\n                    warmupQuestions.forEach((question, index)=>{\n                        // First item is the instruction with light green background (italic) - manual rendering\n                        if (index === 0) {\n                            pdf.setFillColor(238, 247, 220) // #EEF7DC\n                            ;\n                            pdf.setFontSize(FONT_SIZES.INSTRUCTIONS);\n                            pdf.setFont(\"helvetica\", \"italic\");\n                            const instructionWidth = pdf.internal.pageSize.width - margin * 2 - 10;\n                            const instructionLines = pdf.splitTextToSize(question, instructionWidth);\n                            const instructionHeight = instructionLines.length * lineHeight + 6;\n                            // Draw background rectangle\n                            pdf.rect(margin + 10, yPosition - 4, instructionWidth, instructionHeight, \"F\");\n                            // Add instruction text\n                            for (const line of instructionLines){\n                                pdf.text(line, margin + 10, yPosition);\n                                yPosition += lineHeight;\n                            }\n                            yPosition += 8 // Extra spacing after instruction\n                            ;\n                        } else {\n                            // Rest are actual questions (renumber starting from 1)\n                            addText(\"\".concat(index, \". \").concat(question), FONT_SIZES.MAIN_CONTENT, false, false, 10);\n                        }\n                    });\n                });\n            }\n            if (enabledSections.vocabulary && lessonData.sections.vocabulary) {\n                addSection(\"Key Vocabulary\", ()=>{\n                    const vocabularyItems = Array.isArray(lessonData.sections.vocabulary) ? lessonData.sections.vocabulary : [];\n                    let vocabIndex = 0 // Track actual vocabulary item numbering\n                    ;\n                    vocabularyItems.forEach((item, index)=>{\n                        // First item might be an instruction\n                        if (index === 0 && item.word === \"INSTRUCTION\") {\n                            pdf.setFillColor(241, 250, 255) // #F1FAFF\n                            ;\n                            pdf.setFontSize(FONT_SIZES.INSTRUCTIONS);\n                            pdf.setFont(\"helvetica\", \"italic\");\n                            const instructionWidth = pdf.internal.pageSize.width - margin * 2 - 10;\n                            const instructionLines = pdf.splitTextToSize(item.meaning, instructionWidth);\n                            const instructionHeight = instructionLines.length * lineHeight + 6;\n                            // Draw background rectangle\n                            pdf.rect(margin + 10, yPosition - 4, instructionWidth, instructionHeight, \"F\");\n                            // Add instruction text\n                            for (const line of instructionLines){\n                                pdf.text(line, margin + 10, yPosition);\n                                yPosition += lineHeight;\n                            }\n                            yPosition += 8 // Extra spacing after instruction\n                            ;\n                            return;\n                        }\n                        vocabIndex++;\n                        addText(\"\".concat(vocabIndex, \". \").concat(item.word), FONT_SIZES.MAIN_CONTENT, true, false, 10);\n                        addText(\"   Meaning: \".concat(item.meaning), FONT_SIZES.MAIN_CONTENT, false, false, 15);\n                        // Handle both old format (example) and new format (examples array)\n                        if (item.examples && Array.isArray(item.examples) && item.examples.length > 0) {\n                            addText(\"   Examples:\", FONT_SIZES.INSTRUCTIONS, true, false, 15);\n                            const examples = Array.isArray(item.examples) ? item.examples : [];\n                            examples.forEach((example, exIndex)=>{\n                                addText(\"   \".concat(exIndex + 1, '. \"').concat(example, '\"'), FONT_SIZES.SUPPLEMENTARY, false, false, 20);\n                            });\n                        } else if (item.example) {\n                            addText('   Example: \"'.concat(item.example, '\"'), FONT_SIZES.SUPPLEMENTARY, false, false, 15);\n                        }\n                        yPosition += 3;\n                    });\n                });\n            }\n            if (enabledSections.reading && lessonData.sections.reading) {\n                addSection(\"Reading Passage\", ()=>{\n                    const readingContent = lessonData.sections.reading;\n                    const parts = readingContent.split(\"\\n\\n\");\n                    // Check if first part is an instruction\n                    if (parts.length > 1 && parts[0].includes(\"Read the following text carefully\")) {\n                        // Add instruction with light green background (italic) - manual rendering\n                        pdf.setFillColor(238, 247, 220) // #EEF7DC\n                        ;\n                        pdf.setFontSize(FONT_SIZES.INSTRUCTIONS);\n                        pdf.setFont(\"helvetica\", \"italic\");\n                        const instructionWidth = pdf.internal.pageSize.width - margin * 2 - 10;\n                        const instructionLines = pdf.splitTextToSize(parts[0], instructionWidth);\n                        const instructionHeight = instructionLines.length * lineHeight + 6;\n                        // Draw background rectangle\n                        pdf.rect(margin + 10, yPosition - 4, instructionWidth, instructionHeight, \"F\");\n                        // Add instruction text\n                        for (const line of instructionLines){\n                            pdf.text(line, margin + 10, yPosition);\n                            yPosition += lineHeight;\n                        }\n                        yPosition += 8 // Extra spacing after instruction\n                        ;\n                        // Add the rest of the reading passage\n                        addText(parts.slice(1).join(\"\\n\\n\"), FONT_SIZES.MAIN_CONTENT, false, false, 10);\n                    } else {\n                        // No instruction, display as before\n                        addText(readingContent, FONT_SIZES.MAIN_CONTENT, false, false, 10);\n                    }\n                });\n            }\n            if (enabledSections.comprehension && lessonData.sections.comprehension) {\n                addSection(\"Reading Comprehension\", ()=>{\n                    const comprehensionQuestions = Array.isArray(lessonData.sections.comprehension) ? lessonData.sections.comprehension : [];\n                    comprehensionQuestions.forEach((question, index)=>{\n                        // First item is the instruction with light blue background (italic) - manual rendering\n                        if (index === 0) {\n                            pdf.setFillColor(241, 250, 255) // #F1FAFF\n                            ;\n                            pdf.setFontSize(FONT_SIZES.INSTRUCTIONS);\n                            pdf.setFont(\"helvetica\", \"italic\");\n                            const instructionWidth = pdf.internal.pageSize.width - margin * 2 - 10;\n                            const instructionLines = pdf.splitTextToSize(question, instructionWidth);\n                            const instructionHeight = instructionLines.length * lineHeight + 6;\n                            // Draw background rectangle\n                            pdf.rect(margin + 10, yPosition - 4, instructionWidth, instructionHeight, \"F\");\n                            // Add instruction text\n                            for (const line of instructionLines){\n                                pdf.text(line, margin + 10, yPosition);\n                                yPosition += lineHeight;\n                            }\n                            yPosition += 8 // Extra spacing after instruction\n                            ;\n                        } else {\n                            // Rest are actual questions (renumber starting from 1)\n                            addText(\"\".concat(index, \". \").concat(question), FONT_SIZES.MAIN_CONTENT, false, false, 10);\n                        }\n                    });\n                });\n            }\n            if (enabledSections.discussion && lessonData.sections.discussion) {\n                addSection(\"Discussion Questions\", ()=>{\n                    const discussionQuestions = Array.isArray(lessonData.sections.discussion) ? lessonData.sections.discussion : [];\n                    discussionQuestions.forEach((question, index)=>{\n                        // First item is the instruction with light green background (italic) - manual rendering\n                        if (index === 0) {\n                            pdf.setFillColor(238, 247, 220) // #EEF7DC\n                            ;\n                            pdf.setFontSize(FONT_SIZES.INSTRUCTIONS);\n                            pdf.setFont(\"helvetica\", \"italic\");\n                            const instructionWidth = pdf.internal.pageSize.width - margin * 2 - 10;\n                            const instructionLines = pdf.splitTextToSize(question, instructionWidth);\n                            const instructionHeight = instructionLines.length * lineHeight + 6;\n                            // Draw background rectangle\n                            pdf.rect(margin + 10, yPosition - 4, instructionWidth, instructionHeight, \"F\");\n                            // Add instruction text\n                            for (const line of instructionLines){\n                                pdf.text(line, margin + 10, yPosition);\n                                yPosition += lineHeight;\n                            }\n                            yPosition += 8 // Extra spacing after instruction\n                            ;\n                        } else {\n                            // Rest are actual questions (renumber starting from 1)\n                            addText(\"\".concat(index, \". \").concat(question), FONT_SIZES.MAIN_CONTENT, false, false, 10);\n                        }\n                    });\n                });\n            }\n            if (enabledSections.dialoguePractice && lessonData.sections.dialoguePractice) {\n                addSection(\"Dialogue Practice\", ()=>{\n                    const dialogueSection = lessonData.sections.dialoguePractice;\n                    // Add instruction with light green background color (italic) - manually without addText\n                    pdf.setFillColor(238, 247, 220) // #EEF7DC\n                    ;\n                    pdf.setFontSize(FONT_SIZES.INSTRUCTIONS);\n                    pdf.setFont(\"helvetica\", \"italic\");\n                    const instructionWidth = pdf.internal.pageSize.width - margin * 2 - 10;\n                    const instructionLines = pdf.splitTextToSize(dialogueSection.instruction, instructionWidth);\n                    const instructionHeight = instructionLines.length * lineHeight + 6;\n                    // Draw background rectangle\n                    pdf.rect(margin + 10, yPosition - 4, instructionWidth, instructionHeight, \"F\");\n                    // Add instruction text\n                    for (const line of instructionLines){\n                        pdf.text(line, margin + 10, yPosition);\n                        yPosition += lineHeight;\n                    }\n                    yPosition += 8 // Extra spacing after instruction before dialogue starts\n                    ;\n                    // Enhance dialogue with avatar names\n                    const enhancedDialogue = (0,_avatar_utils__WEBPACK_IMPORTED_MODULE_2__.enhanceDialogueWithAvatars)(dialogueSection.dialogue, lessonData.id, \"dialoguePractice\");\n                    // Add dialogue lines with character names and spacing\n                    const dialoguePracticeLines = Array.isArray(enhancedDialogue) ? enhancedDialogue : [];\n                    dialoguePracticeLines.forEach((line, index)=>{\n                        // Add 3px gap between dialogue lines (except first)\n                        if (index > 0) {\n                            yPosition += 3;\n                        }\n                        // Character name in bold, then line\n                        pdf.setFontSize(FONT_SIZES.MAIN_CONTENT);\n                        pdf.setFont(\"helvetica\", \"bold\");\n                        const charWidth = pdf.getTextWidth(\"\".concat(line.character, \": \"));\n                        pdf.text(\"\".concat(line.character, \": \"), margin + 10, yPosition);\n                        pdf.setFont(\"helvetica\", \"normal\");\n                        const maxWidth = pdf.internal.pageSize.width - margin * 2 - 10 - charWidth;\n                        const lineText = pdf.splitTextToSize(line.line, maxWidth);\n                        pdf.text(lineText[0], margin + 10 + charWidth, yPosition);\n                        yPosition += lineHeight;\n                        // Handle wrapped lines\n                        for(let i = 1; i < lineText.length; i++){\n                            if (yPosition > pageHeight - 30) {\n                                pdf.addPage();\n                                yPosition = 20;\n                            }\n                            pdf.text(lineText[i], margin + 10 + charWidth, yPosition);\n                            yPosition += lineHeight;\n                        }\n                    });\n                    if (dialogueSection.followUpQuestions && dialogueSection.followUpQuestions.length > 0) {\n                        yPosition += 5;\n                        addText(\"Follow-up Questions:\", FONT_SIZES.INSTRUCTIONS, true, false, 10);\n                        const followUpQuestions = Array.isArray(dialogueSection.followUpQuestions) ? dialogueSection.followUpQuestions : [];\n                        followUpQuestions.forEach((question, index)=>{\n                            addText(\"\".concat(index + 1, \". \").concat(question), FONT_SIZES.MAIN_CONTENT, false, false, 15);\n                        });\n                    }\n                });\n            }\n            if (enabledSections.dialogueFillGap && lessonData.sections.dialogueFillGap) {\n                addSection(\"Dialogue Fill-in-the-Gap\", ()=>{\n                    const dialogueSection = lessonData.sections.dialogueFillGap;\n                    // Add instruction with light blue background color (italic) - manually without addText\n                    pdf.setFillColor(241, 250, 255) // #F1FAFF\n                    ;\n                    pdf.setFontSize(FONT_SIZES.INSTRUCTIONS);\n                    pdf.setFont(\"helvetica\", \"italic\");\n                    const instructionWidth = pdf.internal.pageSize.width - margin * 2 - 10;\n                    const instructionLines = pdf.splitTextToSize(dialogueSection.instruction, instructionWidth);\n                    const instructionHeight = instructionLines.length * lineHeight + 6;\n                    // Draw background rectangle\n                    pdf.rect(margin + 10, yPosition - 4, instructionWidth, instructionHeight, \"F\");\n                    // Add instruction text\n                    for (const line of instructionLines){\n                        pdf.text(line, margin + 10, yPosition);\n                        yPosition += lineHeight;\n                    }\n                    yPosition += 8 // Extra spacing after instruction before dialogue starts\n                    ;\n                    // Enhance dialogue with avatar names\n                    const enhancedDialogue = (0,_avatar_utils__WEBPACK_IMPORTED_MODULE_2__.enhanceDialogueWithAvatars)(dialogueSection.dialogue, lessonData.id, \"dialogueFillGap\");\n                    // Add dialogue lines with character names and spacing\n                    const dialogueFillGapLines = Array.isArray(enhancedDialogue) ? enhancedDialogue : [];\n                    dialogueFillGapLines.forEach((line, index)=>{\n                        // Add 3px gap between dialogue lines (except first)\n                        if (index > 0) {\n                            yPosition += 3;\n                        }\n                        // Character name in bold, then line\n                        pdf.setFontSize(FONT_SIZES.MAIN_CONTENT);\n                        pdf.setFont(\"helvetica\", \"bold\");\n                        const charWidth = pdf.getTextWidth(\"\".concat(line.character, \": \"));\n                        pdf.text(\"\".concat(line.character, \": \"), margin + 10, yPosition);\n                        pdf.setFont(\"helvetica\", \"normal\");\n                        const maxWidth = pdf.internal.pageSize.width - margin * 2 - 10 - charWidth;\n                        const lineText = pdf.splitTextToSize(line.line, maxWidth);\n                        pdf.text(lineText[0], margin + 10 + charWidth, yPosition);\n                        yPosition += lineHeight;\n                        // Handle wrapped lines\n                        for(let i = 1; i < lineText.length; i++){\n                            if (yPosition > pageHeight - 30) {\n                                pdf.addPage();\n                                yPosition = 20;\n                            }\n                            pdf.text(lineText[i], margin + 10 + charWidth, yPosition);\n                            yPosition += lineHeight;\n                        }\n                    });\n                    if (dialogueSection.answers && dialogueSection.answers.length > 0) {\n                        yPosition += 5;\n                        addText(\"Answer Key:\", FONT_SIZES.INSTRUCTIONS, true, false, 10);\n                        addText(dialogueSection.answers.join(\", \"), FONT_SIZES.SUPPLEMENTARY, false, false, 15);\n                    }\n                });\n            }\n            if (enabledSections.grammar && lessonData.sections.grammar) {\n                addSection(\"Grammar Focus\", ()=>{\n                    addText(\"Focus: \".concat(lessonData.sections.grammar.focus), FONT_SIZES.MAIN_CONTENT, true, 10);\n                    yPosition += 3;\n                    addText(\"Examples:\", FONT_SIZES.INSTRUCTIONS, true, 10);\n                    const grammarExamples = Array.isArray(lessonData.sections.grammar.examples) ? lessonData.sections.grammar.examples : [];\n                    grammarExamples.forEach((example, index)=>{\n                        addText(\"• \".concat(example), FONT_SIZES.SUPPLEMENTARY, false, 15);\n                    });\n                    yPosition += 3;\n                    addText(\"Practice Exercise:\", FONT_SIZES.INSTRUCTIONS, true, 10);\n                    const grammarExercises = Array.isArray(lessonData.sections.grammar.exercise) ? lessonData.sections.grammar.exercise : [];\n                    grammarExercises.forEach((exercise, index)=>{\n                        addText(\"\".concat(index + 1, \". \").concat(exercise), FONT_SIZES.MAIN_CONTENT, false, 15);\n                    });\n                });\n            }\n            if (enabledSections.pronunciation && lessonData.sections.pronunciation) {\n                addSection(\"Pronunciation Practice\", ()=>{\n                    const pronSection = lessonData.sections.pronunciation;\n                    // Handle both old format (single word) and new format (words array)\n                    if (pronSection.words && Array.isArray(pronSection.words) && pronSection.words.length > 0) {\n                        // New format with multiple words\n                        pronSection.words.forEach((wordItem, index)=>{\n                            if (index > 0) yPosition += 5 // Spacing between words\n                            ;\n                            addText(\"Word: \".concat(wordItem.word || \"N/A\"), FONT_SIZES.MAIN_CONTENT, true, false, 10);\n                            addText(\"IPA: \".concat(wordItem.ipa || \"N/A\"), FONT_SIZES.SUPPLEMENTARY, false, false, 10);\n                            if (wordItem.practiceSentence) {\n                                addText('Practice: \"'.concat(wordItem.practiceSentence, '\"'), FONT_SIZES.MAIN_CONTENT, false, false, 10);\n                            }\n                            if (wordItem.tips && wordItem.tips.length > 0) {\n                                addText(\"Tips:\", FONT_SIZES.INSTRUCTIONS, true, false, 10);\n                                wordItem.tips.forEach((tip)=>{\n                                    addText(\"• \".concat(tip), FONT_SIZES.SUPPLEMENTARY, false, false, 15);\n                                });\n                            }\n                        });\n                    } else if (pronSection.word) {\n                        // Old format with single word\n                        addText(\"Word: \".concat(pronSection.word || \"N/A\"), FONT_SIZES.MAIN_CONTENT, true, false, 10);\n                        addText(\"IPA: \".concat(pronSection.ipa || \"N/A\"), FONT_SIZES.SUPPLEMENTARY, false, false, 10);\n                        if (pronSection.practice) {\n                            addText('Practice: \"'.concat(pronSection.practice, '\"'), FONT_SIZES.MAIN_CONTENT, false, false, 10);\n                        }\n                    } else {\n                        addText(\"No pronunciation data available\", FONT_SIZES.MAIN_CONTENT, false, false, 10);\n                    }\n                });\n            }\n            if (enabledSections.wrapup && lessonData.sections.wrapup) {\n                addSection(\"Lesson Wrap-up\", ()=>{\n                    const wrapupQuestions = Array.isArray(lessonData.sections.wrapup) ? lessonData.sections.wrapup : [];\n                    wrapupQuestions.forEach((question, index)=>{\n                        // First item is the instruction - manual rendering (no numbering)\n                        if (index === 0) {\n                            pdf.setFillColor(238, 247, 220) // #EEF7DC\n                            ;\n                            pdf.setFontSize(FONT_SIZES.INSTRUCTIONS);\n                            pdf.setFont(\"helvetica\", \"italic\");\n                            const instructionWidth = pdf.internal.pageSize.width - margin * 2 - 10;\n                            const instructionLines = pdf.splitTextToSize(question, instructionWidth);\n                            const instructionHeight = instructionLines.length * lineHeight + 6;\n                            // Draw background rectangle\n                            pdf.rect(margin + 10, yPosition - 4, instructionWidth, instructionHeight, \"F\");\n                            // Add instruction text\n                            for (const line of instructionLines){\n                                pdf.text(line, margin + 10, yPosition);\n                                yPosition += lineHeight;\n                            }\n                            yPosition += 8 // Extra spacing after instruction\n                            ;\n                        } else {\n                            // Rest are actual questions (renumber starting from 1)\n                            addText(\"\".concat(index, \". \").concat(question), FONT_SIZES.MAIN_CONTENT, false, false, 10);\n                        }\n                    });\n                });\n            }\n            // Footer\n            const pageCount = pdf.internal.getNumberOfPages();\n            for(let i = 1; i <= pageCount; i++){\n                pdf.setPage(i);\n                pdf.setFontSize(8);\n                pdf.setFont(\"helvetica\", \"normal\");\n                pdf.text(\"Generated by LinguaSpark - Page \".concat(i, \" of \").concat(pageCount), margin, pageHeight - 10);\n            }\n            // Download the PDF\n            try {\n                const fileName = \"\".concat(lessonData.lessonType, \"-lesson-\").concat(lessonData.studentLevel, \"-\").concat(Date.now(), \".pdf\");\n                console.log(\"Saving PDF with filename:\", fileName);\n                pdf.save(fileName);\n                console.log(\"PDF export completed successfully\");\n            } catch (saveError) {\n                console.error(\"Error saving PDF:\", saveError);\n                throw new Error(\"Failed to save PDF: \".concat(saveError instanceof Error ? saveError.message : \"Unknown save error\"));\n            }\n        } catch (error) {\n            console.error(\"PDF export error:\", error);\n            console.error(\"Error stack:\", error instanceof Error ? error.stack : \"No stack trace\");\n            console.error(\"Error details:\", {\n                name: error instanceof Error ? error.name : \"Unknown\",\n                message: error instanceof Error ? error.message : \"Unknown error\",\n                lessonDataKeys: lessonData ? Object.keys(lessonData) : \"No lesson data\",\n                sectionsKeys: (lessonData === null || lessonData === void 0 ? void 0 : lessonData.sections) ? Object.keys(lessonData.sections) : \"No sections\",\n                enabledSectionsKeys: enabledSections ? Object.keys(enabledSections) : \"No enabled sections\"\n            });\n            throw new Error(\"PDF export failed: \".concat(error instanceof Error ? error.message : \"Unknown error\"));\n        }\n    }\n    async exportToWord(lessonData, enabledSections) {\n        try {\n            console.log(\"Starting Word export with data:\", {\n                lessonData,\n                enabledSections\n            });\n            this.validateLessonData(lessonData);\n            // Additional validation for enabled sections\n            if (!enabledSections || Object.keys(enabledSections).length === 0) {\n                throw new Error(\"No sections enabled for export\");\n            }\n            const children = [];\n            // Typography hierarchy constants (in half-points for Word - multiply by 2)\n            // 32px = 24pt, 28px = 21pt, 16px = 12pt, 15px = 11.25pt, 14px = 10.5pt\n            const WORD_FONT_SIZES = {\n                LESSON_TITLE: 48,\n                SECTION_HEADER: 42,\n                MAIN_CONTENT: 24,\n                INSTRUCTIONS: 23,\n                SUPPLEMENTARY: 21 // 10.5pt (14px equivalent)\n            };\n            // Title and metadata\n            children.push(new docx__WEBPACK_IMPORTED_MODULE_1__.Paragraph({\n                children: [\n                    new docx__WEBPACK_IMPORTED_MODULE_1__.TextRun({\n                        text: lessonData.lessonTitle,\n                        bold: true,\n                        size: WORD_FONT_SIZES.LESSON_TITLE\n                    })\n                ],\n                heading: docx__WEBPACK_IMPORTED_MODULE_1__.HeadingLevel.TITLE,\n                alignment: docx__WEBPACK_IMPORTED_MODULE_1__.AlignmentType.CENTER,\n                spacing: {\n                    after: 400\n                }\n            }));\n            children.push(new docx__WEBPACK_IMPORTED_MODULE_1__.Paragraph({\n                children: [\n                    new docx__WEBPACK_IMPORTED_MODULE_1__.TextRun({\n                        text: \"Target Language: \".concat(lessonData.targetLanguage.charAt(0).toUpperCase() + lessonData.targetLanguage.slice(1)),\n                        size: WORD_FONT_SIZES.SUPPLEMENTARY\n                    })\n                ],\n                spacing: {\n                    after: 200\n                }\n            }));\n            children.push(new docx__WEBPACK_IMPORTED_MODULE_1__.Paragraph({\n                children: [\n                    new docx__WEBPACK_IMPORTED_MODULE_1__.TextRun({\n                        text: \"Generated on: \".concat(this.formatDate()),\n                        size: WORD_FONT_SIZES.SUPPLEMENTARY\n                    })\n                ],\n                spacing: {\n                    after: 400\n                }\n            }));\n            // Helper function to add section\n            const addSection = (title, content)=>{\n                children.push(new docx__WEBPACK_IMPORTED_MODULE_1__.Paragraph({\n                    children: [\n                        new docx__WEBPACK_IMPORTED_MODULE_1__.TextRun({\n                            text: title,\n                            bold: true,\n                            size: WORD_FONT_SIZES.SECTION_HEADER,\n                            underline: {\n                                type: docx__WEBPACK_IMPORTED_MODULE_1__.UnderlineType.SINGLE\n                            }\n                        })\n                    ],\n                    heading: docx__WEBPACK_IMPORTED_MODULE_1__.HeadingLevel.HEADING_2,\n                    spacing: {\n                        before: 400,\n                        after: 200\n                    }\n                }));\n                children.push(...content);\n            };\n            // Add sections based on enabled state\n            if (enabledSections.warmup && lessonData.sections.warmup) {\n                const warmupQuestions = Array.isArray(lessonData.sections.warmup) ? lessonData.sections.warmup : [];\n                const warmupContent = warmupQuestions.map((question, index)=>{\n                    // First item is the instruction with light green background\n                    if (index === 0) {\n                        return new docx__WEBPACK_IMPORTED_MODULE_1__.Paragraph({\n                            children: [\n                                new docx__WEBPACK_IMPORTED_MODULE_1__.TextRun({\n                                    text: question,\n                                    size: WORD_FONT_SIZES.INSTRUCTIONS,\n                                    italics: true\n                                })\n                            ],\n                            spacing: {\n                                after: 200\n                            },\n                            shading: {\n                                fill: \"EEF7DC\"\n                            },\n                            border: {\n                                left: {\n                                    color: \"CCCCCC\",\n                                    size: 6,\n                                    style: \"single\"\n                                }\n                            }\n                        });\n                    } else {\n                        // Rest are actual questions (renumber starting from 1)\n                        return new docx__WEBPACK_IMPORTED_MODULE_1__.Paragraph({\n                            children: [\n                                new docx__WEBPACK_IMPORTED_MODULE_1__.TextRun({\n                                    text: \"\".concat(index, \". \").concat(question),\n                                    size: WORD_FONT_SIZES.MAIN_CONTENT\n                                })\n                            ],\n                            spacing: {\n                                after: 150\n                            }\n                        });\n                    }\n                });\n                addSection(\"Warm-up Questions\", warmupContent);\n            }\n            if (enabledSections.vocabulary && lessonData.sections.vocabulary) {\n                const vocabContent = [];\n                const vocabularyItems = Array.isArray(lessonData.sections.vocabulary) ? lessonData.sections.vocabulary : [];\n                vocabularyItems.forEach((item, index)=>{\n                    // First item might be an instruction\n                    if (index === 0 && item.word === \"INSTRUCTION\") {\n                        vocabContent.push(new docx__WEBPACK_IMPORTED_MODULE_1__.Paragraph({\n                            children: [\n                                new docx__WEBPACK_IMPORTED_MODULE_1__.TextRun({\n                                    text: item.meaning,\n                                    size: WORD_FONT_SIZES.INSTRUCTIONS,\n                                    italics: true\n                                })\n                            ],\n                            spacing: {\n                                after: 200\n                            },\n                            shading: {\n                                fill: \"F1FAFF\"\n                            },\n                            border: {\n                                left: {\n                                    color: \"CCCCCC\",\n                                    size: 6,\n                                    style: \"single\"\n                                }\n                            }\n                        }));\n                        return;\n                    }\n                    vocabContent.push(new docx__WEBPACK_IMPORTED_MODULE_1__.Paragraph({\n                        children: [\n                            new docx__WEBPACK_IMPORTED_MODULE_1__.TextRun({\n                                text: \"\".concat(index + 1, \". \").concat(item.word),\n                                bold: true,\n                                size: WORD_FONT_SIZES.MAIN_CONTENT\n                            })\n                        ],\n                        spacing: {\n                            after: 100\n                        }\n                    }));\n                    vocabContent.push(new docx__WEBPACK_IMPORTED_MODULE_1__.Paragraph({\n                        children: [\n                            new docx__WEBPACK_IMPORTED_MODULE_1__.TextRun({\n                                text: \"   Meaning: \".concat(item.meaning),\n                                size: WORD_FONT_SIZES.MAIN_CONTENT\n                            })\n                        ],\n                        spacing: {\n                            after: 100\n                        }\n                    }));\n                    // Handle both old format (example) and new format (examples array)\n                    if (item.examples && Array.isArray(item.examples) && item.examples.length > 0) {\n                        vocabContent.push(new docx__WEBPACK_IMPORTED_MODULE_1__.Paragraph({\n                            children: [\n                                new docx__WEBPACK_IMPORTED_MODULE_1__.TextRun({\n                                    text: \"   Examples:\",\n                                    size: WORD_FONT_SIZES.INSTRUCTIONS,\n                                    bold: true\n                                })\n                            ],\n                            spacing: {\n                                after: 100\n                            }\n                        }));\n                        // Additional safety check before forEach\n                        const examples = Array.isArray(item.examples) ? item.examples : [];\n                        examples.forEach((example, exIndex)=>{\n                            vocabContent.push(new docx__WEBPACK_IMPORTED_MODULE_1__.Paragraph({\n                                children: [\n                                    new docx__WEBPACK_IMPORTED_MODULE_1__.TextRun({\n                                        text: \"      \".concat(exIndex + 1, '. \"').concat(example, '\"'),\n                                        size: WORD_FONT_SIZES.SUPPLEMENTARY,\n                                        italics: true\n                                    })\n                                ],\n                                spacing: {\n                                    after: 100\n                                }\n                            }));\n                        });\n                        vocabContent.push(new docx__WEBPACK_IMPORTED_MODULE_1__.Paragraph({\n                            children: [\n                                new docx__WEBPACK_IMPORTED_MODULE_1__.TextRun({\n                                    text: \"\"\n                                })\n                            ],\n                            spacing: {\n                                after: 100\n                            }\n                        }));\n                    } else if (item.example) {\n                        vocabContent.push(new docx__WEBPACK_IMPORTED_MODULE_1__.Paragraph({\n                            children: [\n                                new docx__WEBPACK_IMPORTED_MODULE_1__.TextRun({\n                                    text: '   Example: \"'.concat(item.example, '\"'),\n                                    size: WORD_FONT_SIZES.SUPPLEMENTARY,\n                                    italics: true\n                                })\n                            ],\n                            spacing: {\n                                after: 200\n                            }\n                        }));\n                    }\n                });\n                addSection(\"Key Vocabulary\", vocabContent);\n            }\n            if (enabledSections.reading && lessonData.sections.reading) {\n                const readingText = lessonData.sections.reading;\n                const parts = readingText.split(\"\\n\\n\");\n                const readingContent = [];\n                // Check if first part is an instruction\n                if (parts.length > 1 && parts[0].includes(\"Read the following text carefully\")) {\n                    // Add instruction with light green background\n                    readingContent.push(new docx__WEBPACK_IMPORTED_MODULE_1__.Paragraph({\n                        children: [\n                            new docx__WEBPACK_IMPORTED_MODULE_1__.TextRun({\n                                text: parts[0],\n                                size: WORD_FONT_SIZES.INSTRUCTIONS,\n                                italics: true\n                            })\n                        ],\n                        spacing: {\n                            after: 200\n                        },\n                        shading: {\n                            fill: \"EEF7DC\"\n                        },\n                        border: {\n                            left: {\n                                color: \"CCCCCC\",\n                                size: 6,\n                                style: \"single\"\n                            }\n                        }\n                    }));\n                    // Add the rest of the reading passage\n                    readingContent.push(new docx__WEBPACK_IMPORTED_MODULE_1__.Paragraph({\n                        children: [\n                            new docx__WEBPACK_IMPORTED_MODULE_1__.TextRun({\n                                text: parts.slice(1).join(\"\\n\\n\"),\n                                size: WORD_FONT_SIZES.MAIN_CONTENT\n                            })\n                        ],\n                        spacing: {\n                            after: 200\n                        }\n                    }));\n                } else {\n                    // No instruction, display as before\n                    readingContent.push(new docx__WEBPACK_IMPORTED_MODULE_1__.Paragraph({\n                        children: [\n                            new docx__WEBPACK_IMPORTED_MODULE_1__.TextRun({\n                                text: readingText,\n                                size: WORD_FONT_SIZES.MAIN_CONTENT\n                            })\n                        ],\n                        spacing: {\n                            after: 200\n                        }\n                    }));\n                }\n                addSection(\"Reading Passage\", readingContent);\n            }\n            if (enabledSections.comprehension && lessonData.sections.comprehension) {\n                const comprehensionQuestions = Array.isArray(lessonData.sections.comprehension) ? lessonData.sections.comprehension : [];\n                const comprehensionContent = comprehensionQuestions.map((question, index)=>{\n                    // First item is the instruction with light blue background\n                    if (index === 0) {\n                        return new docx__WEBPACK_IMPORTED_MODULE_1__.Paragraph({\n                            children: [\n                                new docx__WEBPACK_IMPORTED_MODULE_1__.TextRun({\n                                    text: question,\n                                    size: WORD_FONT_SIZES.INSTRUCTIONS,\n                                    italics: true\n                                })\n                            ],\n                            spacing: {\n                                after: 200\n                            },\n                            shading: {\n                                fill: \"F1FAFF\"\n                            },\n                            border: {\n                                left: {\n                                    color: \"CCCCCC\",\n                                    size: 6,\n                                    style: \"single\"\n                                }\n                            }\n                        });\n                    } else {\n                        // Rest are actual questions (renumber starting from 1)\n                        return new docx__WEBPACK_IMPORTED_MODULE_1__.Paragraph({\n                            children: [\n                                new docx__WEBPACK_IMPORTED_MODULE_1__.TextRun({\n                                    text: \"\".concat(index, \". \").concat(question),\n                                    size: WORD_FONT_SIZES.MAIN_CONTENT\n                                })\n                            ],\n                            spacing: {\n                                after: 150\n                            }\n                        });\n                    }\n                });\n                addSection(\"Reading Comprehension\", comprehensionContent);\n            }\n            if (enabledSections.discussion && lessonData.sections.discussion) {\n                const discussionQuestions = Array.isArray(lessonData.sections.discussion) ? lessonData.sections.discussion : [];\n                const discussionContent = discussionQuestions.map((question, index)=>{\n                    // First item is the instruction with light green background\n                    if (index === 0) {\n                        return new docx__WEBPACK_IMPORTED_MODULE_1__.Paragraph({\n                            children: [\n                                new docx__WEBPACK_IMPORTED_MODULE_1__.TextRun({\n                                    text: question,\n                                    size: WORD_FONT_SIZES.INSTRUCTIONS,\n                                    italics: true\n                                })\n                            ],\n                            spacing: {\n                                after: 200\n                            },\n                            shading: {\n                                fill: \"EEF7DC\"\n                            },\n                            border: {\n                                left: {\n                                    color: \"CCCCCC\",\n                                    size: 6,\n                                    style: \"single\"\n                                }\n                            }\n                        });\n                    } else {\n                        // Rest are actual questions (renumber starting from 1)\n                        return new docx__WEBPACK_IMPORTED_MODULE_1__.Paragraph({\n                            children: [\n                                new docx__WEBPACK_IMPORTED_MODULE_1__.TextRun({\n                                    text: \"\".concat(index, \". \").concat(question),\n                                    size: WORD_FONT_SIZES.MAIN_CONTENT\n                                })\n                            ],\n                            spacing: {\n                                after: 150\n                            }\n                        });\n                    }\n                });\n                addSection(\"Discussion Questions\", discussionContent);\n            }\n            if (enabledSections.dialoguePractice && lessonData.sections.dialoguePractice) {\n                const dialoguePracticeContent = [];\n                const dialogueSection = lessonData.sections.dialoguePractice;\n                // Add instruction with light green background (#EEF7DC)\n                dialoguePracticeContent.push(new docx__WEBPACK_IMPORTED_MODULE_1__.Paragraph({\n                    children: [\n                        new docx__WEBPACK_IMPORTED_MODULE_1__.TextRun({\n                            text: dialogueSection.instruction,\n                            size: WORD_FONT_SIZES.INSTRUCTIONS,\n                            italics: true\n                        })\n                    ],\n                    spacing: {\n                        after: 200\n                    },\n                    shading: {\n                        fill: \"EEF7DC\"\n                    },\n                    border: {\n                        left: {\n                            color: \"CCCCCC\",\n                            size: 6,\n                            style: \"single\"\n                        }\n                    }\n                }));\n                // Enhance dialogue with avatar names\n                const enhancedDialogue = (0,_avatar_utils__WEBPACK_IMPORTED_MODULE_2__.enhanceDialogueWithAvatars)(dialogueSection.dialogue, lessonData.id, \"dialoguePractice\");\n                // Add dialogue lines with character names in bold and 3px spacing between lines\n                const dialogueLines = Array.isArray(enhancedDialogue) ? enhancedDialogue : [];\n                dialogueLines.forEach((line, index)=>{\n                    dialoguePracticeContent.push(new docx__WEBPACK_IMPORTED_MODULE_1__.Paragraph({\n                        children: [\n                            new docx__WEBPACK_IMPORTED_MODULE_1__.TextRun({\n                                text: \"\".concat(line.character, \": \"),\n                                bold: true,\n                                size: WORD_FONT_SIZES.MAIN_CONTENT\n                            }),\n                            new docx__WEBPACK_IMPORTED_MODULE_1__.TextRun({\n                                text: line.line,\n                                size: WORD_FONT_SIZES.MAIN_CONTENT\n                            })\n                        ],\n                        spacing: {\n                            before: index === 0 ? 0 : 60,\n                            after: 0\n                        }\n                    }));\n                });\n                // Add follow-up questions if any\n                if (dialogueSection.followUpQuestions && dialogueSection.followUpQuestions.length > 0) {\n                    dialoguePracticeContent.push(new docx__WEBPACK_IMPORTED_MODULE_1__.Paragraph({\n                        children: [\n                            new docx__WEBPACK_IMPORTED_MODULE_1__.TextRun({\n                                text: \"Follow-up Questions:\",\n                                bold: true,\n                                size: WORD_FONT_SIZES.INSTRUCTIONS\n                            })\n                        ],\n                        spacing: {\n                            before: 200,\n                            after: 100\n                        }\n                    }));\n                    const followUpQuestions = Array.isArray(dialogueSection.followUpQuestions) ? dialogueSection.followUpQuestions : [];\n                    followUpQuestions.forEach((question, index)=>{\n                        dialoguePracticeContent.push(new docx__WEBPACK_IMPORTED_MODULE_1__.Paragraph({\n                            children: [\n                                new docx__WEBPACK_IMPORTED_MODULE_1__.TextRun({\n                                    text: \"\".concat(index + 1, \". \").concat(question),\n                                    size: WORD_FONT_SIZES.MAIN_CONTENT\n                                })\n                            ],\n                            spacing: {\n                                after: 100\n                            }\n                        }));\n                    });\n                }\n                addSection(\"Dialogue Practice\", dialoguePracticeContent);\n            }\n            if (enabledSections.dialogueFillGap && lessonData.sections.dialogueFillGap) {\n                const dialogueFillGapContent = [];\n                const dialogueSection = lessonData.sections.dialogueFillGap;\n                // Add instruction with light blue background (#F1FAFF)\n                dialogueFillGapContent.push(new docx__WEBPACK_IMPORTED_MODULE_1__.Paragraph({\n                    children: [\n                        new docx__WEBPACK_IMPORTED_MODULE_1__.TextRun({\n                            text: dialogueSection.instruction,\n                            size: WORD_FONT_SIZES.INSTRUCTIONS,\n                            italics: true\n                        })\n                    ],\n                    spacing: {\n                        after: 200\n                    },\n                    shading: {\n                        fill: \"F1FAFF\"\n                    },\n                    border: {\n                        left: {\n                            color: \"CCCCCC\",\n                            size: 6,\n                            style: \"single\"\n                        }\n                    }\n                }));\n                // Enhance dialogue with avatar names\n                const enhancedDialogue = (0,_avatar_utils__WEBPACK_IMPORTED_MODULE_2__.enhanceDialogueWithAvatars)(dialogueSection.dialogue, lessonData.id, \"dialogueFillGap\");\n                // Add dialogue lines with character names in bold and 3px spacing between lines\n                const dialogueFillGapLines = Array.isArray(enhancedDialogue) ? enhancedDialogue : [];\n                dialogueFillGapLines.forEach((line, index)=>{\n                    dialogueFillGapContent.push(new docx__WEBPACK_IMPORTED_MODULE_1__.Paragraph({\n                        children: [\n                            new docx__WEBPACK_IMPORTED_MODULE_1__.TextRun({\n                                text: \"\".concat(line.character, \": \"),\n                                bold: true,\n                                size: WORD_FONT_SIZES.MAIN_CONTENT\n                            }),\n                            new docx__WEBPACK_IMPORTED_MODULE_1__.TextRun({\n                                text: line.line,\n                                size: WORD_FONT_SIZES.MAIN_CONTENT\n                            })\n                        ],\n                        spacing: {\n                            before: index === 0 ? 0 : 60,\n                            after: 0\n                        }\n                    }));\n                });\n                // Add answer key if any\n                if (dialogueSection.answers && dialogueSection.answers.length > 0) {\n                    dialogueFillGapContent.push(new docx__WEBPACK_IMPORTED_MODULE_1__.Paragraph({\n                        children: [\n                            new docx__WEBPACK_IMPORTED_MODULE_1__.TextRun({\n                                text: \"Answer Key:\",\n                                bold: true,\n                                size: WORD_FONT_SIZES.INSTRUCTIONS\n                            })\n                        ],\n                        spacing: {\n                            before: 200,\n                            after: 100\n                        }\n                    }));\n                    dialogueFillGapContent.push(new docx__WEBPACK_IMPORTED_MODULE_1__.Paragraph({\n                        children: [\n                            new docx__WEBPACK_IMPORTED_MODULE_1__.TextRun({\n                                text: dialogueSection.answers.join(\", \"),\n                                size: WORD_FONT_SIZES.SUPPLEMENTARY\n                            })\n                        ],\n                        spacing: {\n                            after: 100\n                        }\n                    }));\n                }\n                addSection(\"Dialogue Fill-in-the-Gap\", dialogueFillGapContent);\n            }\n            if (enabledSections.grammar && lessonData.sections.grammar) {\n                const grammarContent = [];\n                grammarContent.push(new docx__WEBPACK_IMPORTED_MODULE_1__.Paragraph({\n                    children: [\n                        new docx__WEBPACK_IMPORTED_MODULE_1__.TextRun({\n                            text: \"Focus: \".concat(lessonData.sections.grammar.focus),\n                            bold: true,\n                            size: WORD_FONT_SIZES.MAIN_CONTENT\n                        })\n                    ],\n                    spacing: {\n                        after: 200\n                    }\n                }));\n                grammarContent.push(new docx__WEBPACK_IMPORTED_MODULE_1__.Paragraph({\n                    children: [\n                        new docx__WEBPACK_IMPORTED_MODULE_1__.TextRun({\n                            text: \"Examples:\",\n                            bold: true,\n                            size: WORD_FONT_SIZES.INSTRUCTIONS\n                        })\n                    ],\n                    spacing: {\n                        after: 100\n                    }\n                }));\n                const grammarExamples = Array.isArray(lessonData.sections.grammar.examples) ? lessonData.sections.grammar.examples : [];\n                grammarExamples.forEach((example)=>{\n                    grammarContent.push(new docx__WEBPACK_IMPORTED_MODULE_1__.Paragraph({\n                        children: [\n                            new docx__WEBPACK_IMPORTED_MODULE_1__.TextRun({\n                                text: \"• \".concat(example),\n                                size: WORD_FONT_SIZES.SUPPLEMENTARY\n                            })\n                        ],\n                        spacing: {\n                            after: 100\n                        }\n                    }));\n                });\n                grammarContent.push(new docx__WEBPACK_IMPORTED_MODULE_1__.Paragraph({\n                    children: [\n                        new docx__WEBPACK_IMPORTED_MODULE_1__.TextRun({\n                            text: \"Practice Exercise:\",\n                            bold: true,\n                            size: WORD_FONT_SIZES.INSTRUCTIONS\n                        })\n                    ],\n                    spacing: {\n                        before: 200,\n                        after: 100\n                    }\n                }));\n                const grammarExercises = Array.isArray(lessonData.sections.grammar.exercise) ? lessonData.sections.grammar.exercise : [];\n                grammarExercises.forEach((exercise, index)=>{\n                    grammarContent.push(new docx__WEBPACK_IMPORTED_MODULE_1__.Paragraph({\n                        children: [\n                            new docx__WEBPACK_IMPORTED_MODULE_1__.TextRun({\n                                text: \"\".concat(index + 1, \". \").concat(exercise),\n                                size: WORD_FONT_SIZES.MAIN_CONTENT\n                            })\n                        ],\n                        spacing: {\n                            after: 100\n                        }\n                    }));\n                });\n                addSection(\"Grammar Focus\", grammarContent);\n            }\n            if (enabledSections.pronunciation && lessonData.sections.pronunciation) {\n                const pronSection = lessonData.sections.pronunciation;\n                const pronunciationContent = [];\n                // Handle both old format (single word) and new format (words array)\n                if (pronSection.words && Array.isArray(pronSection.words) && pronSection.words.length > 0) {\n                    // New format with multiple words\n                    pronSection.words.forEach((wordItem, index)=>{\n                        if (index > 0) {\n                            // Add spacing between words\n                            pronunciationContent.push(new docx__WEBPACK_IMPORTED_MODULE_1__.Paragraph({\n                                children: [\n                                    new docx__WEBPACK_IMPORTED_MODULE_1__.TextRun({\n                                        text: \"\"\n                                    })\n                                ],\n                                spacing: {\n                                    before: 200\n                                }\n                            }));\n                        }\n                        pronunciationContent.push(new docx__WEBPACK_IMPORTED_MODULE_1__.Paragraph({\n                            children: [\n                                new docx__WEBPACK_IMPORTED_MODULE_1__.TextRun({\n                                    text: \"Word: \".concat(wordItem.word || \"N/A\"),\n                                    bold: true,\n                                    size: WORD_FONT_SIZES.MAIN_CONTENT\n                                })\n                            ],\n                            spacing: {\n                                after: 100\n                            }\n                        }));\n                        pronunciationContent.push(new docx__WEBPACK_IMPORTED_MODULE_1__.Paragraph({\n                            children: [\n                                new docx__WEBPACK_IMPORTED_MODULE_1__.TextRun({\n                                    text: \"IPA: \".concat(wordItem.ipa || \"N/A\"),\n                                    size: WORD_FONT_SIZES.SUPPLEMENTARY\n                                })\n                            ],\n                            spacing: {\n                                after: 100\n                            }\n                        }));\n                        if (wordItem.practiceSentence) {\n                            pronunciationContent.push(new docx__WEBPACK_IMPORTED_MODULE_1__.Paragraph({\n                                children: [\n                                    new docx__WEBPACK_IMPORTED_MODULE_1__.TextRun({\n                                        text: 'Practice: \"'.concat(wordItem.practiceSentence, '\"'),\n                                        size: WORD_FONT_SIZES.MAIN_CONTENT,\n                                        italics: true\n                                    })\n                                ],\n                                spacing: {\n                                    after: 100\n                                }\n                            }));\n                        }\n                        if (wordItem.tips && wordItem.tips.length > 0) {\n                            pronunciationContent.push(new docx__WEBPACK_IMPORTED_MODULE_1__.Paragraph({\n                                children: [\n                                    new docx__WEBPACK_IMPORTED_MODULE_1__.TextRun({\n                                        text: \"Tips:\",\n                                        bold: true,\n                                        size: WORD_FONT_SIZES.INSTRUCTIONS\n                                    })\n                                ],\n                                spacing: {\n                                    after: 100\n                                }\n                            }));\n                            wordItem.tips.forEach((tip)=>{\n                                pronunciationContent.push(new docx__WEBPACK_IMPORTED_MODULE_1__.Paragraph({\n                                    children: [\n                                        new docx__WEBPACK_IMPORTED_MODULE_1__.TextRun({\n                                            text: \"• \".concat(tip),\n                                            size: WORD_FONT_SIZES.SUPPLEMENTARY\n                                        })\n                                    ],\n                                    spacing: {\n                                        after: 100\n                                    }\n                                }));\n                            });\n                        }\n                    });\n                } else if (pronSection.word) {\n                    // Old format with single word\n                    pronunciationContent.push(new docx__WEBPACK_IMPORTED_MODULE_1__.Paragraph({\n                        children: [\n                            new docx__WEBPACK_IMPORTED_MODULE_1__.TextRun({\n                                text: \"Word: \".concat(pronSection.word || \"N/A\"),\n                                bold: true,\n                                size: WORD_FONT_SIZES.MAIN_CONTENT\n                            })\n                        ],\n                        spacing: {\n                            after: 150\n                        }\n                    }));\n                    pronunciationContent.push(new docx__WEBPACK_IMPORTED_MODULE_1__.Paragraph({\n                        children: [\n                            new docx__WEBPACK_IMPORTED_MODULE_1__.TextRun({\n                                text: \"IPA: \".concat(pronSection.ipa || \"N/A\"),\n                                size: WORD_FONT_SIZES.SUPPLEMENTARY\n                            })\n                        ],\n                        spacing: {\n                            after: 150\n                        }\n                    }));\n                    if (pronSection.practice) {\n                        pronunciationContent.push(new docx__WEBPACK_IMPORTED_MODULE_1__.Paragraph({\n                            children: [\n                                new docx__WEBPACK_IMPORTED_MODULE_1__.TextRun({\n                                    text: 'Practice: \"'.concat(pronSection.practice, '\"'),\n                                    size: WORD_FONT_SIZES.MAIN_CONTENT,\n                                    italics: true\n                                })\n                            ],\n                            spacing: {\n                                after: 200\n                            }\n                        }));\n                    }\n                } else {\n                    pronunciationContent.push(new docx__WEBPACK_IMPORTED_MODULE_1__.Paragraph({\n                        children: [\n                            new docx__WEBPACK_IMPORTED_MODULE_1__.TextRun({\n                                text: \"No pronunciation data available\",\n                                size: WORD_FONT_SIZES.MAIN_CONTENT\n                            })\n                        ],\n                        spacing: {\n                            after: 200\n                        }\n                    }));\n                }\n                addSection(\"Pronunciation Practice\", pronunciationContent);\n            }\n            if (enabledSections.wrapup && lessonData.sections.wrapup) {\n                const wrapupQuestions = Array.isArray(lessonData.sections.wrapup) ? lessonData.sections.wrapup : [];\n                const wrapupContent = wrapupQuestions.map((question, index)=>{\n                    // First item is the instruction with light green background\n                    if (index === 0) {\n                        return new docx__WEBPACK_IMPORTED_MODULE_1__.Paragraph({\n                            children: [\n                                new docx__WEBPACK_IMPORTED_MODULE_1__.TextRun({\n                                    text: question,\n                                    size: WORD_FONT_SIZES.INSTRUCTIONS,\n                                    italics: true\n                                })\n                            ],\n                            spacing: {\n                                after: 200\n                            },\n                            shading: {\n                                fill: \"EEF7DC\"\n                            },\n                            border: {\n                                left: {\n                                    color: \"CCCCCC\",\n                                    size: 6,\n                                    style: \"single\"\n                                }\n                            }\n                        });\n                    } else {\n                        // Rest are actual questions (renumber starting from 1)\n                        return new docx__WEBPACK_IMPORTED_MODULE_1__.Paragraph({\n                            children: [\n                                new docx__WEBPACK_IMPORTED_MODULE_1__.TextRun({\n                                    text: \"\".concat(index, \". \").concat(question),\n                                    size: WORD_FONT_SIZES.MAIN_CONTENT\n                                })\n                            ],\n                            spacing: {\n                                after: 150\n                            }\n                        });\n                    }\n                });\n                addSection(\"Lesson Wrap-up\", wrapupContent);\n            }\n            // Footer\n            children.push(new docx__WEBPACK_IMPORTED_MODULE_1__.Paragraph({\n                children: [\n                    new docx__WEBPACK_IMPORTED_MODULE_1__.TextRun({\n                        text: \"Generated by LinguaSpark\",\n                        size: WORD_FONT_SIZES.SUPPLEMENTARY,\n                        italics: true\n                    })\n                ],\n                alignment: docx__WEBPACK_IMPORTED_MODULE_1__.AlignmentType.CENTER,\n                spacing: {\n                    before: 600\n                }\n            }));\n            // Create document\n            const doc = new docx__WEBPACK_IMPORTED_MODULE_1__.Document({\n                sections: [\n                    {\n                        properties: {},\n                        children: children\n                    }\n                ]\n            });\n            // Generate and download\n            console.log(\"Creating Word document...\");\n            const buffer = await docx__WEBPACK_IMPORTED_MODULE_1__.Packer.toBuffer(doc);\n            console.log(\"Document buffer created, size:\", buffer.byteLength);\n            const blob = new Blob([\n                buffer\n            ], {\n                type: \"application/vnd.openxmlformats-officedocument.wordprocessingml.document\"\n            });\n            const url = URL.createObjectURL(blob);\n            const fileName = \"\".concat(lessonData.lessonType, \"-lesson-\").concat(lessonData.studentLevel, \"-\").concat(Date.now(), \".docx\");\n            console.log(\"Downloading Word document with filename:\", fileName);\n            const link = document.createElement(\"a\");\n            link.href = url;\n            link.download = fileName;\n            document.body.appendChild(link);\n            link.click();\n            document.body.removeChild(link);\n            URL.revokeObjectURL(url);\n            console.log(\"Word export completed successfully\");\n        } catch (error) {\n            console.error(\"Word export error:\", error);\n            throw new Error(\"Word export failed: \".concat(error instanceof Error ? error.message : \"Unknown error\"));\n        }\n    }\n}\nconst lessonExporter = new LessonExporter();\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUFpQixJQUFJdE0saUJBQWdCIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vX05fRS8uL2xpYi9leHBvcnQtdXRpbHMudHM/MTBkNCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQganNQREYgZnJvbSBcImpzcGRmXCJcbmltcG9ydCB7IERvY3VtZW50LCBQYWNrZXIsIFBhcmFncmFwaCwgVGV4dFJ1biwgSGVhZGluZ0xldmVsLCBBbGlnbm1lbnRUeXBlLCBVbmRlcmxpbmVUeXBlIH0gZnJvbSBcImRvY3hcIlxuaW1wb3J0IHsgZW5oYW5jZURpYWxvZ3VlV2l0aEF2YXRhcnMgfSBmcm9tIFwiLi9hdmF0YXItdXRpbHNcIlxuXG5pbnRlcmZhY2UgTGVzc29uRGF0YSB7XG4gIGxlc3NvblRpdGxlOiBzdHJpbmdcbiAgbGVzc29uVHlwZTogc3RyaW5nXG4gIHN0dWRlbnRMZXZlbDogc3RyaW5nXG4gIHRhcmdldExhbmd1YWdlOiBzdHJpbmdcbiAgaWQ/OiBzdHJpbmdcbiAgc2VjdGlvbnM6IHtcbiAgICB3YXJtdXA6IHN0cmluZ1tdXG4gICAgdm9jYWJ1bGFyeTogQXJyYXk8eyB3b3JkOiBzdHJpbmc7IG1lYW5pbmc6IHN0cmluZzsgZXhhbXBsZT86IHN0cmluZzsgZXhhbXBsZXM/OiBzdHJpbmdbXSB9PlxuICAgIHJlYWRpbmc6IHN0cmluZ1xuICAgIGNvbXByZWhlbnNpb246IHN0cmluZ1tdXG4gICAgZGlzY3Vzc2lvbjogc3RyaW5nW11cbiAgICBkaWFsb2d1ZVByYWN0aWNlPzoge1xuICAgICAgaW5zdHJ1Y3Rpb246IHN0cmluZ1xuICAgICAgZGlhbG9ndWU6IEFycmF5PHsgY2hhcmFjdGVyOiBzdHJpbmc7IGxpbmU6IHN0cmluZyB9PlxuICAgICAgZm9sbG93VXBRdWVzdGlvbnM6IHN0cmluZ1tdXG4gICAgfVxuICAgIGRpYWxvZ3VlRmlsbEdhcD86IHtcbiAgICAgIGluc3RydWN0aW9uOiBzdHJpbmdcbiAgICAgIGRpYWxvZ3VlOiBBcnJheTx7IGNoYXJhY3Rlcjogc3RyaW5nOyBsaW5lOiBzdHJpbmc7IGlzR2FwPzogYm9vbGVhbiB9PlxuICAgICAgYW5zd2Vyczogc3RyaW5nW11cbiAgICB9XG4gICAgZ3JhbW1hcjoge1xuICAgICAgZm9jdXM6IHN0cmluZ1xuICAgICAgZXhhbXBsZXM6IHN0cmluZ1tdXG4gICAgICBleGVyY2lzZTogc3RyaW5nW11cbiAgICB9XG4gICAgcHJvbnVuY2lhdGlvbjoge1xuICAgICAgd29yZDogc3RyaW5nXG4gICAgICBpcGE6IHN0cmluZ1xuICAgICAgcHJhY3RpY2U6IHN0cmluZ1xuICAgIH1cbiAgICB3cmFwdXA6IHN0cmluZ1tdXG4gIH1cbn1cblxuZXhwb3J0IGNsYXNzIExlc3NvbkV4cG9ydGVyIHtcbiAgcHJpdmF0ZSBmb3JtYXREYXRlKCk6IHN0cmluZyB7XG4gICAgcmV0dXJuIG5ldyBEYXRlKCkudG9Mb2NhbGVEYXRlU3RyaW5nKFwiZW4tVVNcIiwge1xuICAgICAgeWVhcjogXCJudW1lcmljXCIsXG4gICAgICBtb250aDogXCJsb25nXCIsXG4gICAgICBkYXk6IFwibnVtZXJpY1wiLFxuICAgIH0pXG4gIH1cblxuXG5cbiAgcHJpdmF0ZSB2YWxpZGF0ZUxlc3NvbkRhdGEobGVzc29uRGF0YTogTGVzc29uRGF0YSk6IHZvaWQge1xuICAgIGNvbnNvbGUubG9nKCdWYWxpZGF0aW5nIGxlc3NvbiBkYXRhOicsIGxlc3NvbkRhdGEpXG5cbiAgICBpZiAoIWxlc3NvbkRhdGEpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignTGVzc29uIGRhdGEgaXMgcmVxdWlyZWQnKVxuICAgIH1cbiAgICBpZiAoIWxlc3NvbkRhdGEubGVzc29uVGl0bGUpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignQUktZ2VuZXJhdGVkIGxlc3NvbiB0aXRsZSBpcyByZXF1aXJlZCcpXG4gICAgfVxuICAgIGlmICghbGVzc29uRGF0YS5sZXNzb25UeXBlKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ0xlc3NvbiB0eXBlIGlzIHJlcXVpcmVkJylcbiAgICB9XG4gICAgaWYgKCFsZXNzb25EYXRhLnN0dWRlbnRMZXZlbCkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdTdHVkZW50IGxldmVsIGlzIHJlcXVpcmVkJylcbiAgICB9XG4gICAgaWYgKCFsZXNzb25EYXRhLnRhcmdldExhbmd1YWdlKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ1RhcmdldCBsYW5ndWFnZSBpcyByZXF1aXJlZCcpXG4gICAgfVxuICAgIGlmICghbGVzc29uRGF0YS5zZWN0aW9ucykge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdMZXNzb24gc2VjdGlvbnMgYXJlIHJlcXVpcmVkJylcbiAgICB9XG5cbiAgICAvLyBWYWxpZGF0ZSBzZWN0aW9ucyBzdHJ1Y3R1cmUgd2l0aCBkZXRhaWxlZCBsb2dnaW5nXG4gICAgY29uc3Qgc2VjdGlvbnMgPSBsZXNzb25EYXRhLnNlY3Rpb25zXG4gICAgY29uc29sZS5sb2coJ1ZhbGlkYXRpbmcgc2VjdGlvbiB0eXBlczonLCB7XG4gICAgICB3YXJtdXA6IHsgdHlwZTogdHlwZW9mIHNlY3Rpb25zLndhcm11cCwgaXNBcnJheTogQXJyYXkuaXNBcnJheShzZWN0aW9ucy53YXJtdXApLCB2YWx1ZTogc2VjdGlvbnMud2FybXVwIH0sXG4gICAgICB2b2NhYnVsYXJ5OiB7IHR5cGU6IHR5cGVvZiBzZWN0aW9ucy52b2NhYnVsYXJ5LCBpc0FycmF5OiBBcnJheS5pc0FycmF5KHNlY3Rpb25zLnZvY2FidWxhcnkpLCBsZW5ndGg6IHNlY3Rpb25zLnZvY2FidWxhcnk/Lmxlbmd0aCB9LFxuICAgICAgcmVhZGluZzogeyB0eXBlOiB0eXBlb2Ygc2VjdGlvbnMucmVhZGluZywgbGVuZ3RoOiBzZWN0aW9ucy5yZWFkaW5nPy5sZW5ndGggfSxcbiAgICAgIGNvbXByZWhlbnNpb246IHsgdHlwZTogdHlwZW9mIHNlY3Rpb25zLmNvbXByZWhlbnNpb24sIGlzQXJyYXk6IEFycmF5LmlzQXJyYXkoc2VjdGlvbnMuY29tcHJlaGVuc2lvbiksIGxlbmd0aDogc2VjdGlvbnMuY29tcHJlaGVuc2lvbj8ubGVuZ3RoIH0sXG4gICAgICBkaXNjdXNzaW9uOiB7IHR5cGU6IHR5cGVvZiBzZWN0aW9ucy5kaXNjdXNzaW9uLCBpc0FycmF5OiBBcnJheS5pc0FycmF5KHNlY3Rpb25zLmRpc2N1c3Npb24pLCBsZW5ndGg6IHNlY3Rpb25zLmRpc2N1c3Npb24/Lmxlbmd0aCB9LFxuICAgICAgZ3JhbW1hcjogeyB0eXBlOiB0eXBlb2Ygc2VjdGlvbnMuZ3JhbW1hciwgaGFzRm9jdXM6ICEhc2VjdGlvbnMuZ3JhbW1hcj8uZm9jdXMgfSxcbiAgICAgIHByb251bmNpYXRpb246IHsgdHlwZTogdHlwZW9mIHNlY3Rpb25zLnByb251bmNpYXRpb24sIGhhc1dvcmQ6ICEhc2VjdGlvbnMucHJvbnVuY2lhdGlvbj8ud29yZCB9LFxuICAgICAgd3JhcHVwOiB7IHR5cGU6IHR5cGVvZiBzZWN0aW9ucy53cmFwdXAsIGlzQXJyYXk6IEFycmF5LmlzQXJyYXkoc2VjdGlvbnMud3JhcHVwKSwgbGVuZ3RoOiBzZWN0aW9ucy53cmFwdXA/Lmxlbmd0aCB9XG4gICAgfSlcblxuICAgIGlmICghQXJyYXkuaXNBcnJheShzZWN0aW9ucy53YXJtdXApKSB7XG4gICAgICBjb25zb2xlLndhcm4oJ1dhcm11cCBzZWN0aW9uIGlzIG5vdCBhbiBhcnJheTonLCBzZWN0aW9ucy53YXJtdXApXG4gICAgfVxuICAgIGlmICghQXJyYXkuaXNBcnJheShzZWN0aW9ucy52b2NhYnVsYXJ5KSkge1xuICAgICAgY29uc29sZS53YXJuKCdWb2NhYnVsYXJ5IHNlY3Rpb24gaXMgbm90IGFuIGFycmF5OicsIHNlY3Rpb25zLnZvY2FidWxhcnkpXG4gICAgfVxuICAgIGlmICh0eXBlb2Ygc2VjdGlvbnMucmVhZGluZyAhPT0gJ3N0cmluZycpIHtcbiAgICAgIGNvbnNvbGUud2FybignUmVhZGluZyBzZWN0aW9uIGlzIG5vdCBhIHN0cmluZzonLCBzZWN0aW9ucy5yZWFkaW5nKVxuICAgIH1cbiAgICBpZiAoIUFycmF5LmlzQXJyYXkoc2VjdGlvbnMuY29tcHJlaGVuc2lvbikpIHtcbiAgICAgIGNvbnNvbGUud2FybignQ29tcHJlaGVuc2lvbiBzZWN0aW9uIGlzIG5vdCBhbiBhcnJheTonLCBzZWN0aW9ucy5jb21wcmVoZW5zaW9uKVxuICAgIH1cbiAgICBpZiAoIUFycmF5LmlzQXJyYXkoc2VjdGlvbnMuZGlzY3Vzc2lvbikpIHtcbiAgICAgIGNvbnNvbGUud2FybignRGlzY3Vzc2lvbiBzZWN0aW9uIGlzIG5vdCBhbiBhcnJheTonLCBzZWN0aW9ucy5kaXNjdXNzaW9uKVxuICAgIH1cbiAgICBpZiAoIXNlY3Rpb25zLmdyYW1tYXIgfHwgIXNlY3Rpb25zLmdyYW1tYXIuZm9jdXMpIHtcbiAgICAgIGNvbnNvbGUud2FybignR3JhbW1hciBzZWN0aW9uIGlzIG1hbGZvcm1lZDonLCBzZWN0aW9ucy5ncmFtbWFyKVxuICAgIH1cbiAgICBpZiAoIXNlY3Rpb25zLnByb251bmNpYXRpb24gfHwgIXNlY3Rpb25zLnByb251bmNpYXRpb24ud29yZCkge1xuICAgICAgY29uc29sZS53YXJuKCdQcm9udW5jaWF0aW9uIHNlY3Rpb24gaXMgbWFsZm9ybWVkOicsIHNlY3Rpb25zLnByb251bmNpYXRpb24pXG4gICAgfVxuICAgIGlmICghQXJyYXkuaXNBcnJheShzZWN0aW9ucy53cmFwdXApKSB7XG4gICAgICBjb25zb2xlLndhcm4oJ1dyYXB1cCBzZWN0aW9uIGlzIG5vdCBhbiBhcnJheTonLCBzZWN0aW9ucy53cmFwdXApXG4gICAgfVxuXG4gICAgY29uc29sZS5sb2coJ0xlc3NvbiBkYXRhIHZhbGlkYXRpb24gY29tcGxldGVkJylcbiAgfVxuXG4gIGFzeW5jIGV4cG9ydFRvUERGKGxlc3NvbkRhdGE6IExlc3NvbkRhdGEsIGVuYWJsZWRTZWN0aW9uczogUmVjb3JkPHN0cmluZywgYm9vbGVhbj4pOiBQcm9taXNlPHZvaWQ+IHtcbiAgICB0cnkge1xuICAgICAgY29uc29sZS5sb2coJ1N0YXJ0aW5nIFBERiBleHBvcnQgd2l0aCBkYXRhOicsIHsgbGVzc29uRGF0YSwgZW5hYmxlZFNlY3Rpb25zIH0pXG5cbiAgICAgIC8vIENoZWNrIGlmIHdlJ3JlIGluIGEgYnJvd3NlciBlbnZpcm9ubWVudFxuICAgICAgaWYgKHR5cGVvZiB3aW5kb3cgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignUERGIGV4cG9ydCBpcyBvbmx5IGF2YWlsYWJsZSBpbiBicm93c2VyIGVudmlyb25tZW50JylcbiAgICAgIH1cblxuICAgICAgLy8gQ2hlY2sgaWYganNQREYgaXMgYXZhaWxhYmxlXG4gICAgICBpZiAodHlwZW9mIGpzUERGID09PSAndW5kZWZpbmVkJykge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ2pzUERGIGxpYnJhcnkgaXMgbm90IGF2YWlsYWJsZScpXG4gICAgICB9XG5cbiAgICAgIGNvbnNvbGUubG9nKCdFbnZpcm9ubWVudCBjaGVja3MgcGFzc2VkJylcbiAgICAgIHRoaXMudmFsaWRhdGVMZXNzb25EYXRhKGxlc3NvbkRhdGEpXG5cbiAgICAgIC8vIEFkZGl0aW9uYWwgdmFsaWRhdGlvbiBmb3IgZW5hYmxlZCBzZWN0aW9uc1xuICAgICAgaWYgKCFlbmFibGVkU2VjdGlvbnMgfHwgT2JqZWN0LmtleXMoZW5hYmxlZFNlY3Rpb25zKS5sZW5ndGggPT09IDApIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdObyBzZWN0aW9ucyBlbmFibGVkIGZvciBleHBvcnQnKVxuICAgICAgfVxuXG4gICAgICBjb25zb2xlLmxvZygnQ3JlYXRpbmcganNQREYgaW5zdGFuY2UuLi4nKVxuICAgICAgY29uc3QgcGRmID0gbmV3IGpzUERGKClcbiAgICAgIGNvbnNvbGUubG9nKCdqc1BERiBpbnN0YW5jZSBjcmVhdGVkIHN1Y2Nlc3NmdWxseScpXG5cbiAgICAgIGxldCB5UG9zaXRpb24gPSAyMFxuICAgICAgY29uc3QgcGFnZUhlaWdodCA9IHBkZi5pbnRlcm5hbC5wYWdlU2l6ZS5oZWlnaHRcbiAgICAgIGNvbnN0IG1hcmdpbiA9IDIwXG4gICAgICBjb25zdCBsaW5lSGVpZ2h0ID0gN1xuXG4gICAgICBjb25zb2xlLmxvZygnUERGIGRpbWVuc2lvbnM6JywgeyBwYWdlSGVpZ2h0LCBtYXJnaW4sIGxpbmVIZWlnaHQgfSlcblxuICAgICAgLy8gVHlwb2dyYXBoeSBoaWVyYXJjaHkgY29uc3RhbnRzIChtYXRjaGluZyB3ZWIgaW50ZXJmYWNlKVxuICAgICAgY29uc3QgRk9OVF9TSVpFUyA9IHtcbiAgICAgICAgTEVTU09OX1RJVExFOiAzMiwgICAgICAvLyBQcmltYXJ5IGhlYWRpbmdcbiAgICAgICAgU0VDVElPTl9IRUFERVI6IDI4LCAgICAvLyBTZWNvbmRhcnkgaGVhZGluZ3NcbiAgICAgICAgTUFJTl9DT05URU5UOiAxNiwgICAgICAvLyBCb2R5IHRleHRcbiAgICAgICAgSU5TVFJVQ1RJT05TOiAxNSwgICAgICAvLyBHdWlkYW5jZSB0ZXh0XG4gICAgICAgIFNVUFBMRU1FTlRBUlk6IDE0ICAgICAgLy8gQW5zd2VyIGtleXMsIGV4cGxhbmF0aW9uc1xuICAgICAgfVxuXG4gICAgICAvLyBIZWxwZXIgZnVuY3Rpb24gdG8gYWRkIHRleHQgd2l0aCB3b3JkIHdyYXBwaW5nXG4gICAgICBjb25zdCBhZGRUZXh0ID0gKHRleHQ6IHN0cmluZywgZm9udFNpemUgPSBGT05UX1NJWkVTLk1BSU5fQ09OVEVOVCwgaXNCb2xkID0gZmFsc2UsIGlzSXRhbGljID0gZmFsc2UsIGluZGVudCA9IDApID0+IHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAvLyBTYW5pdGl6ZSB0ZXh0IHRvIHByZXZlbnQgUERGIGVycm9ycyBhbmQgc3RyaXAgbWFya2Rvd24gZm9ybWF0dGluZ1xuICAgICAgICAgIGNvbnN0IHNhbml0aXplZFRleHQgPSB0ZXh0XG4gICAgICAgICAgICAucmVwbGFjZSgvXFwqXFwqKC4qPylcXCpcXCovZywgJyQxJykgLy8gUmVtb3ZlIGJvbGQgbWFya2Rvd24gKCoqdGV4dCoqKVxuICAgICAgICAgICAgLnJlcGxhY2UoL1xcKiguKj8pXFwqL2csICckMScpIC8vIFJlbW92ZSBpdGFsaWMgbWFya2Rvd24gKCp0ZXh0KilcbiAgICAgICAgICAgIC5yZXBsYWNlKC9fXyguKj8pX18vZywgJyQxJykgLy8gUmVtb3ZlIGJvbGQgbWFya2Rvd24gKF9fdGV4dF9fKVxuICAgICAgICAgICAgLnJlcGxhY2UoL18oLio/KV8vZywgJyQxJykgLy8gUmVtb3ZlIGl0YWxpYyBtYXJrZG93biAoX3RleHRfKVxuICAgICAgICAgICAgLnJlcGxhY2UoL1tcXHUwMDAwLVxcdTAwMUZcXHUwMDdGLVxcdTAwOUZdL2csICcnKSAvLyBSZW1vdmUgY29udHJvbCBjaGFyYWN0ZXJzXG4gICAgICAgICAgICAucmVwbGFjZSgvW1xcdTIwMDAtXFx1MjA2RlxcdTJFMDAtXFx1MkU3RlxcdTMwMDAtXFx1MzAzRl0vZywgJyAnKSAvLyBSZXBsYWNlIHNwZWNpYWwgc3BhY2VzXG4gICAgICAgICAgICAudHJpbSgpXG5cbiAgICAgICAgICBpZiAoIXNhbml0aXplZFRleHQpIHtcbiAgICAgICAgICAgIGNvbnNvbGUud2FybignRW1wdHkgdGV4dCBhZnRlciBzYW5pdGl6YXRpb24sIHNraXBwaW5nJylcbiAgICAgICAgICAgIHJldHVyblxuICAgICAgICAgIH1cblxuICAgICAgICAgIGNvbnNvbGUubG9nKGBBZGRpbmcgdGV4dDogXCIke3Nhbml0aXplZFRleHQuc3Vic3RyaW5nKDAsIDUwKX0ke3Nhbml0aXplZFRleHQubGVuZ3RoID4gNTAgPyAnLi4uJyA6ICcnfVwiYClcblxuICAgICAgICAgIHBkZi5zZXRGb250U2l6ZShmb250U2l6ZSlcbiAgICAgICAgICAvLyBTZXQgZm9udCBzdHlsZSBiYXNlZCBvbiBib2xkIGFuZCBpdGFsaWMgZmxhZ3NcbiAgICAgICAgICBsZXQgZm9udFN0eWxlID0gXCJub3JtYWxcIlxuICAgICAgICAgIGlmIChpc0JvbGQgJiYgaXNJdGFsaWMpIHtcbiAgICAgICAgICAgIGZvbnRTdHlsZSA9IFwiYm9sZGl0YWxpY1wiXG4gICAgICAgICAgfSBlbHNlIGlmIChpc0JvbGQpIHtcbiAgICAgICAgICAgIGZvbnRTdHlsZSA9IFwiYm9sZFwiXG4gICAgICAgICAgfSBlbHNlIGlmIChpc0l0YWxpYykge1xuICAgICAgICAgICAgZm9udFN0eWxlID0gXCJpdGFsaWNcIlxuICAgICAgICAgIH1cbiAgICAgICAgICBwZGYuc2V0Rm9udChcImhlbHZldGljYVwiLCBmb250U3R5bGUpXG5cbiAgICAgICAgICBjb25zdCBtYXhXaWR0aCA9IHBkZi5pbnRlcm5hbC5wYWdlU2l6ZS53aWR0aCAtIG1hcmdpbiAqIDIgLSBpbmRlbnRcbiAgICAgICAgICBjb25zdCBsaW5lcyA9IHBkZi5zcGxpdFRleHRUb1NpemUoc2FuaXRpemVkVGV4dCwgbWF4V2lkdGgpXG5cbiAgICAgICAgICBmb3IgKGNvbnN0IGxpbmUgb2YgbGluZXMpIHtcbiAgICAgICAgICAgIGlmICh5UG9zaXRpb24gPiBwYWdlSGVpZ2h0IC0gMzApIHtcbiAgICAgICAgICAgICAgcGRmLmFkZFBhZ2UoKVxuICAgICAgICAgICAgICB5UG9zaXRpb24gPSAyMFxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcGRmLnRleHQobGluZSwgbWFyZ2luICsgaW5kZW50LCB5UG9zaXRpb24pXG4gICAgICAgICAgICB5UG9zaXRpb24gKz0gbGluZUhlaWdodFxuICAgICAgICAgIH1cbiAgICAgICAgICB5UG9zaXRpb24gKz0gMyAvLyBFeHRyYSBzcGFjaW5nIGFmdGVyIHRleHQgYmxvY2tcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBhZGRpbmcgdGV4dCB0byBQREY6JywgZXJyb3IsICdUZXh0OicsIHRleHQpXG4gICAgICAgICAgdGhyb3cgZXJyb3JcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBjb25zdCBhZGRTZWN0aW9uID0gKHRpdGxlOiBzdHJpbmcsIGNvbnRlbnQ6ICgpID0+IHZvaWQpID0+IHtcbiAgICAgICAgaWYgKHlQb3NpdGlvbiA+IHBhZ2VIZWlnaHQgLSA1MCkge1xuICAgICAgICAgIHBkZi5hZGRQYWdlKClcbiAgICAgICAgICB5UG9zaXRpb24gPSAyMFxuICAgICAgICB9XG4gICAgICAgIGFkZFRleHQodGl0bGUsIEZPTlRfU0laRVMuU0VDVElPTl9IRUFERVIsIHRydWUpXG4gICAgICAgIHlQb3NpdGlvbiArPSA1XG4gICAgICAgIGNvbnRlbnQoKVxuICAgICAgICB5UG9zaXRpb24gKz0gMTBcbiAgICAgIH1cblxuICAgICAgLy8gVGl0bGUgYW5kIG1ldGFkYXRhXG4gICAgICBhZGRUZXh0KGxlc3NvbkRhdGEubGVzc29uVGl0bGUsIEZPTlRfU0laRVMuTEVTU09OX1RJVExFLCB0cnVlKVxuICAgICAgYWRkVGV4dChcbiAgICAgICAgYFRhcmdldCBMYW5ndWFnZTogJHtsZXNzb25EYXRhLnRhcmdldExhbmd1YWdlLmNoYXJBdCgwKS50b1VwcGVyQ2FzZSgpICsgbGVzc29uRGF0YS50YXJnZXRMYW5ndWFnZS5zbGljZSgxKX1gLFxuICAgICAgICBGT05UX1NJWkVTLlNVUFBMRU1FTlRBUlksXG4gICAgICApXG4gICAgICBhZGRUZXh0KGBHZW5lcmF0ZWQgb246ICR7dGhpcy5mb3JtYXREYXRlKCl9YCwgRk9OVF9TSVpFUy5TVVBQTEVNRU5UQVJZKVxuICAgICAgeVBvc2l0aW9uICs9IDEwXG5cbiAgICAgIC8vIEFkZCBzZWN0aW9ucyBiYXNlZCBvbiBlbmFibGVkIHN0YXRlXG4gICAgICBpZiAoZW5hYmxlZFNlY3Rpb25zLndhcm11cCAmJiBsZXNzb25EYXRhLnNlY3Rpb25zLndhcm11cCkge1xuICAgICAgICBhZGRTZWN0aW9uKFwiV2FybS11cCBRdWVzdGlvbnNcIiwgKCkgPT4ge1xuICAgICAgICAgIGNvbnN0IHdhcm11cFF1ZXN0aW9ucyA9IEFycmF5LmlzQXJyYXkobGVzc29uRGF0YS5zZWN0aW9ucy53YXJtdXApID8gbGVzc29uRGF0YS5zZWN0aW9ucy53YXJtdXAgOiBbXVxuICAgICAgICAgIHdhcm11cFF1ZXN0aW9ucy5mb3JFYWNoKChxdWVzdGlvbiwgaW5kZXgpID0+IHtcbiAgICAgICAgICAgIC8vIEZpcnN0IGl0ZW0gaXMgdGhlIGluc3RydWN0aW9uIHdpdGggbGlnaHQgZ3JlZW4gYmFja2dyb3VuZCAoaXRhbGljKSAtIG1hbnVhbCByZW5kZXJpbmdcbiAgICAgICAgICAgIGlmIChpbmRleCA9PT0gMCkge1xuICAgICAgICAgICAgICBwZGYuc2V0RmlsbENvbG9yKDIzOCwgMjQ3LCAyMjApIC8vICNFRUY3RENcbiAgICAgICAgICAgICAgcGRmLnNldEZvbnRTaXplKEZPTlRfU0laRVMuSU5TVFJVQ1RJT05TKVxuICAgICAgICAgICAgICBwZGYuc2V0Rm9udChcImhlbHZldGljYVwiLCBcIml0YWxpY1wiKVxuICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgY29uc3QgaW5zdHJ1Y3Rpb25XaWR0aCA9IHBkZi5pbnRlcm5hbC5wYWdlU2l6ZS53aWR0aCAtIG1hcmdpbiAqIDIgLSAxMFxuICAgICAgICAgICAgICBjb25zdCBpbnN0cnVjdGlvbkxpbmVzID0gcGRmLnNwbGl0VGV4dFRvU2l6ZShxdWVzdGlvbiwgaW5zdHJ1Y3Rpb25XaWR0aClcbiAgICAgICAgICAgICAgY29uc3QgaW5zdHJ1Y3Rpb25IZWlnaHQgPSBpbnN0cnVjdGlvbkxpbmVzLmxlbmd0aCAqIGxpbmVIZWlnaHQgKyA2XG4gICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAvLyBEcmF3IGJhY2tncm91bmQgcmVjdGFuZ2xlXG4gICAgICAgICAgICAgIHBkZi5yZWN0KG1hcmdpbiArIDEwLCB5UG9zaXRpb24gLSA0LCBpbnN0cnVjdGlvbldpZHRoLCBpbnN0cnVjdGlvbkhlaWdodCwgJ0YnKVxuICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgLy8gQWRkIGluc3RydWN0aW9uIHRleHRcbiAgICAgICAgICAgICAgZm9yIChjb25zdCBsaW5lIG9mIGluc3RydWN0aW9uTGluZXMpIHtcbiAgICAgICAgICAgICAgICBwZGYudGV4dChsaW5lLCBtYXJnaW4gKyAxMCwgeVBvc2l0aW9uKVxuICAgICAgICAgICAgICAgIHlQb3NpdGlvbiArPSBsaW5lSGVpZ2h0XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgeVBvc2l0aW9uICs9IDggLy8gRXh0cmEgc3BhY2luZyBhZnRlciBpbnN0cnVjdGlvblxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgLy8gUmVzdCBhcmUgYWN0dWFsIHF1ZXN0aW9ucyAocmVudW1iZXIgc3RhcnRpbmcgZnJvbSAxKVxuICAgICAgICAgICAgICBhZGRUZXh0KGAke2luZGV4fS4gJHtxdWVzdGlvbn1gLCBGT05UX1NJWkVTLk1BSU5fQ09OVEVOVCwgZmFsc2UsIGZhbHNlLCAxMClcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KVxuICAgICAgICB9KVxuICAgICAgfVxuXG4gICAgICBpZiAoZW5hYmxlZFNlY3Rpb25zLnZvY2FidWxhcnkgJiYgbGVzc29uRGF0YS5zZWN0aW9ucy52b2NhYnVsYXJ5KSB7XG4gICAgICAgIGFkZFNlY3Rpb24oXCJLZXkgVm9jYWJ1bGFyeVwiLCAoKSA9PiB7XG4gICAgICAgICAgY29uc3Qgdm9jYWJ1bGFyeUl0ZW1zID0gQXJyYXkuaXNBcnJheShsZXNzb25EYXRhLnNlY3Rpb25zLnZvY2FidWxhcnkpID8gbGVzc29uRGF0YS5zZWN0aW9ucy52b2NhYnVsYXJ5IDogW11cbiAgICAgICAgICBsZXQgdm9jYWJJbmRleCA9IDAgLy8gVHJhY2sgYWN0dWFsIHZvY2FidWxhcnkgaXRlbSBudW1iZXJpbmdcbiAgICAgICAgICB2b2NhYnVsYXJ5SXRlbXMuZm9yRWFjaCgoaXRlbSwgaW5kZXgpID0+IHtcbiAgICAgICAgICAgIC8vIEZpcnN0IGl0ZW0gbWlnaHQgYmUgYW4gaW5zdHJ1Y3Rpb25cbiAgICAgICAgICAgIGlmIChpbmRleCA9PT0gMCAmJiBpdGVtLndvcmQgPT09IFwiSU5TVFJVQ1RJT05cIikge1xuICAgICAgICAgICAgICBwZGYuc2V0RmlsbENvbG9yKDI0MSwgMjUwLCAyNTUpIC8vICNGMUZBRkZcbiAgICAgICAgICAgICAgcGRmLnNldEZvbnRTaXplKEZPTlRfU0laRVMuSU5TVFJVQ1RJT05TKVxuICAgICAgICAgICAgICBwZGYuc2V0Rm9udChcImhlbHZldGljYVwiLCBcIml0YWxpY1wiKVxuICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgY29uc3QgaW5zdHJ1Y3Rpb25XaWR0aCA9IHBkZi5pbnRlcm5hbC5wYWdlU2l6ZS53aWR0aCAtIG1hcmdpbiAqIDIgLSAxMFxuICAgICAgICAgICAgICBjb25zdCBpbnN0cnVjdGlvbkxpbmVzID0gcGRmLnNwbGl0VGV4dFRvU2l6ZShpdGVtLm1lYW5pbmcsIGluc3RydWN0aW9uV2lkdGgpXG4gICAgICAgICAgICAgIGNvbnN0IGluc3RydWN0aW9uSGVpZ2h0ID0gaW5zdHJ1Y3Rpb25MaW5lcy5sZW5ndGggKiBsaW5lSGVpZ2h0ICsgNlxuICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgLy8gRHJhdyBiYWNrZ3JvdW5kIHJlY3RhbmdsZVxuICAgICAgICAgICAgICBwZGYucmVjdChtYXJnaW4gKyAxMCwgeVBvc2l0aW9uIC0gNCwgaW5zdHJ1Y3Rpb25XaWR0aCwgaW5zdHJ1Y3Rpb25IZWlnaHQsICdGJylcbiAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgIC8vIEFkZCBpbnN0cnVjdGlvbiB0ZXh0XG4gICAgICAgICAgICAgIGZvciAoY29uc3QgbGluZSBvZiBpbnN0cnVjdGlvbkxpbmVzKSB7XG4gICAgICAgICAgICAgICAgcGRmLnRleHQobGluZSwgbWFyZ2luICsgMTAsIHlQb3NpdGlvbilcbiAgICAgICAgICAgICAgICB5UG9zaXRpb24gKz0gbGluZUhlaWdodFxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIHlQb3NpdGlvbiArPSA4IC8vIEV4dHJhIHNwYWNpbmcgYWZ0ZXIgaW5zdHJ1Y3Rpb25cbiAgICAgICAgICAgICAgcmV0dXJuXG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHZvY2FiSW5kZXgrK1xuICAgICAgICAgICAgYWRkVGV4dChgJHt2b2NhYkluZGV4fS4gJHtpdGVtLndvcmR9YCwgRk9OVF9TSVpFUy5NQUlOX0NPTlRFTlQsIHRydWUsIGZhbHNlLCAxMClcbiAgICAgICAgICAgIGFkZFRleHQoYCAgIE1lYW5pbmc6ICR7aXRlbS5tZWFuaW5nfWAsIEZPTlRfU0laRVMuTUFJTl9DT05URU5ULCBmYWxzZSwgZmFsc2UsIDE1KVxuXG4gICAgICAgICAgICAvLyBIYW5kbGUgYm90aCBvbGQgZm9ybWF0IChleGFtcGxlKSBhbmQgbmV3IGZvcm1hdCAoZXhhbXBsZXMgYXJyYXkpXG4gICAgICAgICAgICBpZiAoaXRlbS5leGFtcGxlcyAmJiBBcnJheS5pc0FycmF5KGl0ZW0uZXhhbXBsZXMpICYmIGl0ZW0uZXhhbXBsZXMubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICBhZGRUZXh0KGAgICBFeGFtcGxlczpgLCBGT05UX1NJWkVTLklOU1RSVUNUSU9OUywgdHJ1ZSwgZmFsc2UsIDE1KVxuICAgICAgICAgICAgICBjb25zdCBleGFtcGxlcyA9IEFycmF5LmlzQXJyYXkoaXRlbS5leGFtcGxlcykgPyBpdGVtLmV4YW1wbGVzIDogW11cbiAgICAgICAgICAgICAgZXhhbXBsZXMuZm9yRWFjaCgoZXhhbXBsZSwgZXhJbmRleCkgPT4ge1xuICAgICAgICAgICAgICAgIGFkZFRleHQoYCAgICR7ZXhJbmRleCArIDF9LiBcIiR7ZXhhbXBsZX1cImAsIEZPTlRfU0laRVMuU1VQUExFTUVOVEFSWSwgZmFsc2UsIGZhbHNlLCAyMClcbiAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoaXRlbS5leGFtcGxlKSB7XG4gICAgICAgICAgICAgIGFkZFRleHQoYCAgIEV4YW1wbGU6IFwiJHtpdGVtLmV4YW1wbGV9XCJgLCBGT05UX1NJWkVTLlNVUFBMRU1FTlRBUlksIGZhbHNlLCBmYWxzZSwgMTUpXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB5UG9zaXRpb24gKz0gM1xuICAgICAgICAgIH0pXG4gICAgICAgIH0pXG4gICAgICB9XG5cbiAgICAgIGlmIChlbmFibGVkU2VjdGlvbnMucmVhZGluZyAmJiBsZXNzb25EYXRhLnNlY3Rpb25zLnJlYWRpbmcpIHtcbiAgICAgICAgYWRkU2VjdGlvbihcIlJlYWRpbmcgUGFzc2FnZVwiLCAoKSA9PiB7XG4gICAgICAgICAgY29uc3QgcmVhZGluZ0NvbnRlbnQgPSBsZXNzb25EYXRhLnNlY3Rpb25zLnJlYWRpbmdcbiAgICAgICAgICBjb25zdCBwYXJ0cyA9IHJlYWRpbmdDb250ZW50LnNwbGl0KCdcXG5cXG4nKVxuXG4gICAgICAgICAgLy8gQ2hlY2sgaWYgZmlyc3QgcGFydCBpcyBhbiBpbnN0cnVjdGlvblxuICAgICAgICAgIGlmIChwYXJ0cy5sZW5ndGggPiAxICYmIHBhcnRzWzBdLmluY2x1ZGVzKCdSZWFkIHRoZSBmb2xsb3dpbmcgdGV4dCBjYXJlZnVsbHknKSkge1xuICAgICAgICAgICAgLy8gQWRkIGluc3RydWN0aW9uIHdpdGggbGlnaHQgZ3JlZW4gYmFja2dyb3VuZCAoaXRhbGljKSAtIG1hbnVhbCByZW5kZXJpbmdcbiAgICAgICAgICAgIHBkZi5zZXRGaWxsQ29sb3IoMjM4LCAyNDcsIDIyMCkgLy8gI0VFRjdEQ1xuICAgICAgICAgICAgcGRmLnNldEZvbnRTaXplKEZPTlRfU0laRVMuSU5TVFJVQ1RJT05TKVxuICAgICAgICAgICAgcGRmLnNldEZvbnQoXCJoZWx2ZXRpY2FcIiwgXCJpdGFsaWNcIilcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgY29uc3QgaW5zdHJ1Y3Rpb25XaWR0aCA9IHBkZi5pbnRlcm5hbC5wYWdlU2l6ZS53aWR0aCAtIG1hcmdpbiAqIDIgLSAxMFxuICAgICAgICAgICAgY29uc3QgaW5zdHJ1Y3Rpb25MaW5lcyA9IHBkZi5zcGxpdFRleHRUb1NpemUocGFydHNbMF0sIGluc3RydWN0aW9uV2lkdGgpXG4gICAgICAgICAgICBjb25zdCBpbnN0cnVjdGlvbkhlaWdodCA9IGluc3RydWN0aW9uTGluZXMubGVuZ3RoICogbGluZUhlaWdodCArIDZcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgLy8gRHJhdyBiYWNrZ3JvdW5kIHJlY3RhbmdsZVxuICAgICAgICAgICAgcGRmLnJlY3QobWFyZ2luICsgMTAsIHlQb3NpdGlvbiAtIDQsIGluc3RydWN0aW9uV2lkdGgsIGluc3RydWN0aW9uSGVpZ2h0LCAnRicpXG4gICAgICAgICAgICBcbiAgICAgICAgICAgIC8vIEFkZCBpbnN0cnVjdGlvbiB0ZXh0XG4gICAgICAgICAgICBmb3IgKGNvbnN0IGxpbmUgb2YgaW5zdHJ1Y3Rpb25MaW5lcykge1xuICAgICAgICAgICAgICBwZGYudGV4dChsaW5lLCBtYXJnaW4gKyAxMCwgeVBvc2l0aW9uKVxuICAgICAgICAgICAgICB5UG9zaXRpb24gKz0gbGluZUhlaWdodFxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgeVBvc2l0aW9uICs9IDggLy8gRXh0cmEgc3BhY2luZyBhZnRlciBpbnN0cnVjdGlvblxuXG4gICAgICAgICAgICAvLyBBZGQgdGhlIHJlc3Qgb2YgdGhlIHJlYWRpbmcgcGFzc2FnZVxuICAgICAgICAgICAgYWRkVGV4dChwYXJ0cy5zbGljZSgxKS5qb2luKCdcXG5cXG4nKSwgRk9OVF9TSVpFUy5NQUlOX0NPTlRFTlQsIGZhbHNlLCBmYWxzZSwgMTApXG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIC8vIE5vIGluc3RydWN0aW9uLCBkaXNwbGF5IGFzIGJlZm9yZVxuICAgICAgICAgICAgYWRkVGV4dChyZWFkaW5nQ29udGVudCwgRk9OVF9TSVpFUy5NQUlOX0NPTlRFTlQsIGZhbHNlLCBmYWxzZSwgMTApXG4gICAgICAgICAgfVxuICAgICAgICB9KVxuICAgICAgfVxuXG4gICAgICBpZiAoZW5hYmxlZFNlY3Rpb25zLmNvbXByZWhlbnNpb24gJiYgbGVzc29uRGF0YS5zZWN0aW9ucy5jb21wcmVoZW5zaW9uKSB7XG4gICAgICAgIGFkZFNlY3Rpb24oXCJSZWFkaW5nIENvbXByZWhlbnNpb25cIiwgKCkgPT4ge1xuICAgICAgICAgIGNvbnN0IGNvbXByZWhlbnNpb25RdWVzdGlvbnMgPSBBcnJheS5pc0FycmF5KGxlc3NvbkRhdGEuc2VjdGlvbnMuY29tcHJlaGVuc2lvbikgPyBsZXNzb25EYXRhLnNlY3Rpb25zLmNvbXByZWhlbnNpb24gOiBbXVxuICAgICAgICAgIGNvbXByZWhlbnNpb25RdWVzdGlvbnMuZm9yRWFjaCgocXVlc3Rpb24sIGluZGV4KSA9PiB7XG4gICAgICAgICAgICAvLyBGaXJzdCBpdGVtIGlzIHRoZSBpbnN0cnVjdGlvbiB3aXRoIGxpZ2h0IGJsdWUgYmFja2dyb3VuZCAoaXRhbGljKSAtIG1hbnVhbCByZW5kZXJpbmdcbiAgICAgICAgICAgIGlmIChpbmRleCA9PT0gMCkge1xuICAgICAgICAgICAgICBwZGYuc2V0RmlsbENvbG9yKDI0MSwgMjUwLCAyNTUpIC8vICNGMUZBRkZcbiAgICAgICAgICAgICAgcGRmLnNldEZvbnRTaXplKEZPTlRfU0laRVMuSU5TVFJVQ1RJT05TKVxuICAgICAgICAgICAgICBwZGYuc2V0Rm9udChcImhlbHZldGljYVwiLCBcIml0YWxpY1wiKVxuICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgY29uc3QgaW5zdHJ1Y3Rpb25XaWR0aCA9IHBkZi5pbnRlcm5hbC5wYWdlU2l6ZS53aWR0aCAtIG1hcmdpbiAqIDIgLSAxMFxuICAgICAgICAgICAgICBjb25zdCBpbnN0cnVjdGlvbkxpbmVzID0gcGRmLnNwbGl0VGV4dFRvU2l6ZShxdWVzdGlvbiwgaW5zdHJ1Y3Rpb25XaWR0aClcbiAgICAgICAgICAgICAgY29uc3QgaW5zdHJ1Y3Rpb25IZWlnaHQgPSBpbnN0cnVjdGlvbkxpbmVzLmxlbmd0aCAqIGxpbmVIZWlnaHQgKyA2XG4gICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAvLyBEcmF3IGJhY2tncm91bmQgcmVjdGFuZ2xlXG4gICAgICAgICAgICAgIHBkZi5yZWN0KG1hcmdpbiArIDEwLCB5UG9zaXRpb24gLSA0LCBpbnN0cnVjdGlvbldpZHRoLCBpbnN0cnVjdGlvbkhlaWdodCwgJ0YnKVxuICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgLy8gQWRkIGluc3RydWN0aW9uIHRleHRcbiAgICAgICAgICAgICAgZm9yIChjb25zdCBsaW5lIG9mIGluc3RydWN0aW9uTGluZXMpIHtcbiAgICAgICAgICAgICAgICBwZGYudGV4dChsaW5lLCBtYXJnaW4gKyAxMCwgeVBvc2l0aW9uKVxuICAgICAgICAgICAgICAgIHlQb3NpdGlvbiArPSBsaW5lSGVpZ2h0XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgeVBvc2l0aW9uICs9IDggLy8gRXh0cmEgc3BhY2luZyBhZnRlciBpbnN0cnVjdGlvblxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgLy8gUmVzdCBhcmUgYWN0dWFsIHF1ZXN0aW9ucyAocmVudW1iZXIgc3RhcnRpbmcgZnJvbSAxKVxuICAgICAgICAgICAgICBhZGRUZXh0KGAke2luZGV4fS4gJHtxdWVzdGlvbn1gLCBGT05UX1NJWkVTLk1BSU5fQ09OVEVOVCwgZmFsc2UsIGZhbHNlLCAxMClcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KVxuICAgICAgICB9KVxuICAgICAgfVxuXG4gICAgICBpZiAoZW5hYmxlZFNlY3Rpb25zLmRpc2N1c3Npb24gJiYgbGVzc29uRGF0YS5zZWN0aW9ucy5kaXNjdXNzaW9uKSB7XG4gICAgICAgIGFkZFNlY3Rpb24oXCJEaXNjdXNzaW9uIFF1ZXN0aW9uc1wiLCAoKSA9PiB7XG4gICAgICAgICAgY29uc3QgZGlzY3Vzc2lvblF1ZXN0aW9ucyA9IEFycmF5LmlzQXJyYXkobGVzc29uRGF0YS5zZWN0aW9ucy5kaXNjdXNzaW9uKSA/IGxlc3NvbkRhdGEuc2VjdGlvbnMuZGlzY3Vzc2lvbiA6IFtdXG4gICAgICAgICAgZGlzY3Vzc2lvblF1ZXN0aW9ucy5mb3JFYWNoKChxdWVzdGlvbiwgaW5kZXgpID0+IHtcbiAgICAgICAgICAgIC8vIEZpcnN0IGl0ZW0gaXMgdGhlIGluc3RydWN0aW9uIHdpdGggbGlnaHQgZ3JlZW4gYmFja2dyb3VuZCAoaXRhbGljKSAtIG1hbnVhbCByZW5kZXJpbmdcbiAgICAgICAgICAgIGlmIChpbmRleCA9PT0gMCkge1xuICAgICAgICAgICAgICBwZGYuc2V0RmlsbENvbG9yKDIzOCwgMjQ3LCAyMjApIC8vICNFRUY3RENcbiAgICAgICAgICAgICAgcGRmLnNldEZvbnRTaXplKEZPTlRfU0laRVMuSU5TVFJVQ1RJT05TKVxuICAgICAgICAgICAgICBwZGYuc2V0Rm9udChcImhlbHZldGljYVwiLCBcIml0YWxpY1wiKVxuICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgY29uc3QgaW5zdHJ1Y3Rpb25XaWR0aCA9IHBkZi5pbnRlcm5hbC5wYWdlU2l6ZS53aWR0aCAtIG1hcmdpbiAqIDIgLSAxMFxuICAgICAgICAgICAgICBjb25zdCBpbnN0cnVjdGlvbkxpbmVzID0gcGRmLnNwbGl0VGV4dFRvU2l6ZShxdWVzdGlvbiwgaW5zdHJ1Y3Rpb25XaWR0aClcbiAgICAgICAgICAgICAgY29uc3QgaW5zdHJ1Y3Rpb25IZWlnaHQgPSBpbnN0cnVjdGlvbkxpbmVzLmxlbmd0aCAqIGxpbmVIZWlnaHQgKyA2XG4gICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAvLyBEcmF3IGJhY2tncm91bmQgcmVjdGFuZ2xlXG4gICAgICAgICAgICAgIHBkZi5yZWN0KG1hcmdpbiArIDEwLCB5UG9zaXRpb24gLSA0LCBpbnN0cnVjdGlvbldpZHRoLCBpbnN0cnVjdGlvbkhlaWdodCwgJ0YnKVxuICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgLy8gQWRkIGluc3RydWN0aW9uIHRleHRcbiAgICAgICAgICAgICAgZm9yIChjb25zdCBsaW5lIG9mIGluc3RydWN0aW9uTGluZXMpIHtcbiAgICAgICAgICAgICAgICBwZGYudGV4dChsaW5lLCBtYXJnaW4gKyAxMCwgeVBvc2l0aW9uKVxuICAgICAgICAgICAgICAgIHlQb3NpdGlvbiArPSBsaW5lSGVpZ2h0XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgeVBvc2l0aW9uICs9IDggLy8gRXh0cmEgc3BhY2luZyBhZnRlciBpbnN0cnVjdGlvblxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgLy8gUmVzdCBhcmUgYWN0dWFsIHF1ZXN0aW9ucyAocmVudW1iZXIgc3RhcnRpbmcgZnJvbSAxKVxuICAgICAgICAgICAgICBhZGRUZXh0KGAke2luZGV4fS4gJHtxdWVzdGlvbn1gLCBGT05UX1NJWkVTLk1BSU5fQ09OVEVOVCwgZmFsc2UsIGZhbHNlLCAxMClcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KVxuICAgICAgICB9KVxuICAgICAgfVxuXG4gICAgICBpZiAoZW5hYmxlZFNlY3Rpb25zLmRpYWxvZ3VlUHJhY3RpY2UgJiYgbGVzc29uRGF0YS5zZWN0aW9ucy5kaWFsb2d1ZVByYWN0aWNlKSB7XG4gICAgICAgIGFkZFNlY3Rpb24oXCJEaWFsb2d1ZSBQcmFjdGljZVwiLCAoKSA9PiB7XG4gICAgICAgICAgY29uc3QgZGlhbG9ndWVTZWN0aW9uID0gbGVzc29uRGF0YS5zZWN0aW9ucy5kaWFsb2d1ZVByYWN0aWNlIVxuICAgICAgICAgIFxuICAgICAgICAgIC8vIEFkZCBpbnN0cnVjdGlvbiB3aXRoIGxpZ2h0IGdyZWVuIGJhY2tncm91bmQgY29sb3IgKGl0YWxpYykgLSBtYW51YWxseSB3aXRob3V0IGFkZFRleHRcbiAgICAgICAgICBwZGYuc2V0RmlsbENvbG9yKDIzOCwgMjQ3LCAyMjApIC8vICNFRUY3RENcbiAgICAgICAgICBwZGYuc2V0Rm9udFNpemUoRk9OVF9TSVpFUy5JTlNUUlVDVElPTlMpXG4gICAgICAgICAgcGRmLnNldEZvbnQoXCJoZWx2ZXRpY2FcIiwgXCJpdGFsaWNcIilcbiAgICAgICAgICBcbiAgICAgICAgICBjb25zdCBpbnN0cnVjdGlvbldpZHRoID0gcGRmLmludGVybmFsLnBhZ2VTaXplLndpZHRoIC0gbWFyZ2luICogMiAtIDEwXG4gICAgICAgICAgY29uc3QgaW5zdHJ1Y3Rpb25MaW5lcyA9IHBkZi5zcGxpdFRleHRUb1NpemUoZGlhbG9ndWVTZWN0aW9uLmluc3RydWN0aW9uLCBpbnN0cnVjdGlvbldpZHRoKVxuICAgICAgICAgIGNvbnN0IGluc3RydWN0aW9uSGVpZ2h0ID0gaW5zdHJ1Y3Rpb25MaW5lcy5sZW5ndGggKiBsaW5lSGVpZ2h0ICsgNlxuICAgICAgICAgIFxuICAgICAgICAgIC8vIERyYXcgYmFja2dyb3VuZCByZWN0YW5nbGVcbiAgICAgICAgICBwZGYucmVjdChtYXJnaW4gKyAxMCwgeVBvc2l0aW9uIC0gNCwgaW5zdHJ1Y3Rpb25XaWR0aCwgaW5zdHJ1Y3Rpb25IZWlnaHQsICdGJylcbiAgICAgICAgICBcbiAgICAgICAgICAvLyBBZGQgaW5zdHJ1Y3Rpb24gdGV4dFxuICAgICAgICAgIGZvciAoY29uc3QgbGluZSBvZiBpbnN0cnVjdGlvbkxpbmVzKSB7XG4gICAgICAgICAgICBwZGYudGV4dChsaW5lLCBtYXJnaW4gKyAxMCwgeVBvc2l0aW9uKVxuICAgICAgICAgICAgeVBvc2l0aW9uICs9IGxpbmVIZWlnaHRcbiAgICAgICAgICB9XG4gICAgICAgICAgeVBvc2l0aW9uICs9IDggLy8gRXh0cmEgc3BhY2luZyBhZnRlciBpbnN0cnVjdGlvbiBiZWZvcmUgZGlhbG9ndWUgc3RhcnRzXG4gICAgICAgICAgXG4gICAgICAgICAgLy8gRW5oYW5jZSBkaWFsb2d1ZSB3aXRoIGF2YXRhciBuYW1lc1xuICAgICAgICAgIGNvbnN0IGVuaGFuY2VkRGlhbG9ndWUgPSBlbmhhbmNlRGlhbG9ndWVXaXRoQXZhdGFycyhcbiAgICAgICAgICAgIGRpYWxvZ3VlU2VjdGlvbi5kaWFsb2d1ZSxcbiAgICAgICAgICAgIGxlc3NvbkRhdGEuaWQsXG4gICAgICAgICAgICAnZGlhbG9ndWVQcmFjdGljZSdcbiAgICAgICAgICApXG4gICAgICAgICAgXG4gICAgICAgICAgLy8gQWRkIGRpYWxvZ3VlIGxpbmVzIHdpdGggY2hhcmFjdGVyIG5hbWVzIGFuZCBzcGFjaW5nXG4gICAgICAgICAgY29uc3QgZGlhbG9ndWVQcmFjdGljZUxpbmVzID0gQXJyYXkuaXNBcnJheShlbmhhbmNlZERpYWxvZ3VlKSA/IGVuaGFuY2VkRGlhbG9ndWUgOiBbXVxuICAgICAgICAgIGRpYWxvZ3VlUHJhY3RpY2VMaW5lcy5mb3JFYWNoKChsaW5lLCBpbmRleCkgPT4ge1xuICAgICAgICAgICAgLy8gQWRkIDNweCBnYXAgYmV0d2VlbiBkaWFsb2d1ZSBsaW5lcyAoZXhjZXB0IGZpcnN0KVxuICAgICAgICAgICAgaWYgKGluZGV4ID4gMCkge1xuICAgICAgICAgICAgICB5UG9zaXRpb24gKz0gM1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgXG4gICAgICAgICAgICAvLyBDaGFyYWN0ZXIgbmFtZSBpbiBib2xkLCB0aGVuIGxpbmVcbiAgICAgICAgICAgIHBkZi5zZXRGb250U2l6ZShGT05UX1NJWkVTLk1BSU5fQ09OVEVOVClcbiAgICAgICAgICAgIHBkZi5zZXRGb250KFwiaGVsdmV0aWNhXCIsIFwiYm9sZFwiKVxuICAgICAgICAgICAgY29uc3QgY2hhcldpZHRoID0gcGRmLmdldFRleHRXaWR0aChgJHtsaW5lLmNoYXJhY3Rlcn06IGApXG4gICAgICAgICAgICBwZGYudGV4dChgJHtsaW5lLmNoYXJhY3Rlcn06IGAsIG1hcmdpbiArIDEwLCB5UG9zaXRpb24pXG4gICAgICAgICAgICBcbiAgICAgICAgICAgIHBkZi5zZXRGb250KFwiaGVsdmV0aWNhXCIsIFwibm9ybWFsXCIpXG4gICAgICAgICAgICBjb25zdCBtYXhXaWR0aCA9IHBkZi5pbnRlcm5hbC5wYWdlU2l6ZS53aWR0aCAtIG1hcmdpbiAqIDIgLSAxMCAtIGNoYXJXaWR0aFxuICAgICAgICAgICAgY29uc3QgbGluZVRleHQgPSBwZGYuc3BsaXRUZXh0VG9TaXplKGxpbmUubGluZSwgbWF4V2lkdGgpXG4gICAgICAgICAgICBwZGYudGV4dChsaW5lVGV4dFswXSwgbWFyZ2luICsgMTAgKyBjaGFyV2lkdGgsIHlQb3NpdGlvbilcbiAgICAgICAgICAgIHlQb3NpdGlvbiArPSBsaW5lSGVpZ2h0XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIC8vIEhhbmRsZSB3cmFwcGVkIGxpbmVzXG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMTsgaSA8IGxpbmVUZXh0Lmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgIGlmICh5UG9zaXRpb24gPiBwYWdlSGVpZ2h0IC0gMzApIHtcbiAgICAgICAgICAgICAgICBwZGYuYWRkUGFnZSgpXG4gICAgICAgICAgICAgICAgeVBvc2l0aW9uID0gMjBcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBwZGYudGV4dChsaW5lVGV4dFtpXSwgbWFyZ2luICsgMTAgKyBjaGFyV2lkdGgsIHlQb3NpdGlvbilcbiAgICAgICAgICAgICAgeVBvc2l0aW9uICs9IGxpbmVIZWlnaHRcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KVxuICAgICAgICAgIFxuICAgICAgICAgIGlmIChkaWFsb2d1ZVNlY3Rpb24uZm9sbG93VXBRdWVzdGlvbnMgJiYgZGlhbG9ndWVTZWN0aW9uLmZvbGxvd1VwUXVlc3Rpb25zLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIHlQb3NpdGlvbiArPSA1XG4gICAgICAgICAgICBhZGRUZXh0KFwiRm9sbG93LXVwIFF1ZXN0aW9uczpcIiwgRk9OVF9TSVpFUy5JTlNUUlVDVElPTlMsIHRydWUsIGZhbHNlLCAxMClcbiAgICAgICAgICAgIGNvbnN0IGZvbGxvd1VwUXVlc3Rpb25zID0gQXJyYXkuaXNBcnJheShkaWFsb2d1ZVNlY3Rpb24uZm9sbG93VXBRdWVzdGlvbnMpID8gZGlhbG9ndWVTZWN0aW9uLmZvbGxvd1VwUXVlc3Rpb25zIDogW11cbiAgICAgICAgICAgIGZvbGxvd1VwUXVlc3Rpb25zLmZvckVhY2goKHF1ZXN0aW9uLCBpbmRleCkgPT4ge1xuICAgICAgICAgICAgICBhZGRUZXh0KGAke2luZGV4ICsgMX0uICR7cXVlc3Rpb259YCwgRk9OVF9TSVpFUy5NQUlOX0NPTlRFTlQsIGZhbHNlLCBmYWxzZSwgMTUpXG4gICAgICAgICAgICB9KVxuICAgICAgICAgIH1cbiAgICAgICAgfSlcbiAgICAgIH1cblxuICAgICAgaWYgKGVuYWJsZWRTZWN0aW9ucy5kaWFsb2d1ZUZpbGxHYXAgJiYgbGVzc29uRGF0YS5zZWN0aW9ucy5kaWFsb2d1ZUZpbGxHYXApIHtcbiAgICAgICAgYWRkU2VjdGlvbihcIkRpYWxvZ3VlIEZpbGwtaW4tdGhlLUdhcFwiLCAoKSA9PiB7XG4gICAgICAgICAgY29uc3QgZGlhbG9ndWVTZWN0aW9uID0gbGVzc29uRGF0YS5zZWN0aW9ucy5kaWFsb2d1ZUZpbGxHYXAhXG4gICAgICAgICAgXG4gICAgICAgICAgLy8gQWRkIGluc3RydWN0aW9uIHdpdGggbGlnaHQgYmx1ZSBiYWNrZ3JvdW5kIGNvbG9yIChpdGFsaWMpIC0gbWFudWFsbHkgd2l0aG91dCBhZGRUZXh0XG4gICAgICAgICAgcGRmLnNldEZpbGxDb2xvcigyNDEsIDI1MCwgMjU1KSAvLyAjRjFGQUZGXG4gICAgICAgICAgcGRmLnNldEZvbnRTaXplKEZPTlRfU0laRVMuSU5TVFJVQ1RJT05TKVxuICAgICAgICAgIHBkZi5zZXRGb250KFwiaGVsdmV0aWNhXCIsIFwiaXRhbGljXCIpXG4gICAgICAgICAgXG4gICAgICAgICAgY29uc3QgaW5zdHJ1Y3Rpb25XaWR0aCA9IHBkZi5pbnRlcm5hbC5wYWdlU2l6ZS53aWR0aCAtIG1hcmdpbiAqIDIgLSAxMFxuICAgICAgICAgIGNvbnN0IGluc3RydWN0aW9uTGluZXMgPSBwZGYuc3BsaXRUZXh0VG9TaXplKGRpYWxvZ3VlU2VjdGlvbi5pbnN0cnVjdGlvbiwgaW5zdHJ1Y3Rpb25XaWR0aClcbiAgICAgICAgICBjb25zdCBpbnN0cnVjdGlvbkhlaWdodCA9IGluc3RydWN0aW9uTGluZXMubGVuZ3RoICogbGluZUhlaWdodCArIDZcbiAgICAgICAgICBcbiAgICAgICAgICAvLyBEcmF3IGJhY2tncm91bmQgcmVjdGFuZ2xlXG4gICAgICAgICAgcGRmLnJlY3QobWFyZ2luICsgMTAsIHlQb3NpdGlvbiAtIDQsIGluc3RydWN0aW9uV2lkdGgsIGluc3RydWN0aW9uSGVpZ2h0LCAnRicpXG4gICAgICAgICAgXG4gICAgICAgICAgLy8gQWRkIGluc3RydWN0aW9uIHRleHRcbiAgICAgICAgICBmb3IgKGNvbnN0IGxpbmUgb2YgaW5zdHJ1Y3Rpb25MaW5lcykge1xuICAgICAgICAgICAgcGRmLnRleHQobGluZSwgbWFyZ2luICsgMTAsIHlQb3NpdGlvbilcbiAgICAgICAgICAgIHlQb3NpdGlvbiArPSBsaW5lSGVpZ2h0XG4gICAgICAgICAgfVxuICAgICAgICAgIHlQb3NpdGlvbiArPSA4IC8vIEV4dHJhIHNwYWNpbmcgYWZ0ZXIgaW5zdHJ1Y3Rpb24gYmVmb3JlIGRpYWxvZ3VlIHN0YXJ0c1xuICAgICAgICAgIFxuICAgICAgICAgIC8vIEVuaGFuY2UgZGlhbG9ndWUgd2l0aCBhdmF0YXIgbmFtZXNcbiAgICAgICAgICBjb25zdCBlbmhhbmNlZERpYWxvZ3VlID0gZW5oYW5jZURpYWxvZ3VlV2l0aEF2YXRhcnMoXG4gICAgICAgICAgICBkaWFsb2d1ZVNlY3Rpb24uZGlhbG9ndWUsXG4gICAgICAgICAgICBsZXNzb25EYXRhLmlkLFxuICAgICAgICAgICAgJ2RpYWxvZ3VlRmlsbEdhcCdcbiAgICAgICAgICApXG4gICAgICAgICAgXG4gICAgICAgICAgLy8gQWRkIGRpYWxvZ3VlIGxpbmVzIHdpdGggY2hhcmFjdGVyIG5hbWVzIGFuZCBzcGFjaW5nXG4gICAgICAgICAgY29uc3QgZGlhbG9ndWVGaWxsR2FwTGluZXMgPSBBcnJheS5pc0FycmF5KGVuaGFuY2VkRGlhbG9ndWUpID8gZW5oYW5jZWREaWFsb2d1ZSA6IFtdXG4gICAgICAgICAgZGlhbG9ndWVGaWxsR2FwTGluZXMuZm9yRWFjaCgobGluZSwgaW5kZXgpID0+IHtcbiAgICAgICAgICAgIC8vIEFkZCAzcHggZ2FwIGJldHdlZW4gZGlhbG9ndWUgbGluZXMgKGV4Y2VwdCBmaXJzdClcbiAgICAgICAgICAgIGlmIChpbmRleCA+IDApIHtcbiAgICAgICAgICAgICAgeVBvc2l0aW9uICs9IDNcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIFxuICAgICAgICAgICAgLy8gQ2hhcmFjdGVyIG5hbWUgaW4gYm9sZCwgdGhlbiBsaW5lXG4gICAgICAgICAgICBwZGYuc2V0Rm9udFNpemUoRk9OVF9TSVpFUy5NQUlOX0NPTlRFTlQpXG4gICAgICAgICAgICBwZGYuc2V0Rm9udChcImhlbHZldGljYVwiLCBcImJvbGRcIilcbiAgICAgICAgICAgIGNvbnN0IGNoYXJXaWR0aCA9IHBkZi5nZXRUZXh0V2lkdGgoYCR7bGluZS5jaGFyYWN0ZXJ9OiBgKVxuICAgICAgICAgICAgcGRmLnRleHQoYCR7bGluZS5jaGFyYWN0ZXJ9OiBgLCBtYXJnaW4gKyAxMCwgeVBvc2l0aW9uKVxuICAgICAgICAgICAgXG4gICAgICAgICAgICBwZGYuc2V0Rm9udChcImhlbHZldGljYVwiLCBcIm5vcm1hbFwiKVxuICAgICAgICAgICAgY29uc3QgbWF4V2lkdGggPSBwZGYuaW50ZXJuYWwucGFnZVNpemUud2lkdGggLSBtYXJnaW4gKiAyIC0gMTAgLSBjaGFyV2lkdGhcbiAgICAgICAgICAgIGNvbnN0IGxpbmVUZXh0ID0gcGRmLnNwbGl0VGV4dFRvU2l6ZShsaW5lLmxpbmUsIG1heFdpZHRoKVxuICAgICAgICAgICAgcGRmLnRleHQobGluZVRleHRbMF0sIG1hcmdpbiArIDEwICsgY2hhcldpZHRoLCB5UG9zaXRpb24pXG4gICAgICAgICAgICB5UG9zaXRpb24gKz0gbGluZUhlaWdodFxuICAgICAgICAgICAgXG4gICAgICAgICAgICAvLyBIYW5kbGUgd3JhcHBlZCBsaW5lc1xuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDE7IGkgPCBsaW5lVGV4dC5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICBpZiAoeVBvc2l0aW9uID4gcGFnZUhlaWdodCAtIDMwKSB7XG4gICAgICAgICAgICAgICAgcGRmLmFkZFBhZ2UoKVxuICAgICAgICAgICAgICAgIHlQb3NpdGlvbiA9IDIwXG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgcGRmLnRleHQobGluZVRleHRbaV0sIG1hcmdpbiArIDEwICsgY2hhcldpZHRoLCB5UG9zaXRpb24pXG4gICAgICAgICAgICAgIHlQb3NpdGlvbiArPSBsaW5lSGVpZ2h0XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSlcbiAgICAgICAgICBcbiAgICAgICAgICBpZiAoZGlhbG9ndWVTZWN0aW9uLmFuc3dlcnMgJiYgZGlhbG9ndWVTZWN0aW9uLmFuc3dlcnMubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgeVBvc2l0aW9uICs9IDVcbiAgICAgICAgICAgIGFkZFRleHQoXCJBbnN3ZXIgS2V5OlwiLCBGT05UX1NJWkVTLklOU1RSVUNUSU9OUywgdHJ1ZSwgZmFsc2UsIDEwKVxuICAgICAgICAgICAgYWRkVGV4dChkaWFsb2d1ZVNlY3Rpb24uYW5zd2Vycy5qb2luKCcsICcpLCBGT05UX1NJWkVTLlNVUFBMRU1FTlRBUlksIGZhbHNlLCBmYWxzZSwgMTUpXG4gICAgICAgICAgfVxuICAgICAgICB9KVxuICAgICAgfVxuXG4gICAgICBpZiAoZW5hYmxlZFNlY3Rpb25zLmdyYW1tYXIgJiYgbGVzc29uRGF0YS5zZWN0aW9ucy5ncmFtbWFyKSB7XG4gICAgICAgIGFkZFNlY3Rpb24oXCJHcmFtbWFyIEZvY3VzXCIsICgpID0+IHtcbiAgICAgICAgICBhZGRUZXh0KGBGb2N1czogJHtsZXNzb25EYXRhLnNlY3Rpb25zLmdyYW1tYXIuZm9jdXN9YCwgRk9OVF9TSVpFUy5NQUlOX0NPTlRFTlQsIHRydWUsIDEwKVxuICAgICAgICAgIHlQb3NpdGlvbiArPSAzXG4gICAgICAgICAgYWRkVGV4dChcIkV4YW1wbGVzOlwiLCBGT05UX1NJWkVTLklOU1RSVUNUSU9OUywgdHJ1ZSwgMTApXG4gICAgICAgICAgY29uc3QgZ3JhbW1hckV4YW1wbGVzID0gQXJyYXkuaXNBcnJheShsZXNzb25EYXRhLnNlY3Rpb25zLmdyYW1tYXIuZXhhbXBsZXMpID8gbGVzc29uRGF0YS5zZWN0aW9ucy5ncmFtbWFyLmV4YW1wbGVzIDogW11cbiAgICAgICAgICBncmFtbWFyRXhhbXBsZXMuZm9yRWFjaCgoZXhhbXBsZSwgaW5kZXgpID0+IHtcbiAgICAgICAgICAgIGFkZFRleHQoYOKAoiAke2V4YW1wbGV9YCwgRk9OVF9TSVpFUy5TVVBQTEVNRU5UQVJZLCBmYWxzZSwgMTUpXG4gICAgICAgICAgfSlcbiAgICAgICAgICB5UG9zaXRpb24gKz0gM1xuICAgICAgICAgIGFkZFRleHQoXCJQcmFjdGljZSBFeGVyY2lzZTpcIiwgRk9OVF9TSVpFUy5JTlNUUlVDVElPTlMsIHRydWUsIDEwKVxuICAgICAgICAgIGNvbnN0IGdyYW1tYXJFeGVyY2lzZXMgPSBBcnJheS5pc0FycmF5KGxlc3NvbkRhdGEuc2VjdGlvbnMuZ3JhbW1hci5leGVyY2lzZSkgPyBsZXNzb25EYXRhLnNlY3Rpb25zLmdyYW1tYXIuZXhlcmNpc2UgOiBbXVxuICAgICAgICAgIGdyYW1tYXJFeGVyY2lzZXMuZm9yRWFjaCgoZXhlcmNpc2UsIGluZGV4KSA9PiB7XG4gICAgICAgICAgICBhZGRUZXh0KGAke2luZGV4ICsgMX0uICR7ZXhlcmNpc2V9YCwgRk9OVF9TSVpFUy5NQUlOX0NPTlRFTlQsIGZhbHNlLCAxNSlcbiAgICAgICAgICB9KVxuICAgICAgICB9KVxuICAgICAgfVxuXG4gICAgICBpZiAoZW5hYmxlZFNlY3Rpb25zLnByb251bmNpYXRpb24gJiYgbGVzc29uRGF0YS5zZWN0aW9ucy5wcm9udW5jaWF0aW9uKSB7XG4gICAgICAgIGFkZFNlY3Rpb24oXCJQcm9udW5jaWF0aW9uIFByYWN0aWNlXCIsICgpID0+IHtcbiAgICAgICAgICBjb25zdCBwcm9uU2VjdGlvbiA9IGxlc3NvbkRhdGEuc2VjdGlvbnMucHJvbnVuY2lhdGlvblxuICAgICAgICAgIFxuICAgICAgICAgIC8vIEhhbmRsZSBib3RoIG9sZCBmb3JtYXQgKHNpbmdsZSB3b3JkKSBhbmQgbmV3IGZvcm1hdCAod29yZHMgYXJyYXkpXG4gICAgICAgICAgaWYgKHByb25TZWN0aW9uLndvcmRzICYmIEFycmF5LmlzQXJyYXkocHJvblNlY3Rpb24ud29yZHMpICYmIHByb25TZWN0aW9uLndvcmRzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIC8vIE5ldyBmb3JtYXQgd2l0aCBtdWx0aXBsZSB3b3Jkc1xuICAgICAgICAgICAgcHJvblNlY3Rpb24ud29yZHMuZm9yRWFjaCgod29yZEl0ZW0sIGluZGV4KSA9PiB7XG4gICAgICAgICAgICAgIGlmIChpbmRleCA+IDApIHlQb3NpdGlvbiArPSA1IC8vIFNwYWNpbmcgYmV0d2VlbiB3b3Jkc1xuICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgYWRkVGV4dChgV29yZDogJHt3b3JkSXRlbS53b3JkIHx8ICdOL0EnfWAsIEZPTlRfU0laRVMuTUFJTl9DT05URU5ULCB0cnVlLCBmYWxzZSwgMTApXG4gICAgICAgICAgICAgIGFkZFRleHQoYElQQTogJHt3b3JkSXRlbS5pcGEgfHwgJ04vQSd9YCwgRk9OVF9TSVpFUy5TVVBQTEVNRU5UQVJZLCBmYWxzZSwgZmFsc2UsIDEwKVxuICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgaWYgKHdvcmRJdGVtLnByYWN0aWNlU2VudGVuY2UpIHtcbiAgICAgICAgICAgICAgICBhZGRUZXh0KGBQcmFjdGljZTogXCIke3dvcmRJdGVtLnByYWN0aWNlU2VudGVuY2V9XCJgLCBGT05UX1NJWkVTLk1BSU5fQ09OVEVOVCwgZmFsc2UsIGZhbHNlLCAxMClcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgaWYgKHdvcmRJdGVtLnRpcHMgJiYgd29yZEl0ZW0udGlwcy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgYWRkVGV4dChgVGlwczpgLCBGT05UX1NJWkVTLklOU1RSVUNUSU9OUywgdHJ1ZSwgZmFsc2UsIDEwKVxuICAgICAgICAgICAgICAgIHdvcmRJdGVtLnRpcHMuZm9yRWFjaCh0aXAgPT4ge1xuICAgICAgICAgICAgICAgICAgYWRkVGV4dChg4oCiICR7dGlwfWAsIEZPTlRfU0laRVMuU1VQUExFTUVOVEFSWSwgZmFsc2UsIGZhbHNlLCAxNSlcbiAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KVxuICAgICAgICAgIH0gZWxzZSBpZiAocHJvblNlY3Rpb24ud29yZCkge1xuICAgICAgICAgICAgLy8gT2xkIGZvcm1hdCB3aXRoIHNpbmdsZSB3b3JkXG4gICAgICAgICAgICBhZGRUZXh0KGBXb3JkOiAke3Byb25TZWN0aW9uLndvcmQgfHwgJ04vQSd9YCwgRk9OVF9TSVpFUy5NQUlOX0NPTlRFTlQsIHRydWUsIGZhbHNlLCAxMClcbiAgICAgICAgICAgIGFkZFRleHQoYElQQTogJHtwcm9uU2VjdGlvbi5pcGEgfHwgJ04vQSd9YCwgRk9OVF9TSVpFUy5TVVBQTEVNRU5UQVJZLCBmYWxzZSwgZmFsc2UsIDEwKVxuICAgICAgICAgICAgaWYgKHByb25TZWN0aW9uLnByYWN0aWNlKSB7XG4gICAgICAgICAgICAgIGFkZFRleHQoYFByYWN0aWNlOiBcIiR7cHJvblNlY3Rpb24ucHJhY3RpY2V9XCJgLCBGT05UX1NJWkVTLk1BSU5fQ09OVEVOVCwgZmFsc2UsIGZhbHNlLCAxMClcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgYWRkVGV4dChcIk5vIHByb251bmNpYXRpb24gZGF0YSBhdmFpbGFibGVcIiwgRk9OVF9TSVpFUy5NQUlOX0NPTlRFTlQsIGZhbHNlLCBmYWxzZSwgMTApXG4gICAgICAgICAgfVxuICAgICAgICB9KVxuICAgICAgfVxuXG4gICAgICBpZiAoZW5hYmxlZFNlY3Rpb25zLndyYXB1cCAmJiBsZXNzb25EYXRhLnNlY3Rpb25zLndyYXB1cCkge1xuICAgICAgICBhZGRTZWN0aW9uKFwiTGVzc29uIFdyYXAtdXBcIiwgKCkgPT4ge1xuICAgICAgICAgIGNvbnN0IHdyYXB1cFF1ZXN0aW9ucyA9IEFycmF5LmlzQXJyYXkobGVzc29uRGF0YS5zZWN0aW9ucy53cmFwdXApID8gbGVzc29uRGF0YS5zZWN0aW9ucy53cmFwdXAgOiBbXVxuICAgICAgICAgIHdyYXB1cFF1ZXN0aW9ucy5mb3JFYWNoKChxdWVzdGlvbiwgaW5kZXgpID0+IHtcbiAgICAgICAgICAgIC8vIEZpcnN0IGl0ZW0gaXMgdGhlIGluc3RydWN0aW9uIC0gbWFudWFsIHJlbmRlcmluZyAobm8gbnVtYmVyaW5nKVxuICAgICAgICAgICAgaWYgKGluZGV4ID09PSAwKSB7XG4gICAgICAgICAgICAgIHBkZi5zZXRGaWxsQ29sb3IoMjM4LCAyNDcsIDIyMCkgLy8gI0VFRjdEQ1xuICAgICAgICAgICAgICBwZGYuc2V0Rm9udFNpemUoRk9OVF9TSVpFUy5JTlNUUlVDVElPTlMpXG4gICAgICAgICAgICAgIHBkZi5zZXRGb250KFwiaGVsdmV0aWNhXCIsIFwiaXRhbGljXCIpXG4gICAgICAgICAgICAgIFxuICAgICAgICAgICAgICBjb25zdCBpbnN0cnVjdGlvbldpZHRoID0gcGRmLmludGVybmFsLnBhZ2VTaXplLndpZHRoIC0gbWFyZ2luICogMiAtIDEwXG4gICAgICAgICAgICAgIGNvbnN0IGluc3RydWN0aW9uTGluZXMgPSBwZGYuc3BsaXRUZXh0VG9TaXplKHF1ZXN0aW9uLCBpbnN0cnVjdGlvbldpZHRoKVxuICAgICAgICAgICAgICBjb25zdCBpbnN0cnVjdGlvbkhlaWdodCA9IGluc3RydWN0aW9uTGluZXMubGVuZ3RoICogbGluZUhlaWdodCArIDZcbiAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgIC8vIERyYXcgYmFja2dyb3VuZCByZWN0YW5nbGVcbiAgICAgICAgICAgICAgcGRmLnJlY3QobWFyZ2luICsgMTAsIHlQb3NpdGlvbiAtIDQsIGluc3RydWN0aW9uV2lkdGgsIGluc3RydWN0aW9uSGVpZ2h0LCAnRicpXG4gICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAvLyBBZGQgaW5zdHJ1Y3Rpb24gdGV4dFxuICAgICAgICAgICAgICBmb3IgKGNvbnN0IGxpbmUgb2YgaW5zdHJ1Y3Rpb25MaW5lcykge1xuICAgICAgICAgICAgICAgIHBkZi50ZXh0KGxpbmUsIG1hcmdpbiArIDEwLCB5UG9zaXRpb24pXG4gICAgICAgICAgICAgICAgeVBvc2l0aW9uICs9IGxpbmVIZWlnaHRcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB5UG9zaXRpb24gKz0gOCAvLyBFeHRyYSBzcGFjaW5nIGFmdGVyIGluc3RydWN0aW9uXG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAvLyBSZXN0IGFyZSBhY3R1YWwgcXVlc3Rpb25zIChyZW51bWJlciBzdGFydGluZyBmcm9tIDEpXG4gICAgICAgICAgICAgIGFkZFRleHQoYCR7aW5kZXh9LiAke3F1ZXN0aW9ufWAsIEZPTlRfU0laRVMuTUFJTl9DT05URU5ULCBmYWxzZSwgZmFsc2UsIDEwKVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pXG4gICAgICAgIH0pXG4gICAgICB9XG5cbiAgICAgIC8vIEZvb3RlclxuICAgICAgY29uc3QgcGFnZUNvdW50ID0gKHBkZiBhcyBhbnkpLmludGVybmFsLmdldE51bWJlck9mUGFnZXMoKVxuICAgICAgZm9yIChsZXQgaSA9IDE7IGkgPD0gcGFnZUNvdW50OyBpKyspIHtcbiAgICAgICAgcGRmLnNldFBhZ2UoaSlcbiAgICAgICAgcGRmLnNldEZvbnRTaXplKDgpXG4gICAgICAgIHBkZi5zZXRGb250KFwiaGVsdmV0aWNhXCIsIFwibm9ybWFsXCIpXG4gICAgICAgIHBkZi50ZXh0KGBHZW5lcmF0ZWQgYnkgTGluZ3VhU3BhcmsgLSBQYWdlICR7aX0gb2YgJHtwYWdlQ291bnR9YCwgbWFyZ2luLCBwYWdlSGVpZ2h0IC0gMTApXG4gICAgICB9XG5cbiAgICAgIC8vIERvd25sb2FkIHRoZSBQREZcbiAgICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IGZpbGVOYW1lID0gYCR7bGVzc29uRGF0YS5sZXNzb25UeXBlfS1sZXNzb24tJHtsZXNzb25EYXRhLnN0dWRlbnRMZXZlbH0tJHtEYXRlLm5vdygpfS5wZGZgXG4gICAgICAgIGNvbnNvbGUubG9nKCdTYXZpbmcgUERGIHdpdGggZmlsZW5hbWU6JywgZmlsZU5hbWUpXG4gICAgICAgIHBkZi5zYXZlKGZpbGVOYW1lKVxuICAgICAgICBjb25zb2xlLmxvZygnUERGIGV4cG9ydCBjb21wbGV0ZWQgc3VjY2Vzc2Z1bGx5JylcbiAgICAgIH0gY2F0Y2ggKHNhdmVFcnJvcikge1xuICAgICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBzYXZpbmcgUERGOicsIHNhdmVFcnJvcilcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBGYWlsZWQgdG8gc2F2ZSBQREY6ICR7c2F2ZUVycm9yIGluc3RhbmNlb2YgRXJyb3IgPyBzYXZlRXJyb3IubWVzc2FnZSA6ICdVbmtub3duIHNhdmUgZXJyb3InfWApXG4gICAgICB9XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ1BERiBleHBvcnQgZXJyb3I6JywgZXJyb3IpXG4gICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBzdGFjazonLCBlcnJvciBpbnN0YW5jZW9mIEVycm9yID8gZXJyb3Iuc3RhY2sgOiAnTm8gc3RhY2sgdHJhY2UnKVxuICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgZGV0YWlsczonLCB7XG4gICAgICAgIG5hbWU6IGVycm9yIGluc3RhbmNlb2YgRXJyb3IgPyBlcnJvci5uYW1lIDogJ1Vua25vd24nLFxuICAgICAgICBtZXNzYWdlOiBlcnJvciBpbnN0YW5jZW9mIEVycm9yID8gZXJyb3IubWVzc2FnZSA6ICdVbmtub3duIGVycm9yJyxcbiAgICAgICAgbGVzc29uRGF0YUtleXM6IGxlc3NvbkRhdGEgPyBPYmplY3Qua2V5cyhsZXNzb25EYXRhKSA6ICdObyBsZXNzb24gZGF0YScsXG4gICAgICAgIHNlY3Rpb25zS2V5czogbGVzc29uRGF0YT8uc2VjdGlvbnMgPyBPYmplY3Qua2V5cyhsZXNzb25EYXRhLnNlY3Rpb25zKSA6ICdObyBzZWN0aW9ucycsXG4gICAgICAgIGVuYWJsZWRTZWN0aW9uc0tleXM6IGVuYWJsZWRTZWN0aW9ucyA/IE9iamVjdC5rZXlzKGVuYWJsZWRTZWN0aW9ucykgOiAnTm8gZW5hYmxlZCBzZWN0aW9ucydcbiAgICAgIH0pXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoYFBERiBleHBvcnQgZmFpbGVkOiAke2Vycm9yIGluc3RhbmNlb2YgRXJyb3IgPyBlcnJvci5tZXNzYWdlIDogJ1Vua25vd24gZXJyb3InfWApXG4gICAgfVxuICB9XG5cbiAgYXN5bmMgZXhwb3J0VG9Xb3JkKGxlc3NvbkRhdGE6IExlc3NvbkRhdGEsIGVuYWJsZWRTZWN0aW9uczogUmVjb3JkPHN0cmluZywgYm9vbGVhbj4pOiBQcm9taXNlPHZvaWQ+IHtcbiAgICB0cnkge1xuICAgICAgY29uc29sZS5sb2coJ1N0YXJ0aW5nIFdvcmQgZXhwb3J0IHdpdGggZGF0YTonLCB7IGxlc3NvbkRhdGEsIGVuYWJsZWRTZWN0aW9ucyB9KVxuICAgICAgdGhpcy52YWxpZGF0ZUxlc3NvbkRhdGEobGVzc29uRGF0YSlcblxuICAgICAgLy8gQWRkaXRpb25hbCB2YWxpZGF0aW9uIGZvciBlbmFibGVkIHNlY3Rpb25zXG4gICAgICBpZiAoIWVuYWJsZWRTZWN0aW9ucyB8fCBPYmplY3Qua2V5cyhlbmFibGVkU2VjdGlvbnMpLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ05vIHNlY3Rpb25zIGVuYWJsZWQgZm9yIGV4cG9ydCcpXG4gICAgICB9XG5cbiAgICAgIGNvbnN0IGNoaWxkcmVuOiBhbnlbXSA9IFtdXG5cbiAgICAgIC8vIFR5cG9ncmFwaHkgaGllcmFyY2h5IGNvbnN0YW50cyAoaW4gaGFsZi1wb2ludHMgZm9yIFdvcmQgLSBtdWx0aXBseSBieSAyKVxuICAgICAgLy8gMzJweCA9IDI0cHQsIDI4cHggPSAyMXB0LCAxNnB4ID0gMTJwdCwgMTVweCA9IDExLjI1cHQsIDE0cHggPSAxMC41cHRcbiAgICAgIGNvbnN0IFdPUkRfRk9OVF9TSVpFUyA9IHtcbiAgICAgICAgTEVTU09OX1RJVExFOiA0OCwgICAgICAvLyAyNHB0ICgzMnB4IGVxdWl2YWxlbnQpXG4gICAgICAgIFNFQ1RJT05fSEVBREVSOiA0MiwgICAgLy8gMjFwdCAoMjhweCBlcXVpdmFsZW50KSAgXG4gICAgICAgIE1BSU5fQ09OVEVOVDogMjQsICAgICAgLy8gMTJwdCAoMTZweCBlcXVpdmFsZW50KVxuICAgICAgICBJTlNUUlVDVElPTlM6IDIzLCAgICAgIC8vIDExLjVwdCAoMTVweCBlcXVpdmFsZW50KVxuICAgICAgICBTVVBQTEVNRU5UQVJZOiAyMSAgICAgIC8vIDEwLjVwdCAoMTRweCBlcXVpdmFsZW50KVxuICAgICAgfVxuXG4gICAgICAvLyBUaXRsZSBhbmQgbWV0YWRhdGFcbiAgICAgIGNoaWxkcmVuLnB1c2goXG4gICAgICAgIG5ldyBQYXJhZ3JhcGgoe1xuICAgICAgICAgIGNoaWxkcmVuOiBbXG4gICAgICAgICAgICBuZXcgVGV4dFJ1bih7XG4gICAgICAgICAgICAgIHRleHQ6IGxlc3NvbkRhdGEubGVzc29uVGl0bGUsXG4gICAgICAgICAgICAgIGJvbGQ6IHRydWUsXG4gICAgICAgICAgICAgIHNpemU6IFdPUkRfRk9OVF9TSVpFUy5MRVNTT05fVElUTEUsXG4gICAgICAgICAgICB9KSxcbiAgICAgICAgICBdLFxuICAgICAgICAgIGhlYWRpbmc6IEhlYWRpbmdMZXZlbC5USVRMRSxcbiAgICAgICAgICBhbGlnbm1lbnQ6IEFsaWdubWVudFR5cGUuQ0VOVEVSLFxuICAgICAgICAgIHNwYWNpbmc6IHsgYWZ0ZXI6IDQwMCB9LFxuICAgICAgICB9KSxcbiAgICAgIClcblxuICAgICAgY2hpbGRyZW4ucHVzaChcbiAgICAgICAgbmV3IFBhcmFncmFwaCh7XG4gICAgICAgICAgY2hpbGRyZW46IFtcbiAgICAgICAgICAgIG5ldyBUZXh0UnVuKHtcbiAgICAgICAgICAgICAgdGV4dDogYFRhcmdldCBMYW5ndWFnZTogJHtsZXNzb25EYXRhLnRhcmdldExhbmd1YWdlLmNoYXJBdCgwKS50b1VwcGVyQ2FzZSgpICsgbGVzc29uRGF0YS50YXJnZXRMYW5ndWFnZS5zbGljZSgxKX1gLFxuICAgICAgICAgICAgICBzaXplOiBXT1JEX0ZPTlRfU0laRVMuU1VQUExFTUVOVEFSWSxcbiAgICAgICAgICAgIH0pLFxuICAgICAgICAgIF0sXG4gICAgICAgICAgc3BhY2luZzogeyBhZnRlcjogMjAwIH0sXG4gICAgICAgIH0pLFxuICAgICAgKVxuXG4gICAgICBjaGlsZHJlbi5wdXNoKFxuICAgICAgICBuZXcgUGFyYWdyYXBoKHtcbiAgICAgICAgICBjaGlsZHJlbjogW1xuICAgICAgICAgICAgbmV3IFRleHRSdW4oe1xuICAgICAgICAgICAgICB0ZXh0OiBgR2VuZXJhdGVkIG9uOiAke3RoaXMuZm9ybWF0RGF0ZSgpfWAsXG4gICAgICAgICAgICAgIHNpemU6IFdPUkRfRk9OVF9TSVpFUy5TVVBQTEVNRU5UQVJZLFxuICAgICAgICAgICAgfSksXG4gICAgICAgICAgXSxcbiAgICAgICAgICBzcGFjaW5nOiB7IGFmdGVyOiA0MDAgfSxcbiAgICAgICAgfSksXG4gICAgICApXG5cbiAgICAgIC8vIEhlbHBlciBmdW5jdGlvbiB0byBhZGQgc2VjdGlvblxuICAgICAgY29uc3QgYWRkU2VjdGlvbiA9ICh0aXRsZTogc3RyaW5nLCBjb250ZW50OiBhbnlbXSkgPT4ge1xuICAgICAgICBjaGlsZHJlbi5wdXNoKFxuICAgICAgICAgIG5ldyBQYXJhZ3JhcGgoe1xuICAgICAgICAgICAgY2hpbGRyZW46IFtcbiAgICAgICAgICAgICAgbmV3IFRleHRSdW4oe1xuICAgICAgICAgICAgICAgIHRleHQ6IHRpdGxlLFxuICAgICAgICAgICAgICAgIGJvbGQ6IHRydWUsXG4gICAgICAgICAgICAgICAgc2l6ZTogV09SRF9GT05UX1NJWkVTLlNFQ1RJT05fSEVBREVSLFxuICAgICAgICAgICAgICAgIHVuZGVybGluZTogeyB0eXBlOiBVbmRlcmxpbmVUeXBlLlNJTkdMRSB9LFxuICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgIF0sXG4gICAgICAgICAgICBoZWFkaW5nOiBIZWFkaW5nTGV2ZWwuSEVBRElOR18yLFxuICAgICAgICAgICAgc3BhY2luZzogeyBiZWZvcmU6IDQwMCwgYWZ0ZXI6IDIwMCB9LFxuICAgICAgICAgIH0pLFxuICAgICAgICApXG4gICAgICAgIGNoaWxkcmVuLnB1c2goLi4uY29udGVudClcbiAgICAgIH1cblxuICAgICAgLy8gQWRkIHNlY3Rpb25zIGJhc2VkIG9uIGVuYWJsZWQgc3RhdGVcbiAgICAgIGlmIChlbmFibGVkU2VjdGlvbnMud2FybXVwICYmIGxlc3NvbkRhdGEuc2VjdGlvbnMud2FybXVwKSB7XG4gICAgICAgIGNvbnN0IHdhcm11cFF1ZXN0aW9ucyA9IEFycmF5LmlzQXJyYXkobGVzc29uRGF0YS5zZWN0aW9ucy53YXJtdXApID8gbGVzc29uRGF0YS5zZWN0aW9ucy53YXJtdXAgOiBbXVxuICAgICAgICBjb25zdCB3YXJtdXBDb250ZW50ID0gd2FybXVwUXVlc3Rpb25zLm1hcCgocXVlc3Rpb24sIGluZGV4KSA9PiB7XG4gICAgICAgICAgLy8gRmlyc3QgaXRlbSBpcyB0aGUgaW5zdHJ1Y3Rpb24gd2l0aCBsaWdodCBncmVlbiBiYWNrZ3JvdW5kXG4gICAgICAgICAgaWYgKGluZGV4ID09PSAwKSB7XG4gICAgICAgICAgICByZXR1cm4gbmV3IFBhcmFncmFwaCh7XG4gICAgICAgICAgICAgIGNoaWxkcmVuOiBbXG4gICAgICAgICAgICAgICAgbmV3IFRleHRSdW4oe1xuICAgICAgICAgICAgICAgICAgdGV4dDogcXVlc3Rpb24sXG4gICAgICAgICAgICAgICAgICBzaXplOiBXT1JEX0ZPTlRfU0laRVMuSU5TVFJVQ1RJT05TLFxuICAgICAgICAgICAgICAgICAgaXRhbGljczogdHJ1ZSxcbiAgICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgICAgXSxcbiAgICAgICAgICAgICAgc3BhY2luZzogeyBhZnRlcjogMjAwIH0sXG4gICAgICAgICAgICAgIHNoYWRpbmc6IHtcbiAgICAgICAgICAgICAgICBmaWxsOiBcIkVFRjdEQ1wiLCAvLyBMaWdodCBncmVlbiBiYWNrZ3JvdW5kXG4gICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgIGJvcmRlcjoge1xuICAgICAgICAgICAgICAgIGxlZnQ6IHtcbiAgICAgICAgICAgICAgICAgIGNvbG9yOiBcIkNDQ0NDQ1wiLFxuICAgICAgICAgICAgICAgICAgc2l6ZTogNixcbiAgICAgICAgICAgICAgICAgIHN0eWxlOiBcInNpbmdsZVwiLFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB9KVxuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAvLyBSZXN0IGFyZSBhY3R1YWwgcXVlc3Rpb25zIChyZW51bWJlciBzdGFydGluZyBmcm9tIDEpXG4gICAgICAgICAgICByZXR1cm4gbmV3IFBhcmFncmFwaCh7XG4gICAgICAgICAgICAgIGNoaWxkcmVuOiBbXG4gICAgICAgICAgICAgICAgbmV3IFRleHRSdW4oe1xuICAgICAgICAgICAgICAgICAgdGV4dDogYCR7aW5kZXh9LiAke3F1ZXN0aW9ufWAsXG4gICAgICAgICAgICAgICAgICBzaXplOiBXT1JEX0ZPTlRfU0laRVMuTUFJTl9DT05URU5ULFxuICAgICAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgICBdLFxuICAgICAgICAgICAgICBzcGFjaW5nOiB7IGFmdGVyOiAxNTAgfSxcbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgfVxuICAgICAgICB9KVxuICAgICAgICBhZGRTZWN0aW9uKFwiV2FybS11cCBRdWVzdGlvbnNcIiwgd2FybXVwQ29udGVudClcbiAgICAgIH1cblxuICAgICAgaWYgKGVuYWJsZWRTZWN0aW9ucy52b2NhYnVsYXJ5ICYmIGxlc3NvbkRhdGEuc2VjdGlvbnMudm9jYWJ1bGFyeSkge1xuICAgICAgICBjb25zdCB2b2NhYkNvbnRlbnQ6IGFueVtdID0gW11cbiAgICAgICAgY29uc3Qgdm9jYWJ1bGFyeUl0ZW1zID0gQXJyYXkuaXNBcnJheShsZXNzb25EYXRhLnNlY3Rpb25zLnZvY2FidWxhcnkpID8gbGVzc29uRGF0YS5zZWN0aW9ucy52b2NhYnVsYXJ5IDogW11cbiAgICAgICAgdm9jYWJ1bGFyeUl0ZW1zLmZvckVhY2goKGl0ZW0sIGluZGV4KSA9PiB7XG4gICAgICAgICAgLy8gRmlyc3QgaXRlbSBtaWdodCBiZSBhbiBpbnN0cnVjdGlvblxuICAgICAgICAgIGlmIChpbmRleCA9PT0gMCAmJiBpdGVtLndvcmQgPT09IFwiSU5TVFJVQ1RJT05cIikge1xuICAgICAgICAgICAgdm9jYWJDb250ZW50LnB1c2goXG4gICAgICAgICAgICAgIG5ldyBQYXJhZ3JhcGgoe1xuICAgICAgICAgICAgICAgIGNoaWxkcmVuOiBbXG4gICAgICAgICAgICAgICAgICBuZXcgVGV4dFJ1bih7XG4gICAgICAgICAgICAgICAgICAgIHRleHQ6IGl0ZW0ubWVhbmluZyxcbiAgICAgICAgICAgICAgICAgICAgc2l6ZTogV09SRF9GT05UX1NJWkVTLklOU1RSVUNUSU9OUyxcbiAgICAgICAgICAgICAgICAgICAgaXRhbGljczogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgICAgIF0sXG4gICAgICAgICAgICAgICAgc3BhY2luZzogeyBhZnRlcjogMjAwIH0sXG4gICAgICAgICAgICAgICAgc2hhZGluZzoge1xuICAgICAgICAgICAgICAgICAgZmlsbDogXCJGMUZBRkZcIiwgLy8gTGlnaHQgYmx1ZSBiYWNrZ3JvdW5kXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBib3JkZXI6IHtcbiAgICAgICAgICAgICAgICAgIGxlZnQ6IHtcbiAgICAgICAgICAgICAgICAgICAgY29sb3I6IFwiQ0NDQ0NDXCIsXG4gICAgICAgICAgICAgICAgICAgIHNpemU6IDYsXG4gICAgICAgICAgICAgICAgICAgIHN0eWxlOiBcInNpbmdsZVwiLFxuICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgIClcbiAgICAgICAgICAgIHJldHVyblxuICAgICAgICAgIH1cblxuICAgICAgICAgIHZvY2FiQ29udGVudC5wdXNoKFxuICAgICAgICAgICAgbmV3IFBhcmFncmFwaCh7XG4gICAgICAgICAgICAgIGNoaWxkcmVuOiBbXG4gICAgICAgICAgICAgICAgbmV3IFRleHRSdW4oe1xuICAgICAgICAgICAgICAgICAgdGV4dDogYCR7aW5kZXggKyAxfS4gJHtpdGVtLndvcmR9YCxcbiAgICAgICAgICAgICAgICAgIGJvbGQ6IHRydWUsXG4gICAgICAgICAgICAgICAgICBzaXplOiBXT1JEX0ZPTlRfU0laRVMuTUFJTl9DT05URU5ULFxuICAgICAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgICBdLFxuICAgICAgICAgICAgICBzcGFjaW5nOiB7IGFmdGVyOiAxMDAgfSxcbiAgICAgICAgICAgIH0pLFxuICAgICAgICAgIClcbiAgICAgICAgICB2b2NhYkNvbnRlbnQucHVzaChcbiAgICAgICAgICAgIG5ldyBQYXJhZ3JhcGgoe1xuICAgICAgICAgICAgICBjaGlsZHJlbjogW1xuICAgICAgICAgICAgICAgIG5ldyBUZXh0UnVuKHtcbiAgICAgICAgICAgICAgICAgIHRleHQ6IGAgICBNZWFuaW5nOiAke2l0ZW0ubWVhbmluZ31gLFxuICAgICAgICAgICAgICAgICAgc2l6ZTogV09SRF9GT05UX1NJWkVTLk1BSU5fQ09OVEVOVCxcbiAgICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgICAgXSxcbiAgICAgICAgICAgICAgc3BhY2luZzogeyBhZnRlcjogMTAwIH0sXG4gICAgICAgICAgICB9KSxcbiAgICAgICAgICApXG5cbiAgICAgICAgICAvLyBIYW5kbGUgYm90aCBvbGQgZm9ybWF0IChleGFtcGxlKSBhbmQgbmV3IGZvcm1hdCAoZXhhbXBsZXMgYXJyYXkpXG4gICAgICAgICAgaWYgKGl0ZW0uZXhhbXBsZXMgJiYgQXJyYXkuaXNBcnJheShpdGVtLmV4YW1wbGVzKSAmJiBpdGVtLmV4YW1wbGVzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIHZvY2FiQ29udGVudC5wdXNoKFxuICAgICAgICAgICAgICBuZXcgUGFyYWdyYXBoKHtcbiAgICAgICAgICAgICAgICBjaGlsZHJlbjogW1xuICAgICAgICAgICAgICAgICAgbmV3IFRleHRSdW4oe1xuICAgICAgICAgICAgICAgICAgICB0ZXh0OiBgICAgRXhhbXBsZXM6YCxcbiAgICAgICAgICAgICAgICAgICAgc2l6ZTogV09SRF9GT05UX1NJWkVTLklOU1RSVUNUSU9OUyxcbiAgICAgICAgICAgICAgICAgICAgYm9sZDogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgICAgIF0sXG4gICAgICAgICAgICAgICAgc3BhY2luZzogeyBhZnRlcjogMTAwIH0sXG4gICAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgKVxuICAgICAgICAgICAgLy8gQWRkaXRpb25hbCBzYWZldHkgY2hlY2sgYmVmb3JlIGZvckVhY2hcbiAgICAgICAgICAgIGNvbnN0IGV4YW1wbGVzID0gQXJyYXkuaXNBcnJheShpdGVtLmV4YW1wbGVzKSA/IGl0ZW0uZXhhbXBsZXMgOiBbXVxuICAgICAgICAgICAgZXhhbXBsZXMuZm9yRWFjaCgoZXhhbXBsZSwgZXhJbmRleCkgPT4ge1xuICAgICAgICAgICAgICB2b2NhYkNvbnRlbnQucHVzaChcbiAgICAgICAgICAgICAgICBuZXcgUGFyYWdyYXBoKHtcbiAgICAgICAgICAgICAgICAgIGNoaWxkcmVuOiBbXG4gICAgICAgICAgICAgICAgICAgIG5ldyBUZXh0UnVuKHtcbiAgICAgICAgICAgICAgICAgICAgICB0ZXh0OiBgICAgICAgJHtleEluZGV4ICsgMX0uIFwiJHtleGFtcGxlfVwiYCxcbiAgICAgICAgICAgICAgICAgICAgICBzaXplOiBXT1JEX0ZPTlRfU0laRVMuU1VQUExFTUVOVEFSWSxcbiAgICAgICAgICAgICAgICAgICAgICBpdGFsaWNzOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgICAgICAgIF0sXG4gICAgICAgICAgICAgICAgICBzcGFjaW5nOiB7IGFmdGVyOiAxMDAgfSxcbiAgICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIHZvY2FiQ29udGVudC5wdXNoKFxuICAgICAgICAgICAgICBuZXcgUGFyYWdyYXBoKHtcbiAgICAgICAgICAgICAgICBjaGlsZHJlbjogW25ldyBUZXh0UnVuKHsgdGV4dDogXCJcIiB9KV0sXG4gICAgICAgICAgICAgICAgc3BhY2luZzogeyBhZnRlcjogMTAwIH0sXG4gICAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgKVxuICAgICAgICAgIH0gZWxzZSBpZiAoaXRlbS5leGFtcGxlKSB7XG4gICAgICAgICAgICB2b2NhYkNvbnRlbnQucHVzaChcbiAgICAgICAgICAgICAgbmV3IFBhcmFncmFwaCh7XG4gICAgICAgICAgICAgICAgY2hpbGRyZW46IFtcbiAgICAgICAgICAgICAgICAgIG5ldyBUZXh0UnVuKHtcbiAgICAgICAgICAgICAgICAgICAgdGV4dDogYCAgIEV4YW1wbGU6IFwiJHtpdGVtLmV4YW1wbGV9XCJgLFxuICAgICAgICAgICAgICAgICAgICBzaXplOiBXT1JEX0ZPTlRfU0laRVMuU1VQUExFTUVOVEFSWSxcbiAgICAgICAgICAgICAgICAgICAgaXRhbGljczogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgICAgIF0sXG4gICAgICAgICAgICAgICAgc3BhY2luZzogeyBhZnRlcjogMjAwIH0sXG4gICAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgKVxuICAgICAgICAgIH1cbiAgICAgICAgfSlcbiAgICAgICAgYWRkU2VjdGlvbihcIktleSBWb2NhYnVsYXJ5XCIsIHZvY2FiQ29udGVudClcbiAgICAgIH1cblxuICAgICAgaWYgKGVuYWJsZWRTZWN0aW9ucy5yZWFkaW5nICYmIGxlc3NvbkRhdGEuc2VjdGlvbnMucmVhZGluZykge1xuICAgICAgICBjb25zdCByZWFkaW5nVGV4dCA9IGxlc3NvbkRhdGEuc2VjdGlvbnMucmVhZGluZ1xuICAgICAgICBjb25zdCBwYXJ0cyA9IHJlYWRpbmdUZXh0LnNwbGl0KCdcXG5cXG4nKVxuICAgICAgICBjb25zdCByZWFkaW5nQ29udGVudDogYW55W10gPSBbXVxuXG4gICAgICAgIC8vIENoZWNrIGlmIGZpcnN0IHBhcnQgaXMgYW4gaW5zdHJ1Y3Rpb25cbiAgICAgICAgaWYgKHBhcnRzLmxlbmd0aCA+IDEgJiYgcGFydHNbMF0uaW5jbHVkZXMoJ1JlYWQgdGhlIGZvbGxvd2luZyB0ZXh0IGNhcmVmdWxseScpKSB7XG4gICAgICAgICAgLy8gQWRkIGluc3RydWN0aW9uIHdpdGggbGlnaHQgZ3JlZW4gYmFja2dyb3VuZFxuICAgICAgICAgIHJlYWRpbmdDb250ZW50LnB1c2goXG4gICAgICAgICAgICBuZXcgUGFyYWdyYXBoKHtcbiAgICAgICAgICAgICAgY2hpbGRyZW46IFtcbiAgICAgICAgICAgICAgICBuZXcgVGV4dFJ1bih7XG4gICAgICAgICAgICAgICAgICB0ZXh0OiBwYXJ0c1swXSxcbiAgICAgICAgICAgICAgICAgIHNpemU6IFdPUkRfRk9OVF9TSVpFUy5JTlNUUlVDVElPTlMsXG4gICAgICAgICAgICAgICAgICBpdGFsaWNzOiB0cnVlLFxuICAgICAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgICBdLFxuICAgICAgICAgICAgICBzcGFjaW5nOiB7IGFmdGVyOiAyMDAgfSxcbiAgICAgICAgICAgICAgc2hhZGluZzoge1xuICAgICAgICAgICAgICAgIGZpbGw6IFwiRUVGN0RDXCIsIC8vIExpZ2h0IGdyZWVuIGJhY2tncm91bmRcbiAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgYm9yZGVyOiB7XG4gICAgICAgICAgICAgICAgbGVmdDoge1xuICAgICAgICAgICAgICAgICAgY29sb3I6IFwiQ0NDQ0NDXCIsXG4gICAgICAgICAgICAgICAgICBzaXplOiA2LFxuICAgICAgICAgICAgICAgICAgc3R5bGU6IFwic2luZ2xlXCIsXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIH0pLFxuICAgICAgICAgIClcblxuICAgICAgICAgIC8vIEFkZCB0aGUgcmVzdCBvZiB0aGUgcmVhZGluZyBwYXNzYWdlXG4gICAgICAgICAgcmVhZGluZ0NvbnRlbnQucHVzaChcbiAgICAgICAgICAgIG5ldyBQYXJhZ3JhcGgoe1xuICAgICAgICAgICAgICBjaGlsZHJlbjogW1xuICAgICAgICAgICAgICAgIG5ldyBUZXh0UnVuKHtcbiAgICAgICAgICAgICAgICAgIHRleHQ6IHBhcnRzLnNsaWNlKDEpLmpvaW4oJ1xcblxcbicpLFxuICAgICAgICAgICAgICAgICAgc2l6ZTogV09SRF9GT05UX1NJWkVTLk1BSU5fQ09OVEVOVCxcbiAgICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgICAgXSxcbiAgICAgICAgICAgICAgc3BhY2luZzogeyBhZnRlcjogMjAwIH0sXG4gICAgICAgICAgICB9KSxcbiAgICAgICAgICApXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgLy8gTm8gaW5zdHJ1Y3Rpb24sIGRpc3BsYXkgYXMgYmVmb3JlXG4gICAgICAgICAgcmVhZGluZ0NvbnRlbnQucHVzaChcbiAgICAgICAgICAgIG5ldyBQYXJhZ3JhcGgoe1xuICAgICAgICAgICAgICBjaGlsZHJlbjogW1xuICAgICAgICAgICAgICAgIG5ldyBUZXh0UnVuKHtcbiAgICAgICAgICAgICAgICAgIHRleHQ6IHJlYWRpbmdUZXh0LFxuICAgICAgICAgICAgICAgICAgc2l6ZTogV09SRF9GT05UX1NJWkVTLk1BSU5fQ09OVEVOVCxcbiAgICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgICAgXSxcbiAgICAgICAgICAgICAgc3BhY2luZzogeyBhZnRlcjogMjAwIH0sXG4gICAgICAgICAgICB9KSxcbiAgICAgICAgICApXG4gICAgICAgIH1cblxuICAgICAgICBhZGRTZWN0aW9uKFwiUmVhZGluZyBQYXNzYWdlXCIsIHJlYWRpbmdDb250ZW50KVxuICAgICAgfVxuXG4gICAgICBpZiAoZW5hYmxlZFNlY3Rpb25zLmNvbXByZWhlbnNpb24gJiYgbGVzc29uRGF0YS5zZWN0aW9ucy5jb21wcmVoZW5zaW9uKSB7XG4gICAgICAgIGNvbnN0IGNvbXByZWhlbnNpb25RdWVzdGlvbnMgPSBBcnJheS5pc0FycmF5KGxlc3NvbkRhdGEuc2VjdGlvbnMuY29tcHJlaGVuc2lvbikgPyBsZXNzb25EYXRhLnNlY3Rpb25zLmNvbXByZWhlbnNpb24gOiBbXVxuICAgICAgICBjb25zdCBjb21wcmVoZW5zaW9uQ29udGVudCA9IGNvbXByZWhlbnNpb25RdWVzdGlvbnMubWFwKChxdWVzdGlvbiwgaW5kZXgpID0+IHtcbiAgICAgICAgICAvLyBGaXJzdCBpdGVtIGlzIHRoZSBpbnN0cnVjdGlvbiB3aXRoIGxpZ2h0IGJsdWUgYmFja2dyb3VuZFxuICAgICAgICAgIGlmIChpbmRleCA9PT0gMCkge1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBQYXJhZ3JhcGgoe1xuICAgICAgICAgICAgICBjaGlsZHJlbjogW1xuICAgICAgICAgICAgICAgIG5ldyBUZXh0UnVuKHtcbiAgICAgICAgICAgICAgICAgIHRleHQ6IHF1ZXN0aW9uLFxuICAgICAgICAgICAgICAgICAgc2l6ZTogV09SRF9GT05UX1NJWkVTLklOU1RSVUNUSU9OUyxcbiAgICAgICAgICAgICAgICAgIGl0YWxpY3M6IHRydWUsXG4gICAgICAgICAgICAgICAgfSksXG4gICAgICAgICAgICAgIF0sXG4gICAgICAgICAgICAgIHNwYWNpbmc6IHsgYWZ0ZXI6IDIwMCB9LFxuICAgICAgICAgICAgICBzaGFkaW5nOiB7XG4gICAgICAgICAgICAgICAgZmlsbDogXCJGMUZBRkZcIiwgLy8gTGlnaHQgYmx1ZSBiYWNrZ3JvdW5kXG4gICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgIGJvcmRlcjoge1xuICAgICAgICAgICAgICAgIGxlZnQ6IHtcbiAgICAgICAgICAgICAgICAgIGNvbG9yOiBcIkNDQ0NDQ1wiLFxuICAgICAgICAgICAgICAgICAgc2l6ZTogNixcbiAgICAgICAgICAgICAgICAgIHN0eWxlOiBcInNpbmdsZVwiLFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB9KVxuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAvLyBSZXN0IGFyZSBhY3R1YWwgcXVlc3Rpb25zIChyZW51bWJlciBzdGFydGluZyBmcm9tIDEpXG4gICAgICAgICAgICByZXR1cm4gbmV3IFBhcmFncmFwaCh7XG4gICAgICAgICAgICAgIGNoaWxkcmVuOiBbXG4gICAgICAgICAgICAgICAgbmV3IFRleHRSdW4oe1xuICAgICAgICAgICAgICAgICAgdGV4dDogYCR7aW5kZXh9LiAke3F1ZXN0aW9ufWAsXG4gICAgICAgICAgICAgICAgICBzaXplOiBXT1JEX0ZPTlRfU0laRVMuTUFJTl9DT05URU5ULFxuICAgICAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgICBdLFxuICAgICAgICAgICAgICBzcGFjaW5nOiB7IGFmdGVyOiAxNTAgfSxcbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgfVxuICAgICAgICB9KVxuICAgICAgICBhZGRTZWN0aW9uKFwiUmVhZGluZyBDb21wcmVoZW5zaW9uXCIsIGNvbXByZWhlbnNpb25Db250ZW50KVxuICAgICAgfVxuXG4gICAgICBpZiAoZW5hYmxlZFNlY3Rpb25zLmRpc2N1c3Npb24gJiYgbGVzc29uRGF0YS5zZWN0aW9ucy5kaXNjdXNzaW9uKSB7XG4gICAgICAgIGNvbnN0IGRpc2N1c3Npb25RdWVzdGlvbnMgPSBBcnJheS5pc0FycmF5KGxlc3NvbkRhdGEuc2VjdGlvbnMuZGlzY3Vzc2lvbikgPyBsZXNzb25EYXRhLnNlY3Rpb25zLmRpc2N1c3Npb24gOiBbXVxuICAgICAgICBjb25zdCBkaXNjdXNzaW9uQ29udGVudCA9IGRpc2N1c3Npb25RdWVzdGlvbnMubWFwKChxdWVzdGlvbiwgaW5kZXgpID0+IHtcbiAgICAgICAgICAvLyBGaXJzdCBpdGVtIGlzIHRoZSBpbnN0cnVjdGlvbiB3aXRoIGxpZ2h0IGdyZWVuIGJhY2tncm91bmRcbiAgICAgICAgICBpZiAoaW5kZXggPT09IDApIHtcbiAgICAgICAgICAgIHJldHVybiBuZXcgUGFyYWdyYXBoKHtcbiAgICAgICAgICAgICAgY2hpbGRyZW46IFtcbiAgICAgICAgICAgICAgICBuZXcgVGV4dFJ1bih7XG4gICAgICAgICAgICAgICAgICB0ZXh0OiBxdWVzdGlvbixcbiAgICAgICAgICAgICAgICAgIHNpemU6IFdPUkRfRk9OVF9TSVpFUy5JTlNUUlVDVElPTlMsXG4gICAgICAgICAgICAgICAgICBpdGFsaWNzOiB0cnVlLFxuICAgICAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgICBdLFxuICAgICAgICAgICAgICBzcGFjaW5nOiB7IGFmdGVyOiAyMDAgfSxcbiAgICAgICAgICAgICAgc2hhZGluZzoge1xuICAgICAgICAgICAgICAgIGZpbGw6IFwiRUVGN0RDXCIsIC8vIExpZ2h0IGdyZWVuIGJhY2tncm91bmRcbiAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgYm9yZGVyOiB7XG4gICAgICAgICAgICAgICAgbGVmdDoge1xuICAgICAgICAgICAgICAgICAgY29sb3I6IFwiQ0NDQ0NDXCIsXG4gICAgICAgICAgICAgICAgICBzaXplOiA2LFxuICAgICAgICAgICAgICAgICAgc3R5bGU6IFwic2luZ2xlXCIsXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIC8vIFJlc3QgYXJlIGFjdHVhbCBxdWVzdGlvbnMgKHJlbnVtYmVyIHN0YXJ0aW5nIGZyb20gMSlcbiAgICAgICAgICAgIHJldHVybiBuZXcgUGFyYWdyYXBoKHtcbiAgICAgICAgICAgICAgY2hpbGRyZW46IFtcbiAgICAgICAgICAgICAgICBuZXcgVGV4dFJ1bih7XG4gICAgICAgICAgICAgICAgICB0ZXh0OiBgJHtpbmRleH0uICR7cXVlc3Rpb259YCxcbiAgICAgICAgICAgICAgICAgIHNpemU6IFdPUkRfRk9OVF9TSVpFUy5NQUlOX0NPTlRFTlQsXG4gICAgICAgICAgICAgICAgfSksXG4gICAgICAgICAgICAgIF0sXG4gICAgICAgICAgICAgIHNwYWNpbmc6IHsgYWZ0ZXI6IDE1MCB9LFxuICAgICAgICAgICAgfSlcbiAgICAgICAgICB9XG4gICAgICAgIH0pXG4gICAgICAgIGFkZFNlY3Rpb24oXCJEaXNjdXNzaW9uIFF1ZXN0aW9uc1wiLCBkaXNjdXNzaW9uQ29udGVudClcbiAgICAgIH1cblxuICAgICAgaWYgKGVuYWJsZWRTZWN0aW9ucy5kaWFsb2d1ZVByYWN0aWNlICYmIGxlc3NvbkRhdGEuc2VjdGlvbnMuZGlhbG9ndWVQcmFjdGljZSkge1xuICAgICAgICBjb25zdCBkaWFsb2d1ZVByYWN0aWNlQ29udGVudDogYW55W10gPSBbXVxuICAgICAgICBjb25zdCBkaWFsb2d1ZVNlY3Rpb24gPSBsZXNzb25EYXRhLnNlY3Rpb25zLmRpYWxvZ3VlUHJhY3RpY2VcblxuICAgICAgICAvLyBBZGQgaW5zdHJ1Y3Rpb24gd2l0aCBsaWdodCBncmVlbiBiYWNrZ3JvdW5kICgjRUVGN0RDKVxuICAgICAgICBkaWFsb2d1ZVByYWN0aWNlQ29udGVudC5wdXNoKFxuICAgICAgICAgIG5ldyBQYXJhZ3JhcGgoe1xuICAgICAgICAgICAgY2hpbGRyZW46IFtcbiAgICAgICAgICAgICAgbmV3IFRleHRSdW4oe1xuICAgICAgICAgICAgICAgIHRleHQ6IGRpYWxvZ3VlU2VjdGlvbi5pbnN0cnVjdGlvbixcbiAgICAgICAgICAgICAgICBzaXplOiBXT1JEX0ZPTlRfU0laRVMuSU5TVFJVQ1RJT05TLFxuICAgICAgICAgICAgICAgIGl0YWxpY3M6IHRydWUsXG4gICAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgXSxcbiAgICAgICAgICAgIHNwYWNpbmc6IHsgYWZ0ZXI6IDIwMCB9LFxuICAgICAgICAgICAgc2hhZGluZzoge1xuICAgICAgICAgICAgICBmaWxsOiBcIkVFRjdEQ1wiLCAvLyBMaWdodCBncmVlbiBiYWNrZ3JvdW5kXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgYm9yZGVyOiB7XG4gICAgICAgICAgICAgIGxlZnQ6IHtcbiAgICAgICAgICAgICAgICBjb2xvcjogXCJDQ0NDQ0NcIixcbiAgICAgICAgICAgICAgICBzaXplOiA2LFxuICAgICAgICAgICAgICAgIHN0eWxlOiBcInNpbmdsZVwiLFxuICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICB9KSxcbiAgICAgICAgKVxuXG4gICAgICAgIC8vIEVuaGFuY2UgZGlhbG9ndWUgd2l0aCBhdmF0YXIgbmFtZXNcbiAgICAgICAgY29uc3QgZW5oYW5jZWREaWFsb2d1ZSA9IGVuaGFuY2VEaWFsb2d1ZVdpdGhBdmF0YXJzKFxuICAgICAgICAgIGRpYWxvZ3VlU2VjdGlvbi5kaWFsb2d1ZSxcbiAgICAgICAgICBsZXNzb25EYXRhLmlkLFxuICAgICAgICAgICdkaWFsb2d1ZVByYWN0aWNlJ1xuICAgICAgICApXG5cbiAgICAgICAgLy8gQWRkIGRpYWxvZ3VlIGxpbmVzIHdpdGggY2hhcmFjdGVyIG5hbWVzIGluIGJvbGQgYW5kIDNweCBzcGFjaW5nIGJldHdlZW4gbGluZXNcbiAgICAgICAgY29uc3QgZGlhbG9ndWVMaW5lcyA9IEFycmF5LmlzQXJyYXkoZW5oYW5jZWREaWFsb2d1ZSkgPyBlbmhhbmNlZERpYWxvZ3VlIDogW11cbiAgICAgICAgZGlhbG9ndWVMaW5lcy5mb3JFYWNoKChsaW5lLCBpbmRleCkgPT4ge1xuICAgICAgICAgIGRpYWxvZ3VlUHJhY3RpY2VDb250ZW50LnB1c2goXG4gICAgICAgICAgICBuZXcgUGFyYWdyYXBoKHtcbiAgICAgICAgICAgICAgY2hpbGRyZW46IFtcbiAgICAgICAgICAgICAgICBuZXcgVGV4dFJ1bih7XG4gICAgICAgICAgICAgICAgICB0ZXh0OiBgJHtsaW5lLmNoYXJhY3Rlcn06IGAsXG4gICAgICAgICAgICAgICAgICBib2xkOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgc2l6ZTogV09SRF9GT05UX1NJWkVTLk1BSU5fQ09OVEVOVCxcbiAgICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgICAgICBuZXcgVGV4dFJ1bih7XG4gICAgICAgICAgICAgICAgICB0ZXh0OiBsaW5lLmxpbmUsXG4gICAgICAgICAgICAgICAgICBzaXplOiBXT1JEX0ZPTlRfU0laRVMuTUFJTl9DT05URU5ULFxuICAgICAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgICBdLFxuICAgICAgICAgICAgICBzcGFjaW5nOiB7IFxuICAgICAgICAgICAgICAgIGJlZm9yZTogaW5kZXggPT09IDAgPyAwIDogNjAsIC8vIDNweCBnYXAgYmV0d2VlbiBsaW5lcyAoNjAgPSAzcHQgaW4gV29yZCB1bml0cylcbiAgICAgICAgICAgICAgICBhZnRlcjogMCBcbiAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIH0pLFxuICAgICAgICAgIClcbiAgICAgICAgfSlcblxuICAgICAgICAvLyBBZGQgZm9sbG93LXVwIHF1ZXN0aW9ucyBpZiBhbnlcbiAgICAgICAgaWYgKGRpYWxvZ3VlU2VjdGlvbi5mb2xsb3dVcFF1ZXN0aW9ucyAmJiBkaWFsb2d1ZVNlY3Rpb24uZm9sbG93VXBRdWVzdGlvbnMubGVuZ3RoID4gMCkge1xuICAgICAgICAgIGRpYWxvZ3VlUHJhY3RpY2VDb250ZW50LnB1c2goXG4gICAgICAgICAgICBuZXcgUGFyYWdyYXBoKHtcbiAgICAgICAgICAgICAgY2hpbGRyZW46IFtcbiAgICAgICAgICAgICAgICBuZXcgVGV4dFJ1bih7XG4gICAgICAgICAgICAgICAgICB0ZXh0OiBcIkZvbGxvdy11cCBRdWVzdGlvbnM6XCIsXG4gICAgICAgICAgICAgICAgICBib2xkOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgc2l6ZTogV09SRF9GT05UX1NJWkVTLklOU1RSVUNUSU9OUyxcbiAgICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgICAgXSxcbiAgICAgICAgICAgICAgc3BhY2luZzogeyBiZWZvcmU6IDIwMCwgYWZ0ZXI6IDEwMCB9LFxuICAgICAgICAgICAgfSksXG4gICAgICAgICAgKVxuICAgICAgICAgIGNvbnN0IGZvbGxvd1VwUXVlc3Rpb25zID0gQXJyYXkuaXNBcnJheShkaWFsb2d1ZVNlY3Rpb24uZm9sbG93VXBRdWVzdGlvbnMpID8gZGlhbG9ndWVTZWN0aW9uLmZvbGxvd1VwUXVlc3Rpb25zIDogW11cbiAgICAgICAgICBmb2xsb3dVcFF1ZXN0aW9ucy5mb3JFYWNoKChxdWVzdGlvbiwgaW5kZXgpID0+IHtcbiAgICAgICAgICAgIGRpYWxvZ3VlUHJhY3RpY2VDb250ZW50LnB1c2goXG4gICAgICAgICAgICAgIG5ldyBQYXJhZ3JhcGgoe1xuICAgICAgICAgICAgICAgIGNoaWxkcmVuOiBbXG4gICAgICAgICAgICAgICAgICBuZXcgVGV4dFJ1bih7XG4gICAgICAgICAgICAgICAgICAgIHRleHQ6IGAke2luZGV4ICsgMX0uICR7cXVlc3Rpb259YCxcbiAgICAgICAgICAgICAgICAgICAgc2l6ZTogV09SRF9GT05UX1NJWkVTLk1BSU5fQ09OVEVOVCxcbiAgICAgICAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgICAgIF0sXG4gICAgICAgICAgICAgICAgc3BhY2luZzogeyBhZnRlcjogMTAwIH0sXG4gICAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgKVxuICAgICAgICAgIH0pXG4gICAgICAgIH1cblxuICAgICAgICBhZGRTZWN0aW9uKFwiRGlhbG9ndWUgUHJhY3RpY2VcIiwgZGlhbG9ndWVQcmFjdGljZUNvbnRlbnQpXG4gICAgICB9XG5cbiAgICAgIGlmIChlbmFibGVkU2VjdGlvbnMuZGlhbG9ndWVGaWxsR2FwICYmIGxlc3NvbkRhdGEuc2VjdGlvbnMuZGlhbG9ndWVGaWxsR2FwKSB7XG4gICAgICAgIGNvbnN0IGRpYWxvZ3VlRmlsbEdhcENvbnRlbnQ6IGFueVtdID0gW11cbiAgICAgICAgY29uc3QgZGlhbG9ndWVTZWN0aW9uID0gbGVzc29uRGF0YS5zZWN0aW9ucy5kaWFsb2d1ZUZpbGxHYXBcblxuICAgICAgICAvLyBBZGQgaW5zdHJ1Y3Rpb24gd2l0aCBsaWdodCBibHVlIGJhY2tncm91bmQgKCNGMUZBRkYpXG4gICAgICAgIGRpYWxvZ3VlRmlsbEdhcENvbnRlbnQucHVzaChcbiAgICAgICAgICBuZXcgUGFyYWdyYXBoKHtcbiAgICAgICAgICAgIGNoaWxkcmVuOiBbXG4gICAgICAgICAgICAgIG5ldyBUZXh0UnVuKHtcbiAgICAgICAgICAgICAgICB0ZXh0OiBkaWFsb2d1ZVNlY3Rpb24uaW5zdHJ1Y3Rpb24sXG4gICAgICAgICAgICAgICAgc2l6ZTogV09SRF9GT05UX1NJWkVTLklOU1RSVUNUSU9OUyxcbiAgICAgICAgICAgICAgICBpdGFsaWNzOiB0cnVlLFxuICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgIF0sXG4gICAgICAgICAgICBzcGFjaW5nOiB7IGFmdGVyOiAyMDAgfSxcbiAgICAgICAgICAgIHNoYWRpbmc6IHtcbiAgICAgICAgICAgICAgZmlsbDogXCJGMUZBRkZcIiwgLy8gTGlnaHQgYmx1ZSBiYWNrZ3JvdW5kXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgYm9yZGVyOiB7XG4gICAgICAgICAgICAgIGxlZnQ6IHtcbiAgICAgICAgICAgICAgICBjb2xvcjogXCJDQ0NDQ0NcIixcbiAgICAgICAgICAgICAgICBzaXplOiA2LFxuICAgICAgICAgICAgICAgIHN0eWxlOiBcInNpbmdsZVwiLFxuICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICB9KSxcbiAgICAgICAgKVxuXG4gICAgICAgIC8vIEVuaGFuY2UgZGlhbG9ndWUgd2l0aCBhdmF0YXIgbmFtZXNcbiAgICAgICAgY29uc3QgZW5oYW5jZWREaWFsb2d1ZSA9IGVuaGFuY2VEaWFsb2d1ZVdpdGhBdmF0YXJzKFxuICAgICAgICAgIGRpYWxvZ3VlU2VjdGlvbi5kaWFsb2d1ZSxcbiAgICAgICAgICBsZXNzb25EYXRhLmlkLFxuICAgICAgICAgICdkaWFsb2d1ZUZpbGxHYXAnXG4gICAgICAgIClcblxuICAgICAgICAvLyBBZGQgZGlhbG9ndWUgbGluZXMgd2l0aCBjaGFyYWN0ZXIgbmFtZXMgaW4gYm9sZCBhbmQgM3B4IHNwYWNpbmcgYmV0d2VlbiBsaW5lc1xuICAgICAgICBjb25zdCBkaWFsb2d1ZUZpbGxHYXBMaW5lcyA9IEFycmF5LmlzQXJyYXkoZW5oYW5jZWREaWFsb2d1ZSkgPyBlbmhhbmNlZERpYWxvZ3VlIDogW11cbiAgICAgICAgZGlhbG9ndWVGaWxsR2FwTGluZXMuZm9yRWFjaCgobGluZSwgaW5kZXgpID0+IHtcbiAgICAgICAgICBkaWFsb2d1ZUZpbGxHYXBDb250ZW50LnB1c2goXG4gICAgICAgICAgICBuZXcgUGFyYWdyYXBoKHtcbiAgICAgICAgICAgICAgY2hpbGRyZW46IFtcbiAgICAgICAgICAgICAgICBuZXcgVGV4dFJ1bih7XG4gICAgICAgICAgICAgICAgICB0ZXh0OiBgJHtsaW5lLmNoYXJhY3Rlcn06IGAsXG4gICAgICAgICAgICAgICAgICBib2xkOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgc2l6ZTogV09SRF9GT05UX1NJWkVTLk1BSU5fQ09OVEVOVCxcbiAgICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgICAgICBuZXcgVGV4dFJ1bih7XG4gICAgICAgICAgICAgICAgICB0ZXh0OiBsaW5lLmxpbmUsXG4gICAgICAgICAgICAgICAgICBzaXplOiBXT1JEX0ZPTlRfU0laRVMuTUFJTl9DT05URU5ULFxuICAgICAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgICBdLFxuICAgICAgICAgICAgICBzcGFjaW5nOiB7IFxuICAgICAgICAgICAgICAgIGJlZm9yZTogaW5kZXggPT09IDAgPyAwIDogNjAsIC8vIDNweCBnYXAgYmV0d2VlbiBsaW5lcyAoNjAgPSAzcHQgaW4gV29yZCB1bml0cylcbiAgICAgICAgICAgICAgICBhZnRlcjogMCBcbiAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIH0pLFxuICAgICAgICAgIClcbiAgICAgICAgfSlcblxuICAgICAgICAvLyBBZGQgYW5zd2VyIGtleSBpZiBhbnlcbiAgICAgICAgaWYgKGRpYWxvZ3VlU2VjdGlvbi5hbnN3ZXJzICYmIGRpYWxvZ3VlU2VjdGlvbi5hbnN3ZXJzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICBkaWFsb2d1ZUZpbGxHYXBDb250ZW50LnB1c2goXG4gICAgICAgICAgICBuZXcgUGFyYWdyYXBoKHtcbiAgICAgICAgICAgICAgY2hpbGRyZW46IFtcbiAgICAgICAgICAgICAgICBuZXcgVGV4dFJ1bih7XG4gICAgICAgICAgICAgICAgICB0ZXh0OiBcIkFuc3dlciBLZXk6XCIsXG4gICAgICAgICAgICAgICAgICBib2xkOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgc2l6ZTogV09SRF9GT05UX1NJWkVTLklOU1RSVUNUSU9OUyxcbiAgICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgICAgXSxcbiAgICAgICAgICAgICAgc3BhY2luZzogeyBiZWZvcmU6IDIwMCwgYWZ0ZXI6IDEwMCB9LFxuICAgICAgICAgICAgfSksXG4gICAgICAgICAgKVxuICAgICAgICAgIGRpYWxvZ3VlRmlsbEdhcENvbnRlbnQucHVzaChcbiAgICAgICAgICAgIG5ldyBQYXJhZ3JhcGgoe1xuICAgICAgICAgICAgICBjaGlsZHJlbjogW1xuICAgICAgICAgICAgICAgIG5ldyBUZXh0UnVuKHtcbiAgICAgICAgICAgICAgICAgIHRleHQ6IGRpYWxvZ3VlU2VjdGlvbi5hbnN3ZXJzLmpvaW4oJywgJyksXG4gICAgICAgICAgICAgICAgICBzaXplOiBXT1JEX0ZPTlRfU0laRVMuU1VQUExFTUVOVEFSWSxcbiAgICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgICAgXSxcbiAgICAgICAgICAgICAgc3BhY2luZzogeyBhZnRlcjogMTAwIH0sXG4gICAgICAgICAgICB9KSxcbiAgICAgICAgICApXG4gICAgICAgIH1cblxuICAgICAgICBhZGRTZWN0aW9uKFwiRGlhbG9ndWUgRmlsbC1pbi10aGUtR2FwXCIsIGRpYWxvZ3VlRmlsbEdhcENvbnRlbnQpXG4gICAgICB9XG5cbiAgICAgIGlmIChlbmFibGVkU2VjdGlvbnMuZ3JhbW1hciAmJiBsZXNzb25EYXRhLnNlY3Rpb25zLmdyYW1tYXIpIHtcbiAgICAgICAgY29uc3QgZ3JhbW1hckNvbnRlbnQ6IGFueVtdID0gW11cbiAgICAgICAgZ3JhbW1hckNvbnRlbnQucHVzaChcbiAgICAgICAgICBuZXcgUGFyYWdyYXBoKHtcbiAgICAgICAgICAgIGNoaWxkcmVuOiBbXG4gICAgICAgICAgICAgIG5ldyBUZXh0UnVuKHtcbiAgICAgICAgICAgICAgICB0ZXh0OiBgRm9jdXM6ICR7bGVzc29uRGF0YS5zZWN0aW9ucy5ncmFtbWFyLmZvY3VzfWAsXG4gICAgICAgICAgICAgICAgYm9sZDogdHJ1ZSxcbiAgICAgICAgICAgICAgICBzaXplOiBXT1JEX0ZPTlRfU0laRVMuTUFJTl9DT05URU5ULFxuICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgIF0sXG4gICAgICAgICAgICBzcGFjaW5nOiB7IGFmdGVyOiAyMDAgfSxcbiAgICAgICAgICB9KSxcbiAgICAgICAgKVxuICAgICAgICBncmFtbWFyQ29udGVudC5wdXNoKFxuICAgICAgICAgIG5ldyBQYXJhZ3JhcGgoe1xuICAgICAgICAgICAgY2hpbGRyZW46IFtcbiAgICAgICAgICAgICAgbmV3IFRleHRSdW4oe1xuICAgICAgICAgICAgICAgIHRleHQ6IFwiRXhhbXBsZXM6XCIsXG4gICAgICAgICAgICAgICAgYm9sZDogdHJ1ZSxcbiAgICAgICAgICAgICAgICBzaXplOiBXT1JEX0ZPTlRfU0laRVMuSU5TVFJVQ1RJT05TLFxuICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgIF0sXG4gICAgICAgICAgICBzcGFjaW5nOiB7IGFmdGVyOiAxMDAgfSxcbiAgICAgICAgICB9KSxcbiAgICAgICAgKVxuICAgICAgICBjb25zdCBncmFtbWFyRXhhbXBsZXMgPSBBcnJheS5pc0FycmF5KGxlc3NvbkRhdGEuc2VjdGlvbnMuZ3JhbW1hci5leGFtcGxlcykgPyBsZXNzb25EYXRhLnNlY3Rpb25zLmdyYW1tYXIuZXhhbXBsZXMgOiBbXVxuICAgICAgICBncmFtbWFyRXhhbXBsZXMuZm9yRWFjaCgoZXhhbXBsZSkgPT4ge1xuICAgICAgICAgIGdyYW1tYXJDb250ZW50LnB1c2goXG4gICAgICAgICAgICBuZXcgUGFyYWdyYXBoKHtcbiAgICAgICAgICAgICAgY2hpbGRyZW46IFtcbiAgICAgICAgICAgICAgICBuZXcgVGV4dFJ1bih7XG4gICAgICAgICAgICAgICAgICB0ZXh0OiBg4oCiICR7ZXhhbXBsZX1gLFxuICAgICAgICAgICAgICAgICAgc2l6ZTogV09SRF9GT05UX1NJWkVTLlNVUFBMRU1FTlRBUlksXG4gICAgICAgICAgICAgICAgfSksXG4gICAgICAgICAgICAgIF0sXG4gICAgICAgICAgICAgIHNwYWNpbmc6IHsgYWZ0ZXI6IDEwMCB9LFxuICAgICAgICAgICAgfSksXG4gICAgICAgICAgKVxuICAgICAgICB9KVxuICAgICAgICBncmFtbWFyQ29udGVudC5wdXNoKFxuICAgICAgICAgIG5ldyBQYXJhZ3JhcGgoe1xuICAgICAgICAgICAgY2hpbGRyZW46IFtcbiAgICAgICAgICAgICAgbmV3IFRleHRSdW4oe1xuICAgICAgICAgICAgICAgIHRleHQ6IFwiUHJhY3RpY2UgRXhlcmNpc2U6XCIsXG4gICAgICAgICAgICAgICAgYm9sZDogdHJ1ZSxcbiAgICAgICAgICAgICAgICBzaXplOiBXT1JEX0ZPTlRfU0laRVMuSU5TVFJVQ1RJT05TLFxuICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgIF0sXG4gICAgICAgICAgICBzcGFjaW5nOiB7IGJlZm9yZTogMjAwLCBhZnRlcjogMTAwIH0sXG4gICAgICAgICAgfSksXG4gICAgICAgIClcbiAgICAgICAgY29uc3QgZ3JhbW1hckV4ZXJjaXNlcyA9IEFycmF5LmlzQXJyYXkobGVzc29uRGF0YS5zZWN0aW9ucy5ncmFtbWFyLmV4ZXJjaXNlKSA/IGxlc3NvbkRhdGEuc2VjdGlvbnMuZ3JhbW1hci5leGVyY2lzZSA6IFtdXG4gICAgICAgIGdyYW1tYXJFeGVyY2lzZXMuZm9yRWFjaCgoZXhlcmNpc2UsIGluZGV4KSA9PiB7XG4gICAgICAgICAgZ3JhbW1hckNvbnRlbnQucHVzaChcbiAgICAgICAgICAgIG5ldyBQYXJhZ3JhcGgoe1xuICAgICAgICAgICAgICBjaGlsZHJlbjogW1xuICAgICAgICAgICAgICAgIG5ldyBUZXh0UnVuKHtcbiAgICAgICAgICAgICAgICAgIHRleHQ6IGAke2luZGV4ICsgMX0uICR7ZXhlcmNpc2V9YCxcbiAgICAgICAgICAgICAgICAgIHNpemU6IFdPUkRfRk9OVF9TSVpFUy5NQUlOX0NPTlRFTlQsXG4gICAgICAgICAgICAgICAgfSksXG4gICAgICAgICAgICAgIF0sXG4gICAgICAgICAgICAgIHNwYWNpbmc6IHsgYWZ0ZXI6IDEwMCB9LFxuICAgICAgICAgICAgfSksXG4gICAgICAgICAgKVxuICAgICAgICB9KVxuICAgICAgICBhZGRTZWN0aW9uKFwiR3JhbW1hciBGb2N1c1wiLCBncmFtbWFyQ29udGVudClcbiAgICAgIH1cblxuICAgICAgaWYgKGVuYWJsZWRTZWN0aW9ucy5wcm9udW5jaWF0aW9uICYmIGxlc3NvbkRhdGEuc2VjdGlvbnMucHJvbnVuY2lhdGlvbikge1xuICAgICAgICBjb25zdCBwcm9uU2VjdGlvbiA9IGxlc3NvbkRhdGEuc2VjdGlvbnMucHJvbnVuY2lhdGlvblxuICAgICAgICBjb25zdCBwcm9udW5jaWF0aW9uQ29udGVudDogYW55W10gPSBbXVxuICAgICAgICBcbiAgICAgICAgLy8gSGFuZGxlIGJvdGggb2xkIGZvcm1hdCAoc2luZ2xlIHdvcmQpIGFuZCBuZXcgZm9ybWF0ICh3b3JkcyBhcnJheSlcbiAgICAgICAgaWYgKHByb25TZWN0aW9uLndvcmRzICYmIEFycmF5LmlzQXJyYXkocHJvblNlY3Rpb24ud29yZHMpICYmIHByb25TZWN0aW9uLndvcmRzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAvLyBOZXcgZm9ybWF0IHdpdGggbXVsdGlwbGUgd29yZHNcbiAgICAgICAgICBwcm9uU2VjdGlvbi53b3Jkcy5mb3JFYWNoKCh3b3JkSXRlbSwgaW5kZXgpID0+IHtcbiAgICAgICAgICAgIGlmIChpbmRleCA+IDApIHtcbiAgICAgICAgICAgICAgLy8gQWRkIHNwYWNpbmcgYmV0d2VlbiB3b3Jkc1xuICAgICAgICAgICAgICBwcm9udW5jaWF0aW9uQ29udGVudC5wdXNoKFxuICAgICAgICAgICAgICAgIG5ldyBQYXJhZ3JhcGgoe1xuICAgICAgICAgICAgICAgICAgY2hpbGRyZW46IFtuZXcgVGV4dFJ1bih7IHRleHQ6IFwiXCIgfSldLFxuICAgICAgICAgICAgICAgICAgc3BhY2luZzogeyBiZWZvcmU6IDIwMCB9LFxuICAgICAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgICApXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIHByb251bmNpYXRpb25Db250ZW50LnB1c2goXG4gICAgICAgICAgICAgIG5ldyBQYXJhZ3JhcGgoe1xuICAgICAgICAgICAgICAgIGNoaWxkcmVuOiBbXG4gICAgICAgICAgICAgICAgICBuZXcgVGV4dFJ1bih7XG4gICAgICAgICAgICAgICAgICAgIHRleHQ6IGBXb3JkOiAke3dvcmRJdGVtLndvcmQgfHwgJ04vQSd9YCxcbiAgICAgICAgICAgICAgICAgICAgYm9sZDogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgc2l6ZTogV09SRF9GT05UX1NJWkVTLk1BSU5fQ09OVEVOVCxcbiAgICAgICAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgICAgIF0sXG4gICAgICAgICAgICAgICAgc3BhY2luZzogeyBhZnRlcjogMTAwIH0sXG4gICAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgKVxuICAgICAgICAgICAgXG4gICAgICAgICAgICBwcm9udW5jaWF0aW9uQ29udGVudC5wdXNoKFxuICAgICAgICAgICAgICBuZXcgUGFyYWdyYXBoKHtcbiAgICAgICAgICAgICAgICBjaGlsZHJlbjogW1xuICAgICAgICAgICAgICAgICAgbmV3IFRleHRSdW4oe1xuICAgICAgICAgICAgICAgICAgICB0ZXh0OiBgSVBBOiAke3dvcmRJdGVtLmlwYSB8fCAnTi9BJ31gLFxuICAgICAgICAgICAgICAgICAgICBzaXplOiBXT1JEX0ZPTlRfU0laRVMuU1VQUExFTUVOVEFSWSxcbiAgICAgICAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgICAgIF0sXG4gICAgICAgICAgICAgICAgc3BhY2luZzogeyBhZnRlcjogMTAwIH0sXG4gICAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgKVxuICAgICAgICAgICAgXG4gICAgICAgICAgICBpZiAod29yZEl0ZW0ucHJhY3RpY2VTZW50ZW5jZSkge1xuICAgICAgICAgICAgICBwcm9udW5jaWF0aW9uQ29udGVudC5wdXNoKFxuICAgICAgICAgICAgICAgIG5ldyBQYXJhZ3JhcGgoe1xuICAgICAgICAgICAgICAgICAgY2hpbGRyZW46IFtcbiAgICAgICAgICAgICAgICAgICAgbmV3IFRleHRSdW4oe1xuICAgICAgICAgICAgICAgICAgICAgIHRleHQ6IGBQcmFjdGljZTogXCIke3dvcmRJdGVtLnByYWN0aWNlU2VudGVuY2V9XCJgLFxuICAgICAgICAgICAgICAgICAgICAgIHNpemU6IFdPUkRfRk9OVF9TSVpFUy5NQUlOX0NPTlRFTlQsXG4gICAgICAgICAgICAgICAgICAgICAgaXRhbGljczogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgfSksXG4gICAgICAgICAgICAgICAgICBdLFxuICAgICAgICAgICAgICAgICAgc3BhY2luZzogeyBhZnRlcjogMTAwIH0sXG4gICAgICAgICAgICAgICAgfSksXG4gICAgICAgICAgICAgIClcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIFxuICAgICAgICAgICAgaWYgKHdvcmRJdGVtLnRpcHMgJiYgd29yZEl0ZW0udGlwcy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgIHByb251bmNpYXRpb25Db250ZW50LnB1c2goXG4gICAgICAgICAgICAgICAgbmV3IFBhcmFncmFwaCh7XG4gICAgICAgICAgICAgICAgICBjaGlsZHJlbjogW1xuICAgICAgICAgICAgICAgICAgICBuZXcgVGV4dFJ1bih7XG4gICAgICAgICAgICAgICAgICAgICAgdGV4dDogXCJUaXBzOlwiLFxuICAgICAgICAgICAgICAgICAgICAgIGJvbGQ6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgICAgc2l6ZTogV09SRF9GT05UX1NJWkVTLklOU1RSVUNUSU9OUyxcbiAgICAgICAgICAgICAgICAgICAgfSksXG4gICAgICAgICAgICAgICAgICBdLFxuICAgICAgICAgICAgICAgICAgc3BhY2luZzogeyBhZnRlcjogMTAwIH0sXG4gICAgICAgICAgICAgICAgfSksXG4gICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgIHdvcmRJdGVtLnRpcHMuZm9yRWFjaCh0aXAgPT4ge1xuICAgICAgICAgICAgICAgIHByb251bmNpYXRpb25Db250ZW50LnB1c2goXG4gICAgICAgICAgICAgICAgICBuZXcgUGFyYWdyYXBoKHtcbiAgICAgICAgICAgICAgICAgICAgY2hpbGRyZW46IFtcbiAgICAgICAgICAgICAgICAgICAgICBuZXcgVGV4dFJ1bih7XG4gICAgICAgICAgICAgICAgICAgICAgICB0ZXh0OiBg4oCiICR7dGlwfWAsXG4gICAgICAgICAgICAgICAgICAgICAgICBzaXplOiBXT1JEX0ZPTlRfU0laRVMuU1VQUExFTUVOVEFSWSxcbiAgICAgICAgICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgICAgICAgICAgXSxcbiAgICAgICAgICAgICAgICAgICAgc3BhY2luZzogeyBhZnRlcjogMTAwIH0sXG4gICAgICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSlcbiAgICAgICAgfSBlbHNlIGlmIChwcm9uU2VjdGlvbi53b3JkKSB7XG4gICAgICAgICAgLy8gT2xkIGZvcm1hdCB3aXRoIHNpbmdsZSB3b3JkXG4gICAgICAgICAgcHJvbnVuY2lhdGlvbkNvbnRlbnQucHVzaChcbiAgICAgICAgICAgIG5ldyBQYXJhZ3JhcGgoe1xuICAgICAgICAgICAgICBjaGlsZHJlbjogW1xuICAgICAgICAgICAgICAgIG5ldyBUZXh0UnVuKHtcbiAgICAgICAgICAgICAgICAgIHRleHQ6IGBXb3JkOiAke3Byb25TZWN0aW9uLndvcmQgfHwgJ04vQSd9YCxcbiAgICAgICAgICAgICAgICAgIGJvbGQ6IHRydWUsXG4gICAgICAgICAgICAgICAgICBzaXplOiBXT1JEX0ZPTlRfU0laRVMuTUFJTl9DT05URU5ULFxuICAgICAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgICBdLFxuICAgICAgICAgICAgICBzcGFjaW5nOiB7IGFmdGVyOiAxNTAgfSxcbiAgICAgICAgICAgIH0pLFxuICAgICAgICAgIClcbiAgICAgICAgICBcbiAgICAgICAgICBwcm9udW5jaWF0aW9uQ29udGVudC5wdXNoKFxuICAgICAgICAgICAgbmV3IFBhcmFncmFwaCh7XG4gICAgICAgICAgICAgIGNoaWxkcmVuOiBbXG4gICAgICAgICAgICAgICAgbmV3IFRleHRSdW4oe1xuICAgICAgICAgICAgICAgICAgdGV4dDogYElQQTogJHtwcm9uU2VjdGlvbi5pcGEgfHwgJ04vQSd9YCxcbiAgICAgICAgICAgICAgICAgIHNpemU6IFdPUkRfRk9OVF9TSVpFUy5TVVBQTEVNRU5UQVJZLFxuICAgICAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgICBdLFxuICAgICAgICAgICAgICBzcGFjaW5nOiB7IGFmdGVyOiAxNTAgfSxcbiAgICAgICAgICAgIH0pLFxuICAgICAgICAgIClcbiAgICAgICAgICBcbiAgICAgICAgICBpZiAocHJvblNlY3Rpb24ucHJhY3RpY2UpIHtcbiAgICAgICAgICAgIHByb251bmNpYXRpb25Db250ZW50LnB1c2goXG4gICAgICAgICAgICAgIG5ldyBQYXJhZ3JhcGgoe1xuICAgICAgICAgICAgICAgIGNoaWxkcmVuOiBbXG4gICAgICAgICAgICAgICAgICBuZXcgVGV4dFJ1bih7XG4gICAgICAgICAgICAgICAgICAgIHRleHQ6IGBQcmFjdGljZTogXCIke3Byb25TZWN0aW9uLnByYWN0aWNlfVwiYCxcbiAgICAgICAgICAgICAgICAgICAgc2l6ZTogV09SRF9GT05UX1NJWkVTLk1BSU5fQ09OVEVOVCxcbiAgICAgICAgICAgICAgICAgICAgaXRhbGljczogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgICAgIF0sXG4gICAgICAgICAgICAgICAgc3BhY2luZzogeyBhZnRlcjogMjAwIH0sXG4gICAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgKVxuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBwcm9udW5jaWF0aW9uQ29udGVudC5wdXNoKFxuICAgICAgICAgICAgbmV3IFBhcmFncmFwaCh7XG4gICAgICAgICAgICAgIGNoaWxkcmVuOiBbXG4gICAgICAgICAgICAgICAgbmV3IFRleHRSdW4oe1xuICAgICAgICAgICAgICAgICAgdGV4dDogXCJObyBwcm9udW5jaWF0aW9uIGRhdGEgYXZhaWxhYmxlXCIsXG4gICAgICAgICAgICAgICAgICBzaXplOiBXT1JEX0ZPTlRfU0laRVMuTUFJTl9DT05URU5ULFxuICAgICAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgICBdLFxuICAgICAgICAgICAgICBzcGFjaW5nOiB7IGFmdGVyOiAyMDAgfSxcbiAgICAgICAgICAgIH0pLFxuICAgICAgICAgIClcbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgYWRkU2VjdGlvbihcIlByb251bmNpYXRpb24gUHJhY3RpY2VcIiwgcHJvbnVuY2lhdGlvbkNvbnRlbnQpXG4gICAgICB9XG5cbiAgICAgIGlmIChlbmFibGVkU2VjdGlvbnMud3JhcHVwICYmIGxlc3NvbkRhdGEuc2VjdGlvbnMud3JhcHVwKSB7XG4gICAgICAgIGNvbnN0IHdyYXB1cFF1ZXN0aW9ucyA9IEFycmF5LmlzQXJyYXkobGVzc29uRGF0YS5zZWN0aW9ucy53cmFwdXApID8gbGVzc29uRGF0YS5zZWN0aW9ucy53cmFwdXAgOiBbXVxuICAgICAgICBjb25zdCB3cmFwdXBDb250ZW50ID0gd3JhcHVwUXVlc3Rpb25zLm1hcCgocXVlc3Rpb24sIGluZGV4KSA9PiB7XG4gICAgICAgICAgLy8gRmlyc3QgaXRlbSBpcyB0aGUgaW5zdHJ1Y3Rpb24gd2l0aCBsaWdodCBncmVlbiBiYWNrZ3JvdW5kXG4gICAgICAgICAgaWYgKGluZGV4ID09PSAwKSB7XG4gICAgICAgICAgICByZXR1cm4gbmV3IFBhcmFncmFwaCh7XG4gICAgICAgICAgICAgIGNoaWxkcmVuOiBbXG4gICAgICAgICAgICAgICAgbmV3IFRleHRSdW4oe1xuICAgICAgICAgICAgICAgICAgdGV4dDogcXVlc3Rpb24sXG4gICAgICAgICAgICAgICAgICBzaXplOiBXT1JEX0ZPTlRfU0laRVMuSU5TVFJVQ1RJT05TLFxuICAgICAgICAgICAgICAgICAgaXRhbGljczogdHJ1ZSxcbiAgICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgICAgXSxcbiAgICAgICAgICAgICAgc3BhY2luZzogeyBhZnRlcjogMjAwIH0sXG4gICAgICAgICAgICAgIHNoYWRpbmc6IHtcbiAgICAgICAgICAgICAgICBmaWxsOiBcIkVFRjdEQ1wiLCAvLyBMaWdodCBncmVlbiBiYWNrZ3JvdW5kXG4gICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgIGJvcmRlcjoge1xuICAgICAgICAgICAgICAgIGxlZnQ6IHtcbiAgICAgICAgICAgICAgICAgIGNvbG9yOiBcIkNDQ0NDQ1wiLFxuICAgICAgICAgICAgICAgICAgc2l6ZTogNixcbiAgICAgICAgICAgICAgICAgIHN0eWxlOiBcInNpbmdsZVwiLFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB9KVxuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAvLyBSZXN0IGFyZSBhY3R1YWwgcXVlc3Rpb25zIChyZW51bWJlciBzdGFydGluZyBmcm9tIDEpXG4gICAgICAgICAgICByZXR1cm4gbmV3IFBhcmFncmFwaCh7XG4gICAgICAgICAgICAgIGNoaWxkcmVuOiBbXG4gICAgICAgICAgICAgICAgbmV3IFRleHRSdW4oe1xuICAgICAgICAgICAgICAgICAgdGV4dDogYCR7aW5kZXh9LiAke3F1ZXN0aW9ufWAsXG4gICAgICAgICAgICAgICAgICBzaXplOiBXT1JEX0ZPTlRfU0laRVMuTUFJTl9DT05URU5ULFxuICAgICAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgICBdLFxuICAgICAgICAgICAgICBzcGFjaW5nOiB7IGFmdGVyOiAxNTAgfSxcbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgfVxuICAgICAgICB9KVxuICAgICAgICBhZGRTZWN0aW9uKFwiTGVzc29uIFdyYXAtdXBcIiwgd3JhcHVwQ29udGVudClcbiAgICAgIH1cblxuICAgICAgLy8gRm9vdGVyXG4gICAgICBjaGlsZHJlbi5wdXNoKFxuICAgICAgICBuZXcgUGFyYWdyYXBoKHtcbiAgICAgICAgICBjaGlsZHJlbjogW1xuICAgICAgICAgICAgbmV3IFRleHRSdW4oe1xuICAgICAgICAgICAgICB0ZXh0OiBcIkdlbmVyYXRlZCBieSBMaW5ndWFTcGFya1wiLFxuICAgICAgICAgICAgICBzaXplOiBXT1JEX0ZPTlRfU0laRVMuU1VQUExFTUVOVEFSWSxcbiAgICAgICAgICAgICAgaXRhbGljczogdHJ1ZSxcbiAgICAgICAgICAgIH0pLFxuICAgICAgICAgIF0sXG4gICAgICAgICAgYWxpZ25tZW50OiBBbGlnbm1lbnRUeXBlLkNFTlRFUixcbiAgICAgICAgICBzcGFjaW5nOiB7IGJlZm9yZTogNjAwIH0sXG4gICAgICAgIH0pLFxuICAgICAgKVxuXG4gICAgICAvLyBDcmVhdGUgZG9jdW1lbnRcbiAgICAgIGNvbnN0IGRvYyA9IG5ldyBEb2N1bWVudCh7XG4gICAgICAgIHNlY3Rpb25zOiBbXG4gICAgICAgICAge1xuICAgICAgICAgICAgcHJvcGVydGllczoge30sXG4gICAgICAgICAgICBjaGlsZHJlbjogY2hpbGRyZW4sXG4gICAgICAgICAgfSxcbiAgICAgICAgXSxcbiAgICAgIH0pXG5cbiAgICAgIC8vIEdlbmVyYXRlIGFuZCBkb3dubG9hZFxuICAgICAgY29uc29sZS5sb2coJ0NyZWF0aW5nIFdvcmQgZG9jdW1lbnQuLi4nKVxuICAgICAgY29uc3QgYnVmZmVyID0gYXdhaXQgUGFja2VyLnRvQnVmZmVyKGRvYylcbiAgICAgIGNvbnNvbGUubG9nKCdEb2N1bWVudCBidWZmZXIgY3JlYXRlZCwgc2l6ZTonLCBidWZmZXIuYnl0ZUxlbmd0aClcblxuICAgICAgY29uc3QgYmxvYiA9IG5ldyBCbG9iKFtidWZmZXIgYXMgYW55XSwgeyB0eXBlOiBcImFwcGxpY2F0aW9uL3ZuZC5vcGVueG1sZm9ybWF0cy1vZmZpY2Vkb2N1bWVudC53b3JkcHJvY2Vzc2luZ21sLmRvY3VtZW50XCIgfSlcbiAgICAgIGNvbnN0IHVybCA9IFVSTC5jcmVhdGVPYmplY3RVUkwoYmxvYilcbiAgICAgIGNvbnN0IGZpbGVOYW1lID0gYCR7bGVzc29uRGF0YS5sZXNzb25UeXBlfS1sZXNzb24tJHtsZXNzb25EYXRhLnN0dWRlbnRMZXZlbH0tJHtEYXRlLm5vdygpfS5kb2N4YFxuXG4gICAgICBjb25zb2xlLmxvZygnRG93bmxvYWRpbmcgV29yZCBkb2N1bWVudCB3aXRoIGZpbGVuYW1lOicsIGZpbGVOYW1lKVxuICAgICAgY29uc3QgbGluayA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJhXCIpXG4gICAgICBsaW5rLmhyZWYgPSB1cmxcbiAgICAgIGxpbmsuZG93bmxvYWQgPSBmaWxlTmFtZVxuICAgICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChsaW5rKVxuICAgICAgbGluay5jbGljaygpXG4gICAgICBkb2N1bWVudC5ib2R5LnJlbW92ZUNoaWxkKGxpbmspXG4gICAgICBVUkwucmV2b2tlT2JqZWN0VVJMKHVybClcbiAgICAgIGNvbnNvbGUubG9nKCdXb3JkIGV4cG9ydCBjb21wbGV0ZWQgc3VjY2Vzc2Z1bGx5JylcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcignV29yZCBleHBvcnQgZXJyb3I6JywgZXJyb3IpXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoYFdvcmQgZXhwb3J0IGZhaWxlZDogJHtlcnJvciBpbnN0YW5jZW9mIEVycm9yID8gZXJyb3IubWVzc2FnZSA6ICdVbmtub3duIGVycm9yJ31gKVxuICAgIH1cbiAgfVxufVxuXG5leHBvcnQgY29uc3QgbGVzc29uRXhwb3J0ZXIgPSBuZXcgTGVzc29uRXhwb3J0ZXIoKVxuIl0sIm5hbWVzIjpbImpzUERGIiwiRG9jdW1lbnQiLCJQYWNrZXIiLCJQYXJhZ3JhcGgiLCJUZXh0UnVuIiwiSGVhZGluZ0xldmVsIiwiQWxpZ25tZW50VHlwZSIsIlVuZGVybGluZVR5cGUiLCJlbmhhbmNlRGlhbG9ndWVXaXRoQXZhdGFycyIsIkxlc3NvbkV4cG9ydGVyIiwiZm9ybWF0RGF0ZSIsIkRhdGUiLCJ0b0xvY2FsZURhdGVTdHJpbmciLCJ5ZWFyIiwibW9udGgiLCJkYXkiLCJ2YWxpZGF0ZUxlc3NvbkRhdGEiLCJsZXNzb25EYXRhIiwic2VjdGlvbnMiLCJjb25zb2xlIiwibG9nIiwiRXJyb3IiLCJsZXNzb25UaXRsZSIsImxlc3NvblR5cGUiLCJzdHVkZW50TGV2ZWwiLCJ0YXJnZXRMYW5ndWFnZSIsIndhcm11cCIsInR5cGUiLCJpc0FycmF5IiwiQXJyYXkiLCJ2YWx1ZSIsInZvY2FidWxhcnkiLCJsZW5ndGgiLCJyZWFkaW5nIiwiY29tcHJlaGVuc2lvbiIsImRpc2N1c3Npb24iLCJncmFtbWFyIiwiaGFzRm9jdXMiLCJmb2N1cyIsInByb251bmNpYXRpb24iLCJoYXNXb3JkIiwid29yZCIsIndyYXB1cCIsIndhcm4iLCJleHBvcnRUb1BERiIsImVuYWJsZWRTZWN0aW9ucyIsIk9iamVjdCIsImtleXMiLCJwZGYiLCJ5UG9zaXRpb24iLCJwYWdlSGVpZ2h0IiwiaW50ZXJuYWwiLCJwYWdlU2l6ZSIsImhlaWdodCIsIm1hcmdpbiIsImxpbmVIZWlnaHQiLCJGT05UX1NJWkVTIiwiTEVTU09OX1RJVExFIiwiU0VDVElPTl9IRUFERVIiLCJNQUlOX0NPTlRFTlQiLCJJTlNUUlVDVElPTlMiLCJTVVBQTEVNRU5UQVJZIiwiYWRkVGV4dCIsInRleHQiLCJmb250U2l6ZSIsImlzQm9sZCIsImlzSXRhbGljIiwiaW5kZW50Iiwic2FuaXRpemVkVGV4dCIsInJlcGxhY2UiLCJ0cmltIiwic3Vic3RyaW5nIiwic2V0Rm9udFNpemUiLCJmb250U3R5bGUiLCJzZXRGb250IiwibWF4V2lkdGgiLCJ3aWR0aCIsImxpbmVzIiwic3BsaXRUZXh0VG9TaXplIiwibGluZSIsImFkZFBhZ2UiLCJlcnJvciIsImFkZFNlY3Rpb24iLCJ0aXRsZSIsImNvbnRlbnQiLCJjaGFyQXQiLCJ0b1VwcGVyQ2FzZSIsInNsaWNlIiwid2FybXVwUXVlc3Rpb25zIiwiZm9yRWFjaCIsInF1ZXN0aW9uIiwiaW5kZXgiLCJzZXRGaWxsQ29sb3IiLCJpbnN0cnVjdGlvbldpZHRoIiwiaW5zdHJ1Y3Rpb25MaW5lcyIsImluc3RydWN0aW9uSGVpZ2h0IiwicmVjdCIsInZvY2FidWxhcnlJdGVtcyIsInZvY2FiSW5kZXgiLCJpdGVtIiwibWVhbmluZyIsImV4YW1wbGVzIiwiZXhhbXBsZSIsImV4SW5kZXgiLCJyZWFkaW5nQ29udGVudCIsInBhcnRzIiwic3BsaXQiLCJpbmNsdWRlcyIsImpvaW4iLCJjb21wcmVoZW5zaW9uUXVlc3Rpb25zIiwiZGlzY3Vzc2lvblF1ZXN0aW9ucyIsImRpYWxvZ3VlUHJhY3RpY2UiLCJkaWFsb2d1ZVNlY3Rpb24iLCJpbnN0cnVjdGlvbiIsImVuaGFuY2VkRGlhbG9ndWUiLCJkaWFsb2d1ZSIsImlkIiwiZGlhbG9ndWVQcmFjdGljZUxpbmVzIiwiY2hhcldpZHRoIiwiZ2V0VGV4dFdpZHRoIiwiY2hhcmFjdGVyIiwibGluZVRleHQiLCJpIiwiZm9sbG93VXBRdWVzdGlvbnMiLCJkaWFsb2d1ZUZpbGxHYXAiLCJkaWFsb2d1ZUZpbGxHYXBMaW5lcyIsImFuc3dlcnMiLCJncmFtbWFyRXhhbXBsZXMiLCJncmFtbWFyRXhlcmNpc2VzIiwiZXhlcmNpc2UiLCJwcm9uU2VjdGlvbiIsIndvcmRzIiwid29yZEl0ZW0iLCJpcGEiLCJwcmFjdGljZVNlbnRlbmNlIiwidGlwcyIsInRpcCIsInByYWN0aWNlIiwid3JhcHVwUXVlc3Rpb25zIiwicGFnZUNvdW50IiwiZ2V0TnVtYmVyT2ZQYWdlcyIsInNldFBhZ2UiLCJmaWxlTmFtZSIsIm5vdyIsInNhdmUiLCJzYXZlRXJyb3IiLCJtZXNzYWdlIiwic3RhY2siLCJuYW1lIiwibGVzc29uRGF0YUtleXMiLCJzZWN0aW9uc0tleXMiLCJlbmFibGVkU2VjdGlvbnNLZXlzIiwiZXhwb3J0VG9Xb3JkIiwiY2hpbGRyZW4iLCJXT1JEX0ZPTlRfU0laRVMiLCJwdXNoIiwiYm9sZCIsInNpemUiLCJoZWFkaW5nIiwiVElUTEUiLCJhbGlnbm1lbnQiLCJDRU5URVIiLCJzcGFjaW5nIiwiYWZ0ZXIiLCJ1bmRlcmxpbmUiLCJTSU5HTEUiLCJIRUFESU5HXzIiLCJiZWZvcmUiLCJ3YXJtdXBDb250ZW50IiwibWFwIiwiaXRhbGljcyIsInNoYWRpbmciLCJmaWxsIiwiYm9yZGVyIiwibGVmdCIsImNvbG9yIiwic3R5bGUiLCJ2b2NhYkNvbnRlbnQiLCJyZWFkaW5nVGV4dCIsImNvbXByZWhlbnNpb25Db250ZW50IiwiZGlzY3Vzc2lvbkNvbnRlbnQiLCJkaWFsb2d1ZVByYWN0aWNlQ29udGVudCIsImRpYWxvZ3VlTGluZXMiLCJkaWFsb2d1ZUZpbGxHYXBDb250ZW50IiwiZ3JhbW1hckNvbnRlbnQiLCJwcm9udW5jaWF0aW9uQ29udGVudCIsIndyYXB1cENvbnRlbnQiLCJkb2MiLCJwcm9wZXJ0aWVzIiwiYnVmZmVyIiwidG9CdWZmZXIiLCJieXRlTGVuZ3RoIiwiYmxvYiIsIkJsb2IiLCJ1cmwiLCJVUkwiLCJjcmVhdGVPYmplY3RVUkwiLCJsaW5rIiwiZG9jdW1lbnQiLCJjcmVhdGVFbGVtZW50IiwiaHJlZiIsImRvd25sb2FkIiwiYm9keSIsImFwcGVuZENoaWxkIiwiY2xpY2siLCJyZW1vdmVDaGlsZCIsInJldm9rZU9iamVjdFVSTCIsImxlc3NvbkV4cG9ydGVyIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(app-pages-browser)/./lib/export-utils.ts\n"));

/***/ })

});