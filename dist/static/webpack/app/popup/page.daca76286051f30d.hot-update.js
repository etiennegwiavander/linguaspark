"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
self["webpackHotUpdate_N_E"]("app/popup/page",{

/***/ "(app-pages-browser)/./lib/export-utils.ts":
/*!*****************************!*\
  !*** ./lib/export-utils.ts ***!
  \*****************************/
/***/ (function(module, __webpack_exports__, __webpack_require__) {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   LessonExporter: function() { return /* binding */ LessonExporter; },\n/* harmony export */   lessonExporter: function() { return /* binding */ lessonExporter; }\n/* harmony export */ });\n/* harmony import */ var jspdf__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jspdf */ \"(app-pages-browser)/./node_modules/jspdf/dist/jspdf.es.min.js\");\n/* harmony import */ var docx__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! docx */ \"(app-pages-browser)/./node_modules/docx/dist/index.mjs\");\n\n\nclass LessonExporter {\n    formatDate() {\n        return new Date().toLocaleDateString(\"en-US\", {\n            year: \"numeric\",\n            month: \"long\",\n            day: \"numeric\"\n        });\n    }\n    validateLessonData(lessonData) {\n        var _sections_vocabulary, _sections_reading, _sections_comprehension, _sections_discussion, _sections_grammar, _sections_pronunciation, _sections_wrapup;\n        console.log(\"Validating lesson data:\", lessonData);\n        if (!lessonData) {\n            throw new Error(\"Lesson data is required\");\n        }\n        if (!lessonData.lessonTitle) {\n            throw new Error(\"AI-generated lesson title is required\");\n        }\n        if (!lessonData.lessonType) {\n            throw new Error(\"Lesson type is required\");\n        }\n        if (!lessonData.studentLevel) {\n            throw new Error(\"Student level is required\");\n        }\n        if (!lessonData.targetLanguage) {\n            throw new Error(\"Target language is required\");\n        }\n        if (!lessonData.sections) {\n            throw new Error(\"Lesson sections are required\");\n        }\n        // Validate sections structure with detailed logging\n        const sections = lessonData.sections;\n        console.log(\"Validating section types:\", {\n            warmup: {\n                type: typeof sections.warmup,\n                isArray: Array.isArray(sections.warmup),\n                value: sections.warmup\n            },\n            vocabulary: {\n                type: typeof sections.vocabulary,\n                isArray: Array.isArray(sections.vocabulary),\n                length: (_sections_vocabulary = sections.vocabulary) === null || _sections_vocabulary === void 0 ? void 0 : _sections_vocabulary.length\n            },\n            reading: {\n                type: typeof sections.reading,\n                length: (_sections_reading = sections.reading) === null || _sections_reading === void 0 ? void 0 : _sections_reading.length\n            },\n            comprehension: {\n                type: typeof sections.comprehension,\n                isArray: Array.isArray(sections.comprehension),\n                length: (_sections_comprehension = sections.comprehension) === null || _sections_comprehension === void 0 ? void 0 : _sections_comprehension.length\n            },\n            discussion: {\n                type: typeof sections.discussion,\n                isArray: Array.isArray(sections.discussion),\n                length: (_sections_discussion = sections.discussion) === null || _sections_discussion === void 0 ? void 0 : _sections_discussion.length\n            },\n            grammar: {\n                type: typeof sections.grammar,\n                hasFocus: !!((_sections_grammar = sections.grammar) === null || _sections_grammar === void 0 ? void 0 : _sections_grammar.focus)\n            },\n            pronunciation: {\n                type: typeof sections.pronunciation,\n                hasWord: !!((_sections_pronunciation = sections.pronunciation) === null || _sections_pronunciation === void 0 ? void 0 : _sections_pronunciation.word)\n            },\n            wrapup: {\n                type: typeof sections.wrapup,\n                isArray: Array.isArray(sections.wrapup),\n                length: (_sections_wrapup = sections.wrapup) === null || _sections_wrapup === void 0 ? void 0 : _sections_wrapup.length\n            }\n        });\n        if (!Array.isArray(sections.warmup)) {\n            console.warn(\"Warmup section is not an array:\", sections.warmup);\n        }\n        if (!Array.isArray(sections.vocabulary)) {\n            console.warn(\"Vocabulary section is not an array:\", sections.vocabulary);\n        }\n        if (typeof sections.reading !== \"string\") {\n            console.warn(\"Reading section is not a string:\", sections.reading);\n        }\n        if (!Array.isArray(sections.comprehension)) {\n            console.warn(\"Comprehension section is not an array:\", sections.comprehension);\n        }\n        if (!Array.isArray(sections.discussion)) {\n            console.warn(\"Discussion section is not an array:\", sections.discussion);\n        }\n        if (!sections.grammar || !sections.grammar.focus) {\n            console.warn(\"Grammar section is malformed:\", sections.grammar);\n        }\n        if (!sections.pronunciation || !sections.pronunciation.word) {\n            console.warn(\"Pronunciation section is malformed:\", sections.pronunciation);\n        }\n        if (!Array.isArray(sections.wrapup)) {\n            console.warn(\"Wrapup section is not an array:\", sections.wrapup);\n        }\n        console.log(\"Lesson data validation completed\");\n    }\n    async exportToPDF(lessonData, enabledSections) {\n        try {\n            console.log(\"Starting PDF export with data:\", {\n                lessonData,\n                enabledSections\n            });\n            // Check if we're in a browser environment\n            if (false) {}\n            // Check if jsPDF is available\n            if (typeof jspdf__WEBPACK_IMPORTED_MODULE_0__[\"default\"] === \"undefined\") {\n                throw new Error(\"jsPDF library is not available\");\n            }\n            console.log(\"Environment checks passed\");\n            this.validateLessonData(lessonData);\n            // Additional validation for enabled sections\n            if (!enabledSections || Object.keys(enabledSections).length === 0) {\n                throw new Error(\"No sections enabled for export\");\n            }\n            console.log(\"Creating jsPDF instance...\");\n            const pdf = new jspdf__WEBPACK_IMPORTED_MODULE_0__[\"default\"]();\n            console.log(\"jsPDF instance created successfully\");\n            let yPosition = 20;\n            const pageHeight = pdf.internal.pageSize.height;\n            const margin = 20;\n            const lineHeight = 7;\n            console.log(\"PDF dimensions:\", {\n                pageHeight,\n                margin,\n                lineHeight\n            });\n            // Typography hierarchy constants (matching web interface)\n            const FONT_SIZES = {\n                LESSON_TITLE: 32,\n                SECTION_HEADER: 28,\n                MAIN_CONTENT: 16,\n                INSTRUCTIONS: 15,\n                SUPPLEMENTARY: 14 // Answer keys, explanations\n            };\n            // Helper function to add text with word wrapping\n            const addText = function(text) {\n                let fontSize = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : FONT_SIZES.MAIN_CONTENT, isBold = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : false, indent = arguments.length > 3 && arguments[3] !== void 0 ? arguments[3] : 0;\n                try {\n                    // Sanitize text to prevent PDF errors\n                    const sanitizedText = text.replace(/[\\u0000-\\u001F\\u007F-\\u009F]/g, \"\") // Remove control characters\n                    .replace(/[\\u2000-\\u206F\\u2E00-\\u2E7F\\u3000-\\u303F]/g, \" \") // Replace special spaces\n                    .trim();\n                    if (!sanitizedText) {\n                        console.warn(\"Empty text after sanitization, skipping\");\n                        return;\n                    }\n                    console.log('Adding text: \"'.concat(sanitizedText.substring(0, 50)).concat(sanitizedText.length > 50 ? \"...\" : \"\", '\"'));\n                    pdf.setFontSize(fontSize);\n                    pdf.setFont(\"helvetica\", isBold ? \"bold\" : \"normal\");\n                    const maxWidth = pdf.internal.pageSize.width - margin * 2 - indent;\n                    const lines = pdf.splitTextToSize(sanitizedText, maxWidth);\n                    for (const line of lines){\n                        if (yPosition > pageHeight - 30) {\n                            pdf.addPage();\n                            yPosition = 20;\n                        }\n                        pdf.text(line, margin + indent, yPosition);\n                        yPosition += lineHeight;\n                    }\n                    yPosition += 3 // Extra spacing after text block\n                    ;\n                } catch (error) {\n                    console.error(\"Error adding text to PDF:\", error, \"Text:\", text);\n                    throw error;\n                }\n            };\n            const addSection = (title, content)=>{\n                if (yPosition > pageHeight - 50) {\n                    pdf.addPage();\n                    yPosition = 20;\n                }\n                addText(title, FONT_SIZES.SECTION_HEADER, true);\n                yPosition += 5;\n                content();\n                yPosition += 10;\n            };\n            // Title and metadata\n            addText(lessonData.lessonTitle, FONT_SIZES.LESSON_TITLE, true);\n            addText(\"Target Language: \".concat(lessonData.targetLanguage.charAt(0).toUpperCase() + lessonData.targetLanguage.slice(1)), FONT_SIZES.SUPPLEMENTARY);\n            addText(\"Generated on: \".concat(this.formatDate()), FONT_SIZES.SUPPLEMENTARY);\n            yPosition += 10;\n            // Add sections based on enabled state\n            if (enabledSections.warmup && lessonData.sections.warmup) {\n                addSection(\"Warm-up Questions\", ()=>{\n                    const warmupQuestions = Array.isArray(lessonData.sections.warmup) ? lessonData.sections.warmup : [];\n                    warmupQuestions.forEach((question, index)=>{\n                        addText(\"\".concat(index + 1, \". \").concat(question), FONT_SIZES.MAIN_CONTENT, false, 10);\n                    });\n                });\n            }\n            if (enabledSections.vocabulary && lessonData.sections.vocabulary) {\n                addSection(\"Key Vocabulary\", ()=>{\n                    const vocabularyItems = Array.isArray(lessonData.sections.vocabulary) ? lessonData.sections.vocabulary : [];\n                    vocabularyItems.forEach((item, index)=>{\n                        addText(\"\".concat(index + 1, \". \").concat(item.word), FONT_SIZES.MAIN_CONTENT, true, 10);\n                        addText(\"   Meaning: \".concat(item.meaning), FONT_SIZES.MAIN_CONTENT, false, 15);\n                        // Handle both old format (example) and new format (examples array)\n                        if (item.examples && Array.isArray(item.examples) && item.examples.length > 0) {\n                            addText(\"   Examples:\", FONT_SIZES.INSTRUCTIONS, true, 15);\n                            const examples = Array.isArray(item.examples) ? item.examples : [];\n                            examples.forEach((example, exIndex)=>{\n                                addText(\"   \".concat(exIndex + 1, '. \"').concat(example, '\"'), FONT_SIZES.SUPPLEMENTARY, false, 20);\n                            });\n                        } else if (item.example) {\n                            addText('   Example: \"'.concat(item.example, '\"'), FONT_SIZES.SUPPLEMENTARY, false, 15);\n                        }\n                        yPosition += 3;\n                    });\n                });\n            }\n            if (enabledSections.reading && lessonData.sections.reading) {\n                addSection(\"Reading Passage\", ()=>{\n                    addText(lessonData.sections.reading, FONT_SIZES.MAIN_CONTENT, false, 10);\n                });\n            }\n            if (enabledSections.comprehension && lessonData.sections.comprehension) {\n                addSection(\"Reading Comprehension\", ()=>{\n                    const comprehensionQuestions = Array.isArray(lessonData.sections.comprehension) ? lessonData.sections.comprehension : [];\n                    comprehensionQuestions.forEach((question, index)=>{\n                        addText(\"\".concat(index + 1, \". \").concat(question), FONT_SIZES.MAIN_CONTENT, false, 10);\n                    });\n                });\n            }\n            if (enabledSections.discussion && lessonData.sections.discussion) {\n                addSection(\"Discussion Questions\", ()=>{\n                    const discussionQuestions = Array.isArray(lessonData.sections.discussion) ? lessonData.sections.discussion : [];\n                    discussionQuestions.forEach((question, index)=>{\n                        addText(\"\".concat(index + 1, \". \").concat(question), FONT_SIZES.MAIN_CONTENT, false, 10);\n                    });\n                });\n            }\n            if (enabledSections.dialoguePractice && lessonData.sections.dialoguePractice) {\n                addSection(\"Dialogue Practice\", ()=>{\n                    const dialogueSection = lessonData.sections.dialoguePractice;\n                    // Add instruction with light green background color\n                    pdf.setFillColor(238, 247, 220) // #EEF7DC\n                    ;\n                    const instructionWidth = pdf.internal.pageSize.width - margin * 2 - 10;\n                    const instructionLines = pdf.splitTextToSize(dialogueSection.instruction, instructionWidth);\n                    const instructionHeight = instructionLines.length * lineHeight + 6;\n                    pdf.rect(margin + 10, yPosition - 4, instructionWidth, instructionHeight, \"F\");\n                    addText(dialogueSection.instruction, FONT_SIZES.INSTRUCTIONS, false, 10);\n                    yPosition += 3;\n                    // Add dialogue lines with character names\n                    const dialoguePracticeLines = Array.isArray(dialogueSection.dialogue) ? dialogueSection.dialogue : [];\n                    dialoguePracticeLines.forEach((line)=>{\n                        // Character name in bold, then line\n                        pdf.setFontSize(FONT_SIZES.MAIN_CONTENT);\n                        pdf.setFont(\"helvetica\", \"bold\");\n                        const charWidth = pdf.getTextWidth(\"\".concat(line.character, \": \"));\n                        pdf.text(\"\".concat(line.character, \": \"), margin + 10, yPosition);\n                        pdf.setFont(\"helvetica\", \"normal\");\n                        const maxWidth = pdf.internal.pageSize.width - margin * 2 - 10 - charWidth;\n                        const lineText = pdf.splitTextToSize(line.line, maxWidth);\n                        pdf.text(lineText[0], margin + 10 + charWidth, yPosition);\n                        yPosition += lineHeight;\n                        // Handle wrapped lines\n                        for(let i = 1; i < lineText.length; i++){\n                            if (yPosition > pageHeight - 30) {\n                                pdf.addPage();\n                                yPosition = 20;\n                            }\n                            pdf.text(lineText[i], margin + 10 + charWidth, yPosition);\n                            yPosition += lineHeight;\n                        }\n                    });\n                    if (dialogueSection.followUpQuestions && dialogueSection.followUpQuestions.length > 0) {\n                        yPosition += 5;\n                        addText(\"Follow-up Questions:\", FONT_SIZES.INSTRUCTIONS, true, 10);\n                        const followUpQuestions = Array.isArray(dialogueSection.followUpQuestions) ? dialogueSection.followUpQuestions : [];\n                        followUpQuestions.forEach((question, index)=>{\n                            addText(\"\".concat(index + 1, \". \").concat(question), FONT_SIZES.MAIN_CONTENT, false, 15);\n                        });\n                    }\n                });\n            }\n            if (enabledSections.dialogueFillGap && lessonData.sections.dialogueFillGap) {\n                addSection(\"Dialogue Fill-in-the-Gap\", ()=>{\n                    const dialogueSection = lessonData.sections.dialogueFillGap;\n                    // Add instruction with light blue background color\n                    pdf.setFillColor(241, 250, 255) // #F1FAFF\n                    ;\n                    const instructionWidth = pdf.internal.pageSize.width - margin * 2 - 10;\n                    const instructionLines = pdf.splitTextToSize(dialogueSection.instruction, instructionWidth);\n                    const instructionHeight = instructionLines.length * lineHeight + 6;\n                    pdf.rect(margin + 10, yPosition - 4, instructionWidth, instructionHeight, \"F\");\n                    addText(dialogueSection.instruction, FONT_SIZES.INSTRUCTIONS, false, 10);\n                    yPosition += 3;\n                    // Add dialogue lines with character names\n                    const dialogueFillGapLines = Array.isArray(dialogueSection.dialogue) ? dialogueSection.dialogue : [];\n                    dialogueFillGapLines.forEach((line)=>{\n                        // Character name in bold, then line\n                        pdf.setFontSize(FONT_SIZES.MAIN_CONTENT);\n                        pdf.setFont(\"helvetica\", \"bold\");\n                        const charWidth = pdf.getTextWidth(\"\".concat(line.character, \": \"));\n                        pdf.text(\"\".concat(line.character, \": \"), margin + 10, yPosition);\n                        pdf.setFont(\"helvetica\", \"normal\");\n                        const maxWidth = pdf.internal.pageSize.width - margin * 2 - 10 - charWidth;\n                        const lineText = pdf.splitTextToSize(line.line, maxWidth);\n                        pdf.text(lineText[0], margin + 10 + charWidth, yPosition);\n                        yPosition += lineHeight;\n                        // Handle wrapped lines\n                        for(let i = 1; i < lineText.length; i++){\n                            if (yPosition > pageHeight - 30) {\n                                pdf.addPage();\n                                yPosition = 20;\n                            }\n                            pdf.text(lineText[i], margin + 10 + charWidth, yPosition);\n                            yPosition += lineHeight;\n                        }\n                    });\n                    if (dialogueSection.answers && dialogueSection.answers.length > 0) {\n                        yPosition += 5;\n                        addText(\"Answer Key:\", FONT_SIZES.INSTRUCTIONS, true, 10);\n                        addText(dialogueSection.answers.join(\", \"), FONT_SIZES.SUPPLEMENTARY, false, 15);\n                    }\n                });\n            }\n            if (enabledSections.grammar && lessonData.sections.grammar) {\n                addSection(\"Grammar Focus\", ()=>{\n                    addText(\"Focus: \".concat(lessonData.sections.grammar.focus), FONT_SIZES.MAIN_CONTENT, true, 10);\n                    yPosition += 3;\n                    addText(\"Examples:\", FONT_SIZES.INSTRUCTIONS, true, 10);\n                    const grammarExamples = Array.isArray(lessonData.sections.grammar.examples) ? lessonData.sections.grammar.examples : [];\n                    grammarExamples.forEach((example, index)=>{\n                        addText(\"• \".concat(example), FONT_SIZES.SUPPLEMENTARY, false, 15);\n                    });\n                    yPosition += 3;\n                    addText(\"Practice Exercise:\", FONT_SIZES.INSTRUCTIONS, true, 10);\n                    const grammarExercises = Array.isArray(lessonData.sections.grammar.exercise) ? lessonData.sections.grammar.exercise : [];\n                    grammarExercises.forEach((exercise, index)=>{\n                        addText(\"\".concat(index + 1, \". \").concat(exercise), FONT_SIZES.MAIN_CONTENT, false, 15);\n                    });\n                });\n            }\n            if (enabledSections.pronunciation && lessonData.sections.pronunciation) {\n                addSection(\"Pronunciation Practice\", ()=>{\n                    addText(\"Word: \".concat(lessonData.sections.pronunciation.word), FONT_SIZES.MAIN_CONTENT, true, 10);\n                    addText(\"IPA: \".concat(lessonData.sections.pronunciation.ipa), FONT_SIZES.SUPPLEMENTARY, false, 10);\n                    addText('Practice: \"'.concat(lessonData.sections.pronunciation.practice, '\"'), FONT_SIZES.MAIN_CONTENT, false, 10);\n                });\n            }\n            if (enabledSections.wrapup && lessonData.sections.wrapup) {\n                addSection(\"Lesson Wrap-up\", ()=>{\n                    const wrapupQuestions = Array.isArray(lessonData.sections.wrapup) ? lessonData.sections.wrapup : [];\n                    wrapupQuestions.forEach((question, index)=>{\n                        addText(\"\".concat(index + 1, \". \").concat(question), FONT_SIZES.MAIN_CONTENT, false, 10);\n                    });\n                });\n            }\n            // Footer\n            const pageCount = pdf.internal.getNumberOfPages();\n            for(let i = 1; i <= pageCount; i++){\n                pdf.setPage(i);\n                pdf.setFontSize(8);\n                pdf.setFont(\"helvetica\", \"normal\");\n                pdf.text(\"Generated by LinguaSpark - Page \".concat(i, \" of \").concat(pageCount), margin, pageHeight - 10);\n            }\n            // Download the PDF\n            try {\n                const fileName = \"\".concat(lessonData.lessonType, \"-lesson-\").concat(lessonData.studentLevel, \"-\").concat(Date.now(), \".pdf\");\n                console.log(\"Saving PDF with filename:\", fileName);\n                pdf.save(fileName);\n                console.log(\"PDF export completed successfully\");\n            } catch (saveError) {\n                console.error(\"Error saving PDF:\", saveError);\n                throw new Error(\"Failed to save PDF: \".concat(saveError instanceof Error ? saveError.message : \"Unknown save error\"));\n            }\n        } catch (error) {\n            console.error(\"PDF export error:\", error);\n            console.error(\"Error stack:\", error instanceof Error ? error.stack : \"No stack trace\");\n            console.error(\"Error details:\", {\n                name: error instanceof Error ? error.name : \"Unknown\",\n                message: error instanceof Error ? error.message : \"Unknown error\",\n                lessonDataKeys: lessonData ? Object.keys(lessonData) : \"No lesson data\",\n                sectionsKeys: (lessonData === null || lessonData === void 0 ? void 0 : lessonData.sections) ? Object.keys(lessonData.sections) : \"No sections\",\n                enabledSectionsKeys: enabledSections ? Object.keys(enabledSections) : \"No enabled sections\"\n            });\n            throw new Error(\"PDF export failed: \".concat(error instanceof Error ? error.message : \"Unknown error\"));\n        }\n    }\n    async exportToWord(lessonData, enabledSections) {\n        try {\n            console.log(\"Starting Word export with data:\", {\n                lessonData,\n                enabledSections\n            });\n            this.validateLessonData(lessonData);\n            // Additional validation for enabled sections\n            if (!enabledSections || Object.keys(enabledSections).length === 0) {\n                throw new Error(\"No sections enabled for export\");\n            }\n            const children = [];\n            // Typography hierarchy constants (in half-points for Word - multiply by 2)\n            // 32px = 24pt, 28px = 21pt, 16px = 12pt, 15px = 11.25pt, 14px = 10.5pt\n            const WORD_FONT_SIZES = {\n                LESSON_TITLE: 48,\n                SECTION_HEADER: 42,\n                MAIN_CONTENT: 24,\n                INSTRUCTIONS: 23,\n                SUPPLEMENTARY: 21 // 10.5pt (14px equivalent)\n            };\n            // Title and metadata\n            children.push(new docx__WEBPACK_IMPORTED_MODULE_1__.Paragraph({\n                children: [\n                    new docx__WEBPACK_IMPORTED_MODULE_1__.TextRun({\n                        text: lessonData.lessonTitle,\n                        bold: true,\n                        size: WORD_FONT_SIZES.LESSON_TITLE\n                    })\n                ],\n                heading: docx__WEBPACK_IMPORTED_MODULE_1__.HeadingLevel.TITLE,\n                alignment: docx__WEBPACK_IMPORTED_MODULE_1__.AlignmentType.CENTER,\n                spacing: {\n                    after: 400\n                }\n            }));\n            children.push(new docx__WEBPACK_IMPORTED_MODULE_1__.Paragraph({\n                children: [\n                    new docx__WEBPACK_IMPORTED_MODULE_1__.TextRun({\n                        text: \"Target Language: \".concat(lessonData.targetLanguage.charAt(0).toUpperCase() + lessonData.targetLanguage.slice(1)),\n                        size: WORD_FONT_SIZES.SUPPLEMENTARY\n                    })\n                ],\n                spacing: {\n                    after: 200\n                }\n            }));\n            children.push(new docx__WEBPACK_IMPORTED_MODULE_1__.Paragraph({\n                children: [\n                    new docx__WEBPACK_IMPORTED_MODULE_1__.TextRun({\n                        text: \"Generated on: \".concat(this.formatDate()),\n                        size: WORD_FONT_SIZES.SUPPLEMENTARY\n                    })\n                ],\n                spacing: {\n                    after: 400\n                }\n            }));\n            // Helper function to add section\n            const addSection = (title, content)=>{\n                children.push(new docx__WEBPACK_IMPORTED_MODULE_1__.Paragraph({\n                    children: [\n                        new docx__WEBPACK_IMPORTED_MODULE_1__.TextRun({\n                            text: title,\n                            bold: true,\n                            size: WORD_FONT_SIZES.SECTION_HEADER,\n                            underline: {\n                                type: docx__WEBPACK_IMPORTED_MODULE_1__.UnderlineType.SINGLE\n                            }\n                        })\n                    ],\n                    heading: docx__WEBPACK_IMPORTED_MODULE_1__.HeadingLevel.HEADING_2,\n                    spacing: {\n                        before: 400,\n                        after: 200\n                    }\n                }));\n                children.push(...content);\n            };\n            // Add sections based on enabled state\n            if (enabledSections.warmup && lessonData.sections.warmup) {\n                const warmupQuestions = Array.isArray(lessonData.sections.warmup) ? lessonData.sections.warmup : [];\n                const warmupContent = warmupQuestions.map((question, index)=>new docx__WEBPACK_IMPORTED_MODULE_1__.Paragraph({\n                        children: [\n                            new docx__WEBPACK_IMPORTED_MODULE_1__.TextRun({\n                                text: \"\".concat(index + 1, \". \").concat(question),\n                                size: WORD_FONT_SIZES.MAIN_CONTENT\n                            })\n                        ],\n                        spacing: {\n                            after: 150\n                        }\n                    }));\n                addSection(\"Warm-up Questions\", warmupContent);\n            }\n            if (enabledSections.vocabulary && lessonData.sections.vocabulary) {\n                const vocabContent = [];\n                const vocabularyItems = Array.isArray(lessonData.sections.vocabulary) ? lessonData.sections.vocabulary : [];\n                vocabularyItems.forEach((item, index)=>{\n                    vocabContent.push(new docx__WEBPACK_IMPORTED_MODULE_1__.Paragraph({\n                        children: [\n                            new docx__WEBPACK_IMPORTED_MODULE_1__.TextRun({\n                                text: \"\".concat(index + 1, \". \").concat(item.word),\n                                bold: true,\n                                size: WORD_FONT_SIZES.MAIN_CONTENT\n                            })\n                        ],\n                        spacing: {\n                            after: 100\n                        }\n                    }));\n                    vocabContent.push(new docx__WEBPACK_IMPORTED_MODULE_1__.Paragraph({\n                        children: [\n                            new docx__WEBPACK_IMPORTED_MODULE_1__.TextRun({\n                                text: \"   Meaning: \".concat(item.meaning),\n                                size: WORD_FONT_SIZES.MAIN_CONTENT\n                            })\n                        ],\n                        spacing: {\n                            after: 100\n                        }\n                    }));\n                    // Handle both old format (example) and new format (examples array)\n                    if (item.examples && Array.isArray(item.examples) && item.examples.length > 0) {\n                        vocabContent.push(new docx__WEBPACK_IMPORTED_MODULE_1__.Paragraph({\n                            children: [\n                                new docx__WEBPACK_IMPORTED_MODULE_1__.TextRun({\n                                    text: \"   Examples:\",\n                                    size: WORD_FONT_SIZES.INSTRUCTIONS,\n                                    bold: true\n                                })\n                            ],\n                            spacing: {\n                                after: 100\n                            }\n                        }));\n                        // Additional safety check before forEach\n                        const examples = Array.isArray(item.examples) ? item.examples : [];\n                        examples.forEach((example, exIndex)=>{\n                            vocabContent.push(new docx__WEBPACK_IMPORTED_MODULE_1__.Paragraph({\n                                children: [\n                                    new docx__WEBPACK_IMPORTED_MODULE_1__.TextRun({\n                                        text: \"      \".concat(exIndex + 1, '. \"').concat(example, '\"'),\n                                        size: WORD_FONT_SIZES.SUPPLEMENTARY,\n                                        italics: true\n                                    })\n                                ],\n                                spacing: {\n                                    after: 100\n                                }\n                            }));\n                        });\n                        vocabContent.push(new docx__WEBPACK_IMPORTED_MODULE_1__.Paragraph({\n                            children: [\n                                new docx__WEBPACK_IMPORTED_MODULE_1__.TextRun({\n                                    text: \"\"\n                                })\n                            ],\n                            spacing: {\n                                after: 100\n                            }\n                        }));\n                    } else if (item.example) {\n                        vocabContent.push(new docx__WEBPACK_IMPORTED_MODULE_1__.Paragraph({\n                            children: [\n                                new docx__WEBPACK_IMPORTED_MODULE_1__.TextRun({\n                                    text: '   Example: \"'.concat(item.example, '\"'),\n                                    size: WORD_FONT_SIZES.SUPPLEMENTARY,\n                                    italics: true\n                                })\n                            ],\n                            spacing: {\n                                after: 200\n                            }\n                        }));\n                    }\n                });\n                addSection(\"Key Vocabulary\", vocabContent);\n            }\n            if (enabledSections.reading && lessonData.sections.reading) {\n                const readingContent = [\n                    new docx__WEBPACK_IMPORTED_MODULE_1__.Paragraph({\n                        children: [\n                            new docx__WEBPACK_IMPORTED_MODULE_1__.TextRun({\n                                text: lessonData.sections.reading,\n                                size: WORD_FONT_SIZES.MAIN_CONTENT\n                            })\n                        ],\n                        spacing: {\n                            after: 200\n                        }\n                    })\n                ];\n                addSection(\"Reading Passage\", readingContent);\n            }\n            if (enabledSections.comprehension && lessonData.sections.comprehension) {\n                const comprehensionQuestions = Array.isArray(lessonData.sections.comprehension) ? lessonData.sections.comprehension : [];\n                const comprehensionContent = comprehensionQuestions.map((question, index)=>new docx__WEBPACK_IMPORTED_MODULE_1__.Paragraph({\n                        children: [\n                            new docx__WEBPACK_IMPORTED_MODULE_1__.TextRun({\n                                text: \"\".concat(index + 1, \". \").concat(question),\n                                size: WORD_FONT_SIZES.MAIN_CONTENT\n                            })\n                        ],\n                        spacing: {\n                            after: 150\n                        }\n                    }));\n                addSection(\"Reading Comprehension\", comprehensionContent);\n            }\n            if (enabledSections.discussion && lessonData.sections.discussion) {\n                const discussionQuestions = Array.isArray(lessonData.sections.discussion) ? lessonData.sections.discussion : [];\n                const discussionContent = discussionQuestions.map((question, index)=>new docx__WEBPACK_IMPORTED_MODULE_1__.Paragraph({\n                        children: [\n                            new docx__WEBPACK_IMPORTED_MODULE_1__.TextRun({\n                                text: \"\".concat(index + 1, \". \").concat(question),\n                                size: WORD_FONT_SIZES.MAIN_CONTENT\n                            })\n                        ],\n                        spacing: {\n                            after: 150\n                        }\n                    }));\n                addSection(\"Discussion Questions\", discussionContent);\n            }\n            if (enabledSections.dialoguePractice && lessonData.sections.dialoguePractice) {\n                const dialoguePracticeContent = [];\n                const dialogueSection = lessonData.sections.dialoguePractice;\n                // Add instruction with light green background (#EEF7DC)\n                dialoguePracticeContent.push(new docx__WEBPACK_IMPORTED_MODULE_1__.Paragraph({\n                    children: [\n                        new docx__WEBPACK_IMPORTED_MODULE_1__.TextRun({\n                            text: dialogueSection.instruction,\n                            size: WORD_FONT_SIZES.INSTRUCTIONS,\n                            italics: true\n                        })\n                    ],\n                    spacing: {\n                        after: 200\n                    },\n                    shading: {\n                        fill: \"EEF7DC\"\n                    },\n                    border: {\n                        left: {\n                            color: \"CCCCCC\",\n                            size: 6,\n                            style: \"single\"\n                        }\n                    }\n                }));\n                // Add dialogue lines with character names in bold\n                const dialogueLines = Array.isArray(dialogueSection.dialogue) ? dialogueSection.dialogue : [];\n                dialogueLines.forEach((line)=>{\n                    dialoguePracticeContent.push(new docx__WEBPACK_IMPORTED_MODULE_1__.Paragraph({\n                        children: [\n                            new docx__WEBPACK_IMPORTED_MODULE_1__.TextRun({\n                                text: \"\".concat(line.character, \": \"),\n                                bold: true,\n                                size: WORD_FONT_SIZES.MAIN_CONTENT\n                            }),\n                            new docx__WEBPACK_IMPORTED_MODULE_1__.TextRun({\n                                text: line.line,\n                                size: WORD_FONT_SIZES.MAIN_CONTENT\n                            })\n                        ],\n                        spacing: {\n                            after: 100\n                        }\n                    }));\n                });\n                // Add follow-up questions if any\n                if (dialogueSection.followUpQuestions && dialogueSection.followUpQuestions.length > 0) {\n                    dialoguePracticeContent.push(new docx__WEBPACK_IMPORTED_MODULE_1__.Paragraph({\n                        children: [\n                            new docx__WEBPACK_IMPORTED_MODULE_1__.TextRun({\n                                text: \"Follow-up Questions:\",\n                                bold: true,\n                                size: WORD_FONT_SIZES.INSTRUCTIONS\n                            })\n                        ],\n                        spacing: {\n                            before: 200,\n                            after: 100\n                        }\n                    }));\n                    const followUpQuestions = Array.isArray(dialogueSection.followUpQuestions) ? dialogueSection.followUpQuestions : [];\n                    followUpQuestions.forEach((question, index)=>{\n                        dialoguePracticeContent.push(new docx__WEBPACK_IMPORTED_MODULE_1__.Paragraph({\n                            children: [\n                                new docx__WEBPACK_IMPORTED_MODULE_1__.TextRun({\n                                    text: \"\".concat(index + 1, \". \").concat(question),\n                                    size: WORD_FONT_SIZES.MAIN_CONTENT\n                                })\n                            ],\n                            spacing: {\n                                after: 100\n                            }\n                        }));\n                    });\n                }\n                addSection(\"Dialogue Practice\", dialoguePracticeContent);\n            }\n            if (enabledSections.dialogueFillGap && lessonData.sections.dialogueFillGap) {\n                const dialogueFillGapContent = [];\n                const dialogueSection = lessonData.sections.dialogueFillGap;\n                // Add instruction\n                dialogueFillGapContent.push(new docx__WEBPACK_IMPORTED_MODULE_1__.Paragraph({\n                    children: [\n                        new docx__WEBPACK_IMPORTED_MODULE_1__.TextRun({\n                            text: dialogueSection.instruction,\n                            size: WORD_FONT_SIZES.INSTRUCTIONS,\n                            italics: true\n                        })\n                    ],\n                    spacing: {\n                        after: 200\n                    }\n                }));\n                // Add dialogue lines\n                const dialogueFillGapLines = Array.isArray(dialogueSection.dialogue) ? dialogueSection.dialogue : [];\n                dialogueFillGapLines.forEach((line)=>{\n                    dialogueFillGapContent.push(new docx__WEBPACK_IMPORTED_MODULE_1__.Paragraph({\n                        children: [\n                            new docx__WEBPACK_IMPORTED_MODULE_1__.TextRun({\n                                text: \"\".concat(line.character, \": \"),\n                                bold: true,\n                                size: WORD_FONT_SIZES.MAIN_CONTENT\n                            }),\n                            new docx__WEBPACK_IMPORTED_MODULE_1__.TextRun({\n                                text: line.line,\n                                size: WORD_FONT_SIZES.MAIN_CONTENT\n                            })\n                        ],\n                        spacing: {\n                            after: 100\n                        }\n                    }));\n                });\n                // Add answer key if any\n                if (dialogueSection.answers && dialogueSection.answers.length > 0) {\n                    dialogueFillGapContent.push(new docx__WEBPACK_IMPORTED_MODULE_1__.Paragraph({\n                        children: [\n                            new docx__WEBPACK_IMPORTED_MODULE_1__.TextRun({\n                                text: \"Answer Key:\",\n                                bold: true,\n                                size: WORD_FONT_SIZES.INSTRUCTIONS\n                            })\n                        ],\n                        spacing: {\n                            before: 200,\n                            after: 100\n                        }\n                    }));\n                    dialogueFillGapContent.push(new docx__WEBPACK_IMPORTED_MODULE_1__.Paragraph({\n                        children: [\n                            new docx__WEBPACK_IMPORTED_MODULE_1__.TextRun({\n                                text: dialogueSection.answers.join(\", \"),\n                                size: WORD_FONT_SIZES.SUPPLEMENTARY\n                            })\n                        ],\n                        spacing: {\n                            after: 100\n                        }\n                    }));\n                }\n                addSection(\"Dialogue Fill-in-the-Gap\", dialogueFillGapContent);\n            }\n            if (enabledSections.grammar && lessonData.sections.grammar) {\n                const grammarContent = [];\n                grammarContent.push(new docx__WEBPACK_IMPORTED_MODULE_1__.Paragraph({\n                    children: [\n                        new docx__WEBPACK_IMPORTED_MODULE_1__.TextRun({\n                            text: \"Focus: \".concat(lessonData.sections.grammar.focus),\n                            bold: true,\n                            size: WORD_FONT_SIZES.MAIN_CONTENT\n                        })\n                    ],\n                    spacing: {\n                        after: 200\n                    }\n                }));\n                grammarContent.push(new docx__WEBPACK_IMPORTED_MODULE_1__.Paragraph({\n                    children: [\n                        new docx__WEBPACK_IMPORTED_MODULE_1__.TextRun({\n                            text: \"Examples:\",\n                            bold: true,\n                            size: WORD_FONT_SIZES.INSTRUCTIONS\n                        })\n                    ],\n                    spacing: {\n                        after: 100\n                    }\n                }));\n                const grammarExamples = Array.isArray(lessonData.sections.grammar.examples) ? lessonData.sections.grammar.examples : [];\n                grammarExamples.forEach((example)=>{\n                    grammarContent.push(new docx__WEBPACK_IMPORTED_MODULE_1__.Paragraph({\n                        children: [\n                            new docx__WEBPACK_IMPORTED_MODULE_1__.TextRun({\n                                text: \"• \".concat(example),\n                                size: WORD_FONT_SIZES.SUPPLEMENTARY\n                            })\n                        ],\n                        spacing: {\n                            after: 100\n                        }\n                    }));\n                });\n                grammarContent.push(new docx__WEBPACK_IMPORTED_MODULE_1__.Paragraph({\n                    children: [\n                        new docx__WEBPACK_IMPORTED_MODULE_1__.TextRun({\n                            text: \"Practice Exercise:\",\n                            bold: true,\n                            size: WORD_FONT_SIZES.INSTRUCTIONS\n                        })\n                    ],\n                    spacing: {\n                        before: 200,\n                        after: 100\n                    }\n                }));\n                const grammarExercises = Array.isArray(lessonData.sections.grammar.exercise) ? lessonData.sections.grammar.exercise : [];\n                grammarExercises.forEach((exercise, index)=>{\n                    grammarContent.push(new docx__WEBPACK_IMPORTED_MODULE_1__.Paragraph({\n                        children: [\n                            new docx__WEBPACK_IMPORTED_MODULE_1__.TextRun({\n                                text: \"\".concat(index + 1, \". \").concat(exercise),\n                                size: WORD_FONT_SIZES.MAIN_CONTENT\n                            })\n                        ],\n                        spacing: {\n                            after: 100\n                        }\n                    }));\n                });\n                addSection(\"Grammar Focus\", grammarContent);\n            }\n            if (enabledSections.pronunciation && lessonData.sections.pronunciation) {\n                const pronunciationContent = [\n                    new docx__WEBPACK_IMPORTED_MODULE_1__.Paragraph({\n                        children: [\n                            new docx__WEBPACK_IMPORTED_MODULE_1__.TextRun({\n                                text: \"Word: \".concat(lessonData.sections.pronunciation.word),\n                                bold: true,\n                                size: WORD_FONT_SIZES.MAIN_CONTENT\n                            })\n                        ],\n                        spacing: {\n                            after: 150\n                        }\n                    }),\n                    new docx__WEBPACK_IMPORTED_MODULE_1__.Paragraph({\n                        children: [\n                            new docx__WEBPACK_IMPORTED_MODULE_1__.TextRun({\n                                text: \"IPA: \".concat(lessonData.sections.pronunciation.ipa),\n                                size: WORD_FONT_SIZES.SUPPLEMENTARY\n                            })\n                        ],\n                        spacing: {\n                            after: 150\n                        }\n                    }),\n                    new docx__WEBPACK_IMPORTED_MODULE_1__.Paragraph({\n                        children: [\n                            new docx__WEBPACK_IMPORTED_MODULE_1__.TextRun({\n                                text: 'Practice: \"'.concat(lessonData.sections.pronunciation.practice, '\"'),\n                                size: WORD_FONT_SIZES.MAIN_CONTENT,\n                                italics: true\n                            })\n                        ],\n                        spacing: {\n                            after: 200\n                        }\n                    })\n                ];\n                addSection(\"Pronunciation Practice\", pronunciationContent);\n            }\n            if (enabledSections.wrapup && lessonData.sections.wrapup) {\n                const wrapupQuestions = Array.isArray(lessonData.sections.wrapup) ? lessonData.sections.wrapup : [];\n                const wrapupContent = wrapupQuestions.map((question, index)=>new docx__WEBPACK_IMPORTED_MODULE_1__.Paragraph({\n                        children: [\n                            new docx__WEBPACK_IMPORTED_MODULE_1__.TextRun({\n                                text: \"\".concat(index + 1, \". \").concat(question),\n                                size: WORD_FONT_SIZES.MAIN_CONTENT\n                            })\n                        ],\n                        spacing: {\n                            after: 150\n                        }\n                    }));\n                addSection(\"Lesson Wrap-up\", wrapupContent);\n            }\n            // Footer\n            children.push(new docx__WEBPACK_IMPORTED_MODULE_1__.Paragraph({\n                children: [\n                    new docx__WEBPACK_IMPORTED_MODULE_1__.TextRun({\n                        text: \"Generated by LinguaSpark\",\n                        size: WORD_FONT_SIZES.SUPPLEMENTARY,\n                        italics: true\n                    })\n                ],\n                alignment: docx__WEBPACK_IMPORTED_MODULE_1__.AlignmentType.CENTER,\n                spacing: {\n                    before: 600\n                }\n            }));\n            // Create document\n            const doc = new docx__WEBPACK_IMPORTED_MODULE_1__.Document({\n                sections: [\n                    {\n                        properties: {},\n                        children: children\n                    }\n                ]\n            });\n            // Generate and download\n            console.log(\"Creating Word document...\");\n            const buffer = await docx__WEBPACK_IMPORTED_MODULE_1__.Packer.toBuffer(doc);\n            console.log(\"Document buffer created, size:\", buffer.byteLength);\n            const blob = new Blob([\n                buffer\n            ], {\n                type: \"application/vnd.openxmlformats-officedocument.wordprocessingml.document\"\n            });\n            const url = URL.createObjectURL(blob);\n            const fileName = \"\".concat(lessonData.lessonType, \"-lesson-\").concat(lessonData.studentLevel, \"-\").concat(Date.now(), \".docx\");\n            console.log(\"Downloading Word document with filename:\", fileName);\n            const link = document.createElement(\"a\");\n            link.href = url;\n            link.download = fileName;\n            document.body.appendChild(link);\n            link.click();\n            document.body.removeChild(link);\n            URL.revokeObjectURL(url);\n            console.log(\"Word export completed successfully\");\n        } catch (error) {\n            console.error(\"Word export error:\", error);\n            throw new Error(\"Word export failed: \".concat(error instanceof Error ? error.message : \"Unknown error\"));\n        }\n    }\n}\nconst lessonExporter = new LessonExporter();\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL2xpYi9leHBvcnQtdXRpbHMudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUF5QjtBQUM4RTtBQXFDaEcsTUFBTVE7SUFDSEMsYUFBcUI7UUFDM0IsT0FBTyxJQUFJQyxPQUFPQyxrQkFBa0IsQ0FBQyxTQUFTO1lBQzVDQyxNQUFNO1lBQ05DLE9BQU87WUFDUEMsS0FBSztRQUNQO0lBQ0Y7SUFJUUMsbUJBQW1CQyxVQUFzQixFQUFRO1lBMEJnREMsc0JBQ25EQSxtQkFDNERBLHlCQUNUQSxzQkFDL0NBLG1CQUNXQSx5QkFDd0JBO1FBL0IzRkMsUUFBUUMsR0FBRyxDQUFDLDJCQUEyQkg7UUFFdkMsSUFBSSxDQUFDQSxZQUFZO1lBQ2YsTUFBTSxJQUFJSSxNQUFNO1FBQ2xCO1FBQ0EsSUFBSSxDQUFDSixXQUFXSyxXQUFXLEVBQUU7WUFDM0IsTUFBTSxJQUFJRCxNQUFNO1FBQ2xCO1FBQ0EsSUFBSSxDQUFDSixXQUFXTSxVQUFVLEVBQUU7WUFDMUIsTUFBTSxJQUFJRixNQUFNO1FBQ2xCO1FBQ0EsSUFBSSxDQUFDSixXQUFXTyxZQUFZLEVBQUU7WUFDNUIsTUFBTSxJQUFJSCxNQUFNO1FBQ2xCO1FBQ0EsSUFBSSxDQUFDSixXQUFXUSxjQUFjLEVBQUU7WUFDOUIsTUFBTSxJQUFJSixNQUFNO1FBQ2xCO1FBQ0EsSUFBSSxDQUFDSixXQUFXQyxRQUFRLEVBQUU7WUFDeEIsTUFBTSxJQUFJRyxNQUFNO1FBQ2xCO1FBRUEsb0RBQW9EO1FBQ3BELE1BQU1ILFdBQVdELFdBQVdDLFFBQVE7UUFDcENDLFFBQVFDLEdBQUcsQ0FBQyw2QkFBNkI7WUFDdkNNLFFBQVE7Z0JBQUVDLE1BQU0sT0FBT1QsU0FBU1EsTUFBTTtnQkFBRUUsU0FBU0MsTUFBTUQsT0FBTyxDQUFDVixTQUFTUSxNQUFNO2dCQUFHSSxPQUFPWixTQUFTUSxNQUFNO1lBQUM7WUFDeEdLLFlBQVk7Z0JBQUVKLE1BQU0sT0FBT1QsU0FBU2EsVUFBVTtnQkFBRUgsU0FBU0MsTUFBTUQsT0FBTyxDQUFDVixTQUFTYSxVQUFVO2dCQUFHQyxNQUFNLEdBQUVkLHVCQUFBQSxTQUFTYSxVQUFVLGNBQW5CYiwyQ0FBQUEscUJBQXFCYyxNQUFNO1lBQUM7WUFDaklDLFNBQVM7Z0JBQUVOLE1BQU0sT0FBT1QsU0FBU2UsT0FBTztnQkFBRUQsTUFBTSxHQUFFZCxvQkFBQUEsU0FBU2UsT0FBTyxjQUFoQmYsd0NBQUFBLGtCQUFrQmMsTUFBTTtZQUFDO1lBQzNFRSxlQUFlO2dCQUFFUCxNQUFNLE9BQU9ULFNBQVNnQixhQUFhO2dCQUFFTixTQUFTQyxNQUFNRCxPQUFPLENBQUNWLFNBQVNnQixhQUFhO2dCQUFHRixNQUFNLEdBQUVkLDBCQUFBQSxTQUFTZ0IsYUFBYSxjQUF0QmhCLDhDQUFBQSx3QkFBd0JjLE1BQU07WUFBQztZQUM3SUcsWUFBWTtnQkFBRVIsTUFBTSxPQUFPVCxTQUFTaUIsVUFBVTtnQkFBRVAsU0FBU0MsTUFBTUQsT0FBTyxDQUFDVixTQUFTaUIsVUFBVTtnQkFBR0gsTUFBTSxHQUFFZCx1QkFBQUEsU0FBU2lCLFVBQVUsY0FBbkJqQiwyQ0FBQUEscUJBQXFCYyxNQUFNO1lBQUM7WUFDaklJLFNBQVM7Z0JBQUVULE1BQU0sT0FBT1QsU0FBU2tCLE9BQU87Z0JBQUVDLFVBQVUsQ0FBQyxHQUFDbkIsb0JBQUFBLFNBQVNrQixPQUFPLGNBQWhCbEIsd0NBQUFBLGtCQUFrQm9CLEtBQUs7WUFBQztZQUM5RUMsZUFBZTtnQkFBRVosTUFBTSxPQUFPVCxTQUFTcUIsYUFBYTtnQkFBRUMsU0FBUyxDQUFDLEdBQUN0QiwwQkFBQUEsU0FBU3FCLGFBQWEsY0FBdEJyQiw4Q0FBQUEsd0JBQXdCdUIsSUFBSTtZQUFDO1lBQzlGQyxRQUFRO2dCQUFFZixNQUFNLE9BQU9ULFNBQVN3QixNQUFNO2dCQUFFZCxTQUFTQyxNQUFNRCxPQUFPLENBQUNWLFNBQVN3QixNQUFNO2dCQUFHVixNQUFNLEdBQUVkLG1CQUFBQSxTQUFTd0IsTUFBTSxjQUFmeEIsdUNBQUFBLGlCQUFpQmMsTUFBTTtZQUFDO1FBQ25IO1FBRUEsSUFBSSxDQUFDSCxNQUFNRCxPQUFPLENBQUNWLFNBQVNRLE1BQU0sR0FBRztZQUNuQ1AsUUFBUXdCLElBQUksQ0FBQyxtQ0FBbUN6QixTQUFTUSxNQUFNO1FBQ2pFO1FBQ0EsSUFBSSxDQUFDRyxNQUFNRCxPQUFPLENBQUNWLFNBQVNhLFVBQVUsR0FBRztZQUN2Q1osUUFBUXdCLElBQUksQ0FBQyx1Q0FBdUN6QixTQUFTYSxVQUFVO1FBQ3pFO1FBQ0EsSUFBSSxPQUFPYixTQUFTZSxPQUFPLEtBQUssVUFBVTtZQUN4Q2QsUUFBUXdCLElBQUksQ0FBQyxvQ0FBb0N6QixTQUFTZSxPQUFPO1FBQ25FO1FBQ0EsSUFBSSxDQUFDSixNQUFNRCxPQUFPLENBQUNWLFNBQVNnQixhQUFhLEdBQUc7WUFDMUNmLFFBQVF3QixJQUFJLENBQUMsMENBQTBDekIsU0FBU2dCLGFBQWE7UUFDL0U7UUFDQSxJQUFJLENBQUNMLE1BQU1ELE9BQU8sQ0FBQ1YsU0FBU2lCLFVBQVUsR0FBRztZQUN2Q2hCLFFBQVF3QixJQUFJLENBQUMsdUNBQXVDekIsU0FBU2lCLFVBQVU7UUFDekU7UUFDQSxJQUFJLENBQUNqQixTQUFTa0IsT0FBTyxJQUFJLENBQUNsQixTQUFTa0IsT0FBTyxDQUFDRSxLQUFLLEVBQUU7WUFDaERuQixRQUFRd0IsSUFBSSxDQUFDLGlDQUFpQ3pCLFNBQVNrQixPQUFPO1FBQ2hFO1FBQ0EsSUFBSSxDQUFDbEIsU0FBU3FCLGFBQWEsSUFBSSxDQUFDckIsU0FBU3FCLGFBQWEsQ0FBQ0UsSUFBSSxFQUFFO1lBQzNEdEIsUUFBUXdCLElBQUksQ0FBQyx1Q0FBdUN6QixTQUFTcUIsYUFBYTtRQUM1RTtRQUNBLElBQUksQ0FBQ1YsTUFBTUQsT0FBTyxDQUFDVixTQUFTd0IsTUFBTSxHQUFHO1lBQ25DdkIsUUFBUXdCLElBQUksQ0FBQyxtQ0FBbUN6QixTQUFTd0IsTUFBTTtRQUNqRTtRQUVBdkIsUUFBUUMsR0FBRyxDQUFDO0lBQ2Q7SUFFQSxNQUFNd0IsWUFBWTNCLFVBQXNCLEVBQUU0QixlQUF3QyxFQUFpQjtRQUNqRyxJQUFJO1lBQ0YxQixRQUFRQyxHQUFHLENBQUMsa0NBQWtDO2dCQUFFSDtnQkFBWTRCO1lBQWdCO1lBRTVFLDBDQUEwQztZQUMxQyxJQUFJLEtBQWtCLEVBQWEsRUFFbEM7WUFFRCw4QkFBOEI7WUFDOUIsSUFBSSxPQUFPNUMsNkNBQUtBLEtBQUssYUFBYTtnQkFDaEMsTUFBTSxJQUFJb0IsTUFBTTtZQUNsQjtZQUVBRixRQUFRQyxHQUFHLENBQUM7WUFDWixJQUFJLENBQUNKLGtCQUFrQixDQUFDQztZQUV4Qiw2Q0FBNkM7WUFDN0MsSUFBSSxDQUFDNEIsbUJBQW1CQyxPQUFPQyxJQUFJLENBQUNGLGlCQUFpQmIsTUFBTSxLQUFLLEdBQUc7Z0JBQ2pFLE1BQU0sSUFBSVgsTUFBTTtZQUNsQjtZQUVBRixRQUFRQyxHQUFHLENBQUM7WUFDWixNQUFNNEIsTUFBTSxJQUFJL0MsNkNBQUtBO1lBQ3JCa0IsUUFBUUMsR0FBRyxDQUFDO1lBRVosSUFBSTZCLFlBQVk7WUFDaEIsTUFBTUMsYUFBYUYsSUFBSUcsUUFBUSxDQUFDQyxRQUFRLENBQUNDLE1BQU07WUFDL0MsTUFBTUMsU0FBUztZQUNmLE1BQU1DLGFBQWE7WUFFbkJwQyxRQUFRQyxHQUFHLENBQUMsbUJBQW1CO2dCQUFFOEI7Z0JBQVlJO2dCQUFRQztZQUFXO1lBRWhFLDBEQUEwRDtZQUMxRCxNQUFNQyxhQUFhO2dCQUNqQkMsY0FBYztnQkFDZEMsZ0JBQWdCO2dCQUNoQkMsY0FBYztnQkFDZEMsY0FBYztnQkFDZEMsZUFBZSxHQUFRLDRCQUE0QjtZQUNyRDtZQUVBLGlEQUFpRDtZQUNqRCxNQUFNQyxVQUFVLFNBQUNDO29CQUFjQyw0RUFBV1IsV0FBV0csWUFBWSxFQUFFTSwwRUFBUyxPQUFPQywwRUFBUztnQkFDMUYsSUFBSTtvQkFDRixzQ0FBc0M7b0JBQ3RDLE1BQU1DLGdCQUFnQkosS0FDbkJLLE9BQU8sQ0FBQyxpQ0FBaUMsSUFBSSw0QkFBNEI7cUJBQ3pFQSxPQUFPLENBQUMsOENBQThDLEtBQUsseUJBQXlCO3FCQUNwRkMsSUFBSTtvQkFFUCxJQUFJLENBQUNGLGVBQWU7d0JBQ2xCaEQsUUFBUXdCLElBQUksQ0FBQzt3QkFDYjtvQkFDRjtvQkFFQXhCLFFBQVFDLEdBQUcsQ0FBQyxpQkFBa0QrQyxPQUFqQ0EsY0FBY0csU0FBUyxDQUFDLEdBQUcsS0FBNkMsT0FBdkNILGNBQWNuQyxNQUFNLEdBQUcsS0FBSyxRQUFRLElBQUc7b0JBRXJHZ0IsSUFBSXVCLFdBQVcsQ0FBQ1A7b0JBQ2hCaEIsSUFBSXdCLE9BQU8sQ0FBQyxhQUFhUCxTQUFTLFNBQVM7b0JBRTNDLE1BQU1RLFdBQVd6QixJQUFJRyxRQUFRLENBQUNDLFFBQVEsQ0FBQ3NCLEtBQUssR0FBR3BCLFNBQVMsSUFBSVk7b0JBQzVELE1BQU1TLFFBQVEzQixJQUFJNEIsZUFBZSxDQUFDVCxlQUFlTTtvQkFFakQsS0FBSyxNQUFNSSxRQUFRRixNQUFPO3dCQUN4QixJQUFJMUIsWUFBWUMsYUFBYSxJQUFJOzRCQUMvQkYsSUFBSThCLE9BQU87NEJBQ1g3QixZQUFZO3dCQUNkO3dCQUNBRCxJQUFJZSxJQUFJLENBQUNjLE1BQU12QixTQUFTWSxRQUFRakI7d0JBQ2hDQSxhQUFhTTtvQkFDZjtvQkFDQU4sYUFBYSxFQUFFLGlDQUFpQzs7Z0JBQ2xELEVBQUUsT0FBTzhCLE9BQU87b0JBQ2Q1RCxRQUFRNEQsS0FBSyxDQUFDLDZCQUE2QkEsT0FBTyxTQUFTaEI7b0JBQzNELE1BQU1nQjtnQkFDUjtZQUNGO1lBRUEsTUFBTUMsYUFBYSxDQUFDQyxPQUFlQztnQkFDakMsSUFBSWpDLFlBQVlDLGFBQWEsSUFBSTtvQkFDL0JGLElBQUk4QixPQUFPO29CQUNYN0IsWUFBWTtnQkFDZDtnQkFDQWEsUUFBUW1CLE9BQU96QixXQUFXRSxjQUFjLEVBQUU7Z0JBQzFDVCxhQUFhO2dCQUNiaUM7Z0JBQ0FqQyxhQUFhO1lBQ2Y7WUFFQSxxQkFBcUI7WUFDckJhLFFBQVE3QyxXQUFXSyxXQUFXLEVBQUVrQyxXQUFXQyxZQUFZLEVBQUU7WUFDekRLLFFBQ0Usb0JBQTJHLE9BQXZGN0MsV0FBV1EsY0FBYyxDQUFDMEQsTUFBTSxDQUFDLEdBQUdDLFdBQVcsS0FBS25FLFdBQVdRLGNBQWMsQ0FBQzRELEtBQUssQ0FBQyxLQUN4RzdCLFdBQVdLLGFBQWE7WUFFMUJDLFFBQVEsaUJBQW1DLE9BQWxCLElBQUksQ0FBQ3BELFVBQVUsS0FBTThDLFdBQVdLLGFBQWE7WUFDdEVaLGFBQWE7WUFFYixzQ0FBc0M7WUFDdEMsSUFBSUosZ0JBQWdCbkIsTUFBTSxJQUFJVCxXQUFXQyxRQUFRLENBQUNRLE1BQU0sRUFBRTtnQkFDeERzRCxXQUFXLHFCQUFxQjtvQkFDOUIsTUFBTU0sa0JBQWtCekQsTUFBTUQsT0FBTyxDQUFDWCxXQUFXQyxRQUFRLENBQUNRLE1BQU0sSUFBSVQsV0FBV0MsUUFBUSxDQUFDUSxNQUFNLEdBQUcsRUFBRTtvQkFDbkc0RCxnQkFBZ0JDLE9BQU8sQ0FBQyxDQUFDQyxVQUFVQzt3QkFDakMzQixRQUFRLEdBQWlCMEIsT0FBZEMsUUFBUSxHQUFFLE1BQWEsT0FBVEQsV0FBWWhDLFdBQVdHLFlBQVksRUFBRSxPQUFPO29CQUN2RTtnQkFDRjtZQUNGO1lBRUEsSUFBSWQsZ0JBQWdCZCxVQUFVLElBQUlkLFdBQVdDLFFBQVEsQ0FBQ2EsVUFBVSxFQUFFO2dCQUNoRWlELFdBQVcsa0JBQWtCO29CQUMzQixNQUFNVSxrQkFBa0I3RCxNQUFNRCxPQUFPLENBQUNYLFdBQVdDLFFBQVEsQ0FBQ2EsVUFBVSxJQUFJZCxXQUFXQyxRQUFRLENBQUNhLFVBQVUsR0FBRyxFQUFFO29CQUMzRzJELGdCQUFnQkgsT0FBTyxDQUFDLENBQUNJLE1BQU1GO3dCQUM3QjNCLFFBQVEsR0FBaUI2QixPQUFkRixRQUFRLEdBQUUsTUFBYyxPQUFWRSxLQUFLbEQsSUFBSSxHQUFJZSxXQUFXRyxZQUFZLEVBQUUsTUFBTTt3QkFDckVHLFFBQVEsZUFBNEIsT0FBYjZCLEtBQUtDLE9BQU8sR0FBSXBDLFdBQVdHLFlBQVksRUFBRSxPQUFPO3dCQUV2RSxtRUFBbUU7d0JBQ25FLElBQUlnQyxLQUFLRSxRQUFRLElBQUloRSxNQUFNRCxPQUFPLENBQUMrRCxLQUFLRSxRQUFRLEtBQUtGLEtBQUtFLFFBQVEsQ0FBQzdELE1BQU0sR0FBRyxHQUFHOzRCQUM3RThCLFFBQVMsZ0JBQWVOLFdBQVdJLFlBQVksRUFBRSxNQUFNOzRCQUN2RCxNQUFNaUMsV0FBV2hFLE1BQU1ELE9BQU8sQ0FBQytELEtBQUtFLFFBQVEsSUFBSUYsS0FBS0UsUUFBUSxHQUFHLEVBQUU7NEJBQ2xFQSxTQUFTTixPQUFPLENBQUMsQ0FBQ08sU0FBU0M7Z0NBQ3pCakMsUUFBUSxNQUF1QmdDLE9BQWpCQyxVQUFVLEdBQUUsT0FBYSxPQUFSRCxTQUFRLE1BQUl0QyxXQUFXSyxhQUFhLEVBQUUsT0FBTzs0QkFDOUU7d0JBQ0YsT0FBTyxJQUFJOEIsS0FBS0csT0FBTyxFQUFFOzRCQUN2QmhDLFFBQVEsZ0JBQTZCLE9BQWI2QixLQUFLRyxPQUFPLEVBQUMsTUFBSXRDLFdBQVdLLGFBQWEsRUFBRSxPQUFPO3dCQUM1RTt3QkFDQVosYUFBYTtvQkFDZjtnQkFDRjtZQUNGO1lBRUEsSUFBSUosZ0JBQWdCWixPQUFPLElBQUloQixXQUFXQyxRQUFRLENBQUNlLE9BQU8sRUFBRTtnQkFDMUQrQyxXQUFXLG1CQUFtQjtvQkFDNUJsQixRQUFRN0MsV0FBV0MsUUFBUSxDQUFDZSxPQUFPLEVBQUV1QixXQUFXRyxZQUFZLEVBQUUsT0FBTztnQkFDdkU7WUFDRjtZQUVBLElBQUlkLGdCQUFnQlgsYUFBYSxJQUFJakIsV0FBV0MsUUFBUSxDQUFDZ0IsYUFBYSxFQUFFO2dCQUN0RThDLFdBQVcseUJBQXlCO29CQUNsQyxNQUFNZ0IseUJBQXlCbkUsTUFBTUQsT0FBTyxDQUFDWCxXQUFXQyxRQUFRLENBQUNnQixhQUFhLElBQUlqQixXQUFXQyxRQUFRLENBQUNnQixhQUFhLEdBQUcsRUFBRTtvQkFDeEg4RCx1QkFBdUJULE9BQU8sQ0FBQyxDQUFDQyxVQUFVQzt3QkFDeEMzQixRQUFRLEdBQWlCMEIsT0FBZEMsUUFBUSxHQUFFLE1BQWEsT0FBVEQsV0FBWWhDLFdBQVdHLFlBQVksRUFBRSxPQUFPO29CQUN2RTtnQkFDRjtZQUNGO1lBRUEsSUFBSWQsZ0JBQWdCVixVQUFVLElBQUlsQixXQUFXQyxRQUFRLENBQUNpQixVQUFVLEVBQUU7Z0JBQ2hFNkMsV0FBVyx3QkFBd0I7b0JBQ2pDLE1BQU1pQixzQkFBc0JwRSxNQUFNRCxPQUFPLENBQUNYLFdBQVdDLFFBQVEsQ0FBQ2lCLFVBQVUsSUFBSWxCLFdBQVdDLFFBQVEsQ0FBQ2lCLFVBQVUsR0FBRyxFQUFFO29CQUMvRzhELG9CQUFvQlYsT0FBTyxDQUFDLENBQUNDLFVBQVVDO3dCQUNyQzNCLFFBQVEsR0FBaUIwQixPQUFkQyxRQUFRLEdBQUUsTUFBYSxPQUFURCxXQUFZaEMsV0FBV0csWUFBWSxFQUFFLE9BQU87b0JBQ3ZFO2dCQUNGO1lBQ0Y7WUFFQSxJQUFJZCxnQkFBZ0JxRCxnQkFBZ0IsSUFBSWpGLFdBQVdDLFFBQVEsQ0FBQ2dGLGdCQUFnQixFQUFFO2dCQUM1RWxCLFdBQVcscUJBQXFCO29CQUM5QixNQUFNbUIsa0JBQWtCbEYsV0FBV0MsUUFBUSxDQUFDZ0YsZ0JBQWdCO29CQUU1RCxvREFBb0Q7b0JBQ3BEbEQsSUFBSW9ELFlBQVksQ0FBQyxLQUFLLEtBQUssS0FBSyxVQUFVOztvQkFDMUMsTUFBTUMsbUJBQW1CckQsSUFBSUcsUUFBUSxDQUFDQyxRQUFRLENBQUNzQixLQUFLLEdBQUdwQixTQUFTLElBQUk7b0JBQ3BFLE1BQU1nRCxtQkFBbUJ0RCxJQUFJNEIsZUFBZSxDQUFDdUIsZ0JBQWdCSSxXQUFXLEVBQUVGO29CQUMxRSxNQUFNRyxvQkFBb0JGLGlCQUFpQnRFLE1BQU0sR0FBR3VCLGFBQWE7b0JBQ2pFUCxJQUFJeUQsSUFBSSxDQUFDbkQsU0FBUyxJQUFJTCxZQUFZLEdBQUdvRCxrQkFBa0JHLG1CQUFtQjtvQkFDMUUxQyxRQUFRcUMsZ0JBQWdCSSxXQUFXLEVBQUUvQyxXQUFXSSxZQUFZLEVBQUUsT0FBTztvQkFDckVYLGFBQWE7b0JBRWIsMENBQTBDO29CQUMxQyxNQUFNeUQsd0JBQXdCN0UsTUFBTUQsT0FBTyxDQUFDdUUsZ0JBQWdCUSxRQUFRLElBQUlSLGdCQUFnQlEsUUFBUSxHQUFHLEVBQUU7b0JBQ3JHRCxzQkFBc0JuQixPQUFPLENBQUMsQ0FBQ1Y7d0JBQzdCLG9DQUFvQzt3QkFDcEM3QixJQUFJdUIsV0FBVyxDQUFDZixXQUFXRyxZQUFZO3dCQUN2Q1gsSUFBSXdCLE9BQU8sQ0FBQyxhQUFhO3dCQUN6QixNQUFNb0MsWUFBWTVELElBQUk2RCxZQUFZLENBQUMsR0FBa0IsT0FBZmhDLEtBQUtpQyxTQUFTLEVBQUM7d0JBQ3JEOUQsSUFBSWUsSUFBSSxDQUFDLEdBQWtCLE9BQWZjLEtBQUtpQyxTQUFTLEVBQUMsT0FBS3hELFNBQVMsSUFBSUw7d0JBRTdDRCxJQUFJd0IsT0FBTyxDQUFDLGFBQWE7d0JBQ3pCLE1BQU1DLFdBQVd6QixJQUFJRyxRQUFRLENBQUNDLFFBQVEsQ0FBQ3NCLEtBQUssR0FBR3BCLFNBQVMsSUFBSSxLQUFLc0Q7d0JBQ2pFLE1BQU1HLFdBQVcvRCxJQUFJNEIsZUFBZSxDQUFDQyxLQUFLQSxJQUFJLEVBQUVKO3dCQUNoRHpCLElBQUllLElBQUksQ0FBQ2dELFFBQVEsQ0FBQyxFQUFFLEVBQUV6RCxTQUFTLEtBQUtzRCxXQUFXM0Q7d0JBQy9DQSxhQUFhTTt3QkFFYix1QkFBdUI7d0JBQ3ZCLElBQUssSUFBSXlELElBQUksR0FBR0EsSUFBSUQsU0FBUy9FLE1BQU0sRUFBRWdGLElBQUs7NEJBQ3hDLElBQUkvRCxZQUFZQyxhQUFhLElBQUk7Z0NBQy9CRixJQUFJOEIsT0FBTztnQ0FDWDdCLFlBQVk7NEJBQ2Q7NEJBQ0FELElBQUllLElBQUksQ0FBQ2dELFFBQVEsQ0FBQ0MsRUFBRSxFQUFFMUQsU0FBUyxLQUFLc0QsV0FBVzNEOzRCQUMvQ0EsYUFBYU07d0JBQ2Y7b0JBQ0Y7b0JBRUEsSUFBSTRDLGdCQUFnQmMsaUJBQWlCLElBQUlkLGdCQUFnQmMsaUJBQWlCLENBQUNqRixNQUFNLEdBQUcsR0FBRzt3QkFDckZpQixhQUFhO3dCQUNiYSxRQUFRLHdCQUF3Qk4sV0FBV0ksWUFBWSxFQUFFLE1BQU07d0JBQy9ELE1BQU1xRCxvQkFBb0JwRixNQUFNRCxPQUFPLENBQUN1RSxnQkFBZ0JjLGlCQUFpQixJQUFJZCxnQkFBZ0JjLGlCQUFpQixHQUFHLEVBQUU7d0JBQ25IQSxrQkFBa0IxQixPQUFPLENBQUMsQ0FBQ0MsVUFBVUM7NEJBQ25DM0IsUUFBUSxHQUFpQjBCLE9BQWRDLFFBQVEsR0FBRSxNQUFhLE9BQVRELFdBQVloQyxXQUFXRyxZQUFZLEVBQUUsT0FBTzt3QkFDdkU7b0JBQ0Y7Z0JBQ0Y7WUFDRjtZQUVBLElBQUlkLGdCQUFnQnFFLGVBQWUsSUFBSWpHLFdBQVdDLFFBQVEsQ0FBQ2dHLGVBQWUsRUFBRTtnQkFDMUVsQyxXQUFXLDRCQUE0QjtvQkFDckMsTUFBTW1CLGtCQUFrQmxGLFdBQVdDLFFBQVEsQ0FBQ2dHLGVBQWU7b0JBRTNELG1EQUFtRDtvQkFDbkRsRSxJQUFJb0QsWUFBWSxDQUFDLEtBQUssS0FBSyxLQUFLLFVBQVU7O29CQUMxQyxNQUFNQyxtQkFBbUJyRCxJQUFJRyxRQUFRLENBQUNDLFFBQVEsQ0FBQ3NCLEtBQUssR0FBR3BCLFNBQVMsSUFBSTtvQkFDcEUsTUFBTWdELG1CQUFtQnRELElBQUk0QixlQUFlLENBQUN1QixnQkFBZ0JJLFdBQVcsRUFBRUY7b0JBQzFFLE1BQU1HLG9CQUFvQkYsaUJBQWlCdEUsTUFBTSxHQUFHdUIsYUFBYTtvQkFDakVQLElBQUl5RCxJQUFJLENBQUNuRCxTQUFTLElBQUlMLFlBQVksR0FBR29ELGtCQUFrQkcsbUJBQW1CO29CQUMxRTFDLFFBQVFxQyxnQkFBZ0JJLFdBQVcsRUFBRS9DLFdBQVdJLFlBQVksRUFBRSxPQUFPO29CQUNyRVgsYUFBYTtvQkFFYiwwQ0FBMEM7b0JBQzFDLE1BQU1rRSx1QkFBdUJ0RixNQUFNRCxPQUFPLENBQUN1RSxnQkFBZ0JRLFFBQVEsSUFBSVIsZ0JBQWdCUSxRQUFRLEdBQUcsRUFBRTtvQkFDcEdRLHFCQUFxQjVCLE9BQU8sQ0FBQyxDQUFDVjt3QkFDNUIsb0NBQW9DO3dCQUNwQzdCLElBQUl1QixXQUFXLENBQUNmLFdBQVdHLFlBQVk7d0JBQ3ZDWCxJQUFJd0IsT0FBTyxDQUFDLGFBQWE7d0JBQ3pCLE1BQU1vQyxZQUFZNUQsSUFBSTZELFlBQVksQ0FBQyxHQUFrQixPQUFmaEMsS0FBS2lDLFNBQVMsRUFBQzt3QkFDckQ5RCxJQUFJZSxJQUFJLENBQUMsR0FBa0IsT0FBZmMsS0FBS2lDLFNBQVMsRUFBQyxPQUFLeEQsU0FBUyxJQUFJTDt3QkFFN0NELElBQUl3QixPQUFPLENBQUMsYUFBYTt3QkFDekIsTUFBTUMsV0FBV3pCLElBQUlHLFFBQVEsQ0FBQ0MsUUFBUSxDQUFDc0IsS0FBSyxHQUFHcEIsU0FBUyxJQUFJLEtBQUtzRDt3QkFDakUsTUFBTUcsV0FBVy9ELElBQUk0QixlQUFlLENBQUNDLEtBQUtBLElBQUksRUFBRUo7d0JBQ2hEekIsSUFBSWUsSUFBSSxDQUFDZ0QsUUFBUSxDQUFDLEVBQUUsRUFBRXpELFNBQVMsS0FBS3NELFdBQVczRDt3QkFDL0NBLGFBQWFNO3dCQUViLHVCQUF1Qjt3QkFDdkIsSUFBSyxJQUFJeUQsSUFBSSxHQUFHQSxJQUFJRCxTQUFTL0UsTUFBTSxFQUFFZ0YsSUFBSzs0QkFDeEMsSUFBSS9ELFlBQVlDLGFBQWEsSUFBSTtnQ0FDL0JGLElBQUk4QixPQUFPO2dDQUNYN0IsWUFBWTs0QkFDZDs0QkFDQUQsSUFBSWUsSUFBSSxDQUFDZ0QsUUFBUSxDQUFDQyxFQUFFLEVBQUUxRCxTQUFTLEtBQUtzRCxXQUFXM0Q7NEJBQy9DQSxhQUFhTTt3QkFDZjtvQkFDRjtvQkFFQSxJQUFJNEMsZ0JBQWdCaUIsT0FBTyxJQUFJakIsZ0JBQWdCaUIsT0FBTyxDQUFDcEYsTUFBTSxHQUFHLEdBQUc7d0JBQ2pFaUIsYUFBYTt3QkFDYmEsUUFBUSxlQUFlTixXQUFXSSxZQUFZLEVBQUUsTUFBTTt3QkFDdERFLFFBQVFxQyxnQkFBZ0JpQixPQUFPLENBQUNDLElBQUksQ0FBQyxPQUFPN0QsV0FBV0ssYUFBYSxFQUFFLE9BQU87b0JBQy9FO2dCQUNGO1lBQ0Y7WUFFQSxJQUFJaEIsZ0JBQWdCVCxPQUFPLElBQUluQixXQUFXQyxRQUFRLENBQUNrQixPQUFPLEVBQUU7Z0JBQzFENEMsV0FBVyxpQkFBaUI7b0JBQzFCbEIsUUFBUSxVQUE0QyxPQUFsQzdDLFdBQVdDLFFBQVEsQ0FBQ2tCLE9BQU8sQ0FBQ0UsS0FBSyxHQUFJa0IsV0FBV0csWUFBWSxFQUFFLE1BQU07b0JBQ3RGVixhQUFhO29CQUNiYSxRQUFRLGFBQWFOLFdBQVdJLFlBQVksRUFBRSxNQUFNO29CQUNwRCxNQUFNMEQsa0JBQWtCekYsTUFBTUQsT0FBTyxDQUFDWCxXQUFXQyxRQUFRLENBQUNrQixPQUFPLENBQUN5RCxRQUFRLElBQUk1RSxXQUFXQyxRQUFRLENBQUNrQixPQUFPLENBQUN5RCxRQUFRLEdBQUcsRUFBRTtvQkFDdkh5QixnQkFBZ0IvQixPQUFPLENBQUMsQ0FBQ08sU0FBU0w7d0JBQ2hDM0IsUUFBUSxLQUFhLE9BQVJnQyxVQUFXdEMsV0FBV0ssYUFBYSxFQUFFLE9BQU87b0JBQzNEO29CQUNBWixhQUFhO29CQUNiYSxRQUFRLHNCQUFzQk4sV0FBV0ksWUFBWSxFQUFFLE1BQU07b0JBQzdELE1BQU0yRCxtQkFBbUIxRixNQUFNRCxPQUFPLENBQUNYLFdBQVdDLFFBQVEsQ0FBQ2tCLE9BQU8sQ0FBQ29GLFFBQVEsSUFBSXZHLFdBQVdDLFFBQVEsQ0FBQ2tCLE9BQU8sQ0FBQ29GLFFBQVEsR0FBRyxFQUFFO29CQUN4SEQsaUJBQWlCaEMsT0FBTyxDQUFDLENBQUNpQyxVQUFVL0I7d0JBQ2xDM0IsUUFBUSxHQUFpQjBELE9BQWQvQixRQUFRLEdBQUUsTUFBYSxPQUFUK0IsV0FBWWhFLFdBQVdHLFlBQVksRUFBRSxPQUFPO29CQUN2RTtnQkFDRjtZQUNGO1lBRUEsSUFBSWQsZ0JBQWdCTixhQUFhLElBQUl0QixXQUFXQyxRQUFRLENBQUNxQixhQUFhLEVBQUU7Z0JBQ3RFeUMsV0FBVywwQkFBMEI7b0JBQ25DbEIsUUFBUSxTQUFnRCxPQUF2QzdDLFdBQVdDLFFBQVEsQ0FBQ3FCLGFBQWEsQ0FBQ0UsSUFBSSxHQUFJZSxXQUFXRyxZQUFZLEVBQUUsTUFBTTtvQkFDMUZHLFFBQVEsUUFBOEMsT0FBdEM3QyxXQUFXQyxRQUFRLENBQUNxQixhQUFhLENBQUNrRixHQUFHLEdBQUlqRSxXQUFXSyxhQUFhLEVBQUUsT0FBTztvQkFDMUZDLFFBQVEsY0FBeUQsT0FBM0M3QyxXQUFXQyxRQUFRLENBQUNxQixhQUFhLENBQUNtRixRQUFRLEVBQUMsTUFBSWxFLFdBQVdHLFlBQVksRUFBRSxPQUFPO2dCQUN2RztZQUNGO1lBRUEsSUFBSWQsZ0JBQWdCSCxNQUFNLElBQUl6QixXQUFXQyxRQUFRLENBQUN3QixNQUFNLEVBQUU7Z0JBQ3hEc0MsV0FBVyxrQkFBa0I7b0JBQzNCLE1BQU0yQyxrQkFBa0I5RixNQUFNRCxPQUFPLENBQUNYLFdBQVdDLFFBQVEsQ0FBQ3dCLE1BQU0sSUFBSXpCLFdBQVdDLFFBQVEsQ0FBQ3dCLE1BQU0sR0FBRyxFQUFFO29CQUNuR2lGLGdCQUFnQnBDLE9BQU8sQ0FBQyxDQUFDQyxVQUFVQzt3QkFDakMzQixRQUFRLEdBQWlCMEIsT0FBZEMsUUFBUSxHQUFFLE1BQWEsT0FBVEQsV0FBWWhDLFdBQVdHLFlBQVksRUFBRSxPQUFPO29CQUN2RTtnQkFDRjtZQUNGO1lBRUEsU0FBUztZQUNULE1BQU1pRSxZQUFZLElBQWF6RSxRQUFRLENBQUMwRSxnQkFBZ0I7WUFDeEQsSUFBSyxJQUFJYixJQUFJLEdBQUdBLEtBQUtZLFdBQVdaLElBQUs7Z0JBQ25DaEUsSUFBSThFLE9BQU8sQ0FBQ2Q7Z0JBQ1poRSxJQUFJdUIsV0FBVyxDQUFDO2dCQUNoQnZCLElBQUl3QixPQUFPLENBQUMsYUFBYTtnQkFDekJ4QixJQUFJZSxJQUFJLENBQUMsbUNBQTJDNkQsT0FBUlosR0FBRSxRQUFnQixPQUFWWSxZQUFhdEUsUUFBUUosYUFBYTtZQUN4RjtZQUVBLG1CQUFtQjtZQUNuQixJQUFJO2dCQUNGLE1BQU02RSxXQUFXLEdBQW1DOUcsT0FBaENBLFdBQVdNLFVBQVUsRUFBQyxZQUFxQ1osT0FBM0JNLFdBQVdPLFlBQVksRUFBQyxLQUFjLE9BQVhiLEtBQUtxSCxHQUFHLElBQUc7Z0JBQzFGN0csUUFBUUMsR0FBRyxDQUFDLDZCQUE2QjJHO2dCQUN6Qy9FLElBQUlpRixJQUFJLENBQUNGO2dCQUNUNUcsUUFBUUMsR0FBRyxDQUFDO1lBQ2QsRUFBRSxPQUFPOEcsV0FBVztnQkFDbEIvRyxRQUFRNEQsS0FBSyxDQUFDLHFCQUFxQm1EO2dCQUNuQyxNQUFNLElBQUk3RyxNQUFNLHVCQUE2RixPQUF0RTZHLHFCQUFxQjdHLFFBQVE2RyxVQUFVQyxPQUFPLEdBQUc7WUFDMUY7UUFDRixFQUFFLE9BQU9wRCxPQUFPO1lBQ2Q1RCxRQUFRNEQsS0FBSyxDQUFDLHFCQUFxQkE7WUFDbkM1RCxRQUFRNEQsS0FBSyxDQUFDLGdCQUFnQkEsaUJBQWlCMUQsUUFBUTBELE1BQU1xRCxLQUFLLEdBQUc7WUFDckVqSCxRQUFRNEQsS0FBSyxDQUFDLGtCQUFrQjtnQkFDOUJzRCxNQUFNdEQsaUJBQWlCMUQsUUFBUTBELE1BQU1zRCxJQUFJLEdBQUc7Z0JBQzVDRixTQUFTcEQsaUJBQWlCMUQsUUFBUTBELE1BQU1vRCxPQUFPLEdBQUc7Z0JBQ2xERyxnQkFBZ0JySCxhQUFhNkIsT0FBT0MsSUFBSSxDQUFDOUIsY0FBYztnQkFDdkRzSCxjQUFjdEgsQ0FBQUEsdUJBQUFBLGlDQUFBQSxXQUFZQyxRQUFRLElBQUc0QixPQUFPQyxJQUFJLENBQUM5QixXQUFXQyxRQUFRLElBQUk7Z0JBQ3hFc0gscUJBQXFCM0Ysa0JBQWtCQyxPQUFPQyxJQUFJLENBQUNGLG1CQUFtQjtZQUN4RTtZQUNBLE1BQU0sSUFBSXhCLE1BQU0sc0JBQStFLE9BQXpEMEQsaUJBQWlCMUQsUUFBUTBELE1BQU1vRCxPQUFPLEdBQUc7UUFDakY7SUFDRjtJQUVBLE1BQU1NLGFBQWF4SCxVQUFzQixFQUFFNEIsZUFBd0MsRUFBaUI7UUFDbEcsSUFBSTtZQUNGMUIsUUFBUUMsR0FBRyxDQUFDLG1DQUFtQztnQkFBRUg7Z0JBQVk0QjtZQUFnQjtZQUM3RSxJQUFJLENBQUM3QixrQkFBa0IsQ0FBQ0M7WUFFeEIsNkNBQTZDO1lBQzdDLElBQUksQ0FBQzRCLG1CQUFtQkMsT0FBT0MsSUFBSSxDQUFDRixpQkFBaUJiLE1BQU0sS0FBSyxHQUFHO2dCQUNqRSxNQUFNLElBQUlYLE1BQU07WUFDbEI7WUFFQSxNQUFNcUgsV0FBa0IsRUFBRTtZQUUxQiwyRUFBMkU7WUFDM0UsdUVBQXVFO1lBQ3ZFLE1BQU1DLGtCQUFrQjtnQkFDdEJsRixjQUFjO2dCQUNkQyxnQkFBZ0I7Z0JBQ2hCQyxjQUFjO2dCQUNkQyxjQUFjO2dCQUNkQyxlQUFlLEdBQVEsMkJBQTJCO1lBQ3BEO1lBRUEscUJBQXFCO1lBQ3JCNkUsU0FBU0UsSUFBSSxDQUNYLElBQUl4SSwyQ0FBU0EsQ0FBQztnQkFDWnNJLFVBQVU7b0JBQ1IsSUFBSXJJLHlDQUFPQSxDQUFDO3dCQUNWMEQsTUFBTTlDLFdBQVdLLFdBQVc7d0JBQzVCdUgsTUFBTTt3QkFDTkMsTUFBTUgsZ0JBQWdCbEYsWUFBWTtvQkFDcEM7aUJBQ0Q7Z0JBQ0RzRixTQUFTekksOENBQVlBLENBQUMwSSxLQUFLO2dCQUMzQkMsV0FBVzFJLCtDQUFhQSxDQUFDMkksTUFBTTtnQkFDL0JDLFNBQVM7b0JBQUVDLE9BQU87Z0JBQUk7WUFDeEI7WUFHRlYsU0FBU0UsSUFBSSxDQUNYLElBQUl4SSwyQ0FBU0EsQ0FBQztnQkFDWnNJLFVBQVU7b0JBQ1IsSUFBSXJJLHlDQUFPQSxDQUFDO3dCQUNWMEQsTUFBTSxvQkFBMkcsT0FBdkY5QyxXQUFXUSxjQUFjLENBQUMwRCxNQUFNLENBQUMsR0FBR0MsV0FBVyxLQUFLbkUsV0FBV1EsY0FBYyxDQUFDNEQsS0FBSyxDQUFDO3dCQUM5R3lELE1BQU1ILGdCQUFnQjlFLGFBQWE7b0JBQ3JDO2lCQUNEO2dCQUNEc0YsU0FBUztvQkFBRUMsT0FBTztnQkFBSTtZQUN4QjtZQUdGVixTQUFTRSxJQUFJLENBQ1gsSUFBSXhJLDJDQUFTQSxDQUFDO2dCQUNac0ksVUFBVTtvQkFDUixJQUFJckkseUNBQU9BLENBQUM7d0JBQ1YwRCxNQUFNLGlCQUFtQyxPQUFsQixJQUFJLENBQUNyRCxVQUFVO3dCQUN0Q29JLE1BQU1ILGdCQUFnQjlFLGFBQWE7b0JBQ3JDO2lCQUNEO2dCQUNEc0YsU0FBUztvQkFBRUMsT0FBTztnQkFBSTtZQUN4QjtZQUdGLGlDQUFpQztZQUNqQyxNQUFNcEUsYUFBYSxDQUFDQyxPQUFlQztnQkFDakN3RCxTQUFTRSxJQUFJLENBQ1gsSUFBSXhJLDJDQUFTQSxDQUFDO29CQUNac0ksVUFBVTt3QkFDUixJQUFJckkseUNBQU9BLENBQUM7NEJBQ1YwRCxNQUFNa0I7NEJBQ040RCxNQUFNOzRCQUNOQyxNQUFNSCxnQkFBZ0JqRixjQUFjOzRCQUNwQzJGLFdBQVc7Z0NBQUUxSCxNQUFNbkIsK0NBQWFBLENBQUM4SSxNQUFNOzRCQUFDO3dCQUMxQztxQkFDRDtvQkFDRFAsU0FBU3pJLDhDQUFZQSxDQUFDaUosU0FBUztvQkFDL0JKLFNBQVM7d0JBQUVLLFFBQVE7d0JBQUtKLE9BQU87b0JBQUk7Z0JBQ3JDO2dCQUVGVixTQUFTRSxJQUFJLElBQUkxRDtZQUNuQjtZQUVBLHNDQUFzQztZQUN0QyxJQUFJckMsZ0JBQWdCbkIsTUFBTSxJQUFJVCxXQUFXQyxRQUFRLENBQUNRLE1BQU0sRUFBRTtnQkFDeEQsTUFBTTRELGtCQUFrQnpELE1BQU1ELE9BQU8sQ0FBQ1gsV0FBV0MsUUFBUSxDQUFDUSxNQUFNLElBQUlULFdBQVdDLFFBQVEsQ0FBQ1EsTUFBTSxHQUFHLEVBQUU7Z0JBQ25HLE1BQU0rSCxnQkFBZ0JuRSxnQkFBZ0JvRSxHQUFHLENBQ3ZDLENBQUNsRSxVQUFVQyxRQUNULElBQUlyRiwyQ0FBU0EsQ0FBQzt3QkFDWnNJLFVBQVU7NEJBQ1IsSUFBSXJJLHlDQUFPQSxDQUFDO2dDQUNWMEQsTUFBTSxHQUFpQnlCLE9BQWRDLFFBQVEsR0FBRSxNQUFhLE9BQVREO2dDQUN2QnNELE1BQU1ILGdCQUFnQmhGLFlBQVk7NEJBQ3BDO3lCQUNEO3dCQUNEd0YsU0FBUzs0QkFBRUMsT0FBTzt3QkFBSTtvQkFDeEI7Z0JBRUpwRSxXQUFXLHFCQUFxQnlFO1lBQ2xDO1lBRUEsSUFBSTVHLGdCQUFnQmQsVUFBVSxJQUFJZCxXQUFXQyxRQUFRLENBQUNhLFVBQVUsRUFBRTtnQkFDaEUsTUFBTTRILGVBQXNCLEVBQUU7Z0JBQzlCLE1BQU1qRSxrQkFBa0I3RCxNQUFNRCxPQUFPLENBQUNYLFdBQVdDLFFBQVEsQ0FBQ2EsVUFBVSxJQUFJZCxXQUFXQyxRQUFRLENBQUNhLFVBQVUsR0FBRyxFQUFFO2dCQUMzRzJELGdCQUFnQkgsT0FBTyxDQUFDLENBQUNJLE1BQU1GO29CQUM3QmtFLGFBQWFmLElBQUksQ0FDZixJQUFJeEksMkNBQVNBLENBQUM7d0JBQ1pzSSxVQUFVOzRCQUNSLElBQUlySSx5Q0FBT0EsQ0FBQztnQ0FDVjBELE1BQU0sR0FBaUI0QixPQUFkRixRQUFRLEdBQUUsTUFBYyxPQUFWRSxLQUFLbEQsSUFBSTtnQ0FDaENvRyxNQUFNO2dDQUNOQyxNQUFNSCxnQkFBZ0JoRixZQUFZOzRCQUNwQzt5QkFDRDt3QkFDRHdGLFNBQVM7NEJBQUVDLE9BQU87d0JBQUk7b0JBQ3hCO29CQUVGTyxhQUFhZixJQUFJLENBQ2YsSUFBSXhJLDJDQUFTQSxDQUFDO3dCQUNac0ksVUFBVTs0QkFDUixJQUFJckkseUNBQU9BLENBQUM7Z0NBQ1YwRCxNQUFNLGVBQTRCLE9BQWI0QixLQUFLQyxPQUFPO2dDQUNqQ2tELE1BQU1ILGdCQUFnQmhGLFlBQVk7NEJBQ3BDO3lCQUNEO3dCQUNEd0YsU0FBUzs0QkFBRUMsT0FBTzt3QkFBSTtvQkFDeEI7b0JBR0YsbUVBQW1FO29CQUNuRSxJQUFJekQsS0FBS0UsUUFBUSxJQUFJaEUsTUFBTUQsT0FBTyxDQUFDK0QsS0FBS0UsUUFBUSxLQUFLRixLQUFLRSxRQUFRLENBQUM3RCxNQUFNLEdBQUcsR0FBRzt3QkFDN0UySCxhQUFhZixJQUFJLENBQ2YsSUFBSXhJLDJDQUFTQSxDQUFDOzRCQUNac0ksVUFBVTtnQ0FDUixJQUFJckkseUNBQU9BLENBQUM7b0NBQ1YwRCxNQUFPO29DQUNQK0UsTUFBTUgsZ0JBQWdCL0UsWUFBWTtvQ0FDbENpRixNQUFNO2dDQUNSOzZCQUNEOzRCQUNETSxTQUFTO2dDQUFFQyxPQUFPOzRCQUFJO3dCQUN4Qjt3QkFFRix5Q0FBeUM7d0JBQ3pDLE1BQU12RCxXQUFXaEUsTUFBTUQsT0FBTyxDQUFDK0QsS0FBS0UsUUFBUSxJQUFJRixLQUFLRSxRQUFRLEdBQUcsRUFBRTt3QkFDbEVBLFNBQVNOLE9BQU8sQ0FBQyxDQUFDTyxTQUFTQzs0QkFDekI0RCxhQUFhZixJQUFJLENBQ2YsSUFBSXhJLDJDQUFTQSxDQUFDO2dDQUNac0ksVUFBVTtvQ0FDUixJQUFJckkseUNBQU9BLENBQUM7d0NBQ1YwRCxNQUFNLFNBQTBCK0IsT0FBakJDLFVBQVUsR0FBRSxPQUFhLE9BQVJELFNBQVE7d0NBQ3hDZ0QsTUFBTUgsZ0JBQWdCOUUsYUFBYTt3Q0FDbkMrRixTQUFTO29DQUNYO2lDQUNEO2dDQUNEVCxTQUFTO29DQUFFQyxPQUFPO2dDQUFJOzRCQUN4Qjt3QkFFSjt3QkFDQU8sYUFBYWYsSUFBSSxDQUNmLElBQUl4SSwyQ0FBU0EsQ0FBQzs0QkFDWnNJLFVBQVU7Z0NBQUMsSUFBSXJJLHlDQUFPQSxDQUFDO29DQUFFMEQsTUFBTTtnQ0FBRzs2QkFBRzs0QkFDckNvRixTQUFTO2dDQUFFQyxPQUFPOzRCQUFJO3dCQUN4QjtvQkFFSixPQUFPLElBQUl6RCxLQUFLRyxPQUFPLEVBQUU7d0JBQ3ZCNkQsYUFBYWYsSUFBSSxDQUNmLElBQUl4SSwyQ0FBU0EsQ0FBQzs0QkFDWnNJLFVBQVU7Z0NBQ1IsSUFBSXJJLHlDQUFPQSxDQUFDO29DQUNWMEQsTUFBTSxnQkFBNkIsT0FBYjRCLEtBQUtHLE9BQU8sRUFBQztvQ0FDbkNnRCxNQUFNSCxnQkFBZ0I5RSxhQUFhO29DQUNuQytGLFNBQVM7Z0NBQ1g7NkJBQ0Q7NEJBQ0RULFNBQVM7Z0NBQUVDLE9BQU87NEJBQUk7d0JBQ3hCO29CQUVKO2dCQUNGO2dCQUNBcEUsV0FBVyxrQkFBa0IyRTtZQUMvQjtZQUVBLElBQUk5RyxnQkFBZ0JaLE9BQU8sSUFBSWhCLFdBQVdDLFFBQVEsQ0FBQ2UsT0FBTyxFQUFFO2dCQUMxRCxNQUFNNEgsaUJBQWlCO29CQUNyQixJQUFJekosMkNBQVNBLENBQUM7d0JBQ1pzSSxVQUFVOzRCQUNSLElBQUlySSx5Q0FBT0EsQ0FBQztnQ0FDVjBELE1BQU05QyxXQUFXQyxRQUFRLENBQUNlLE9BQU87Z0NBQ2pDNkcsTUFBTUgsZ0JBQWdCaEYsWUFBWTs0QkFDcEM7eUJBQ0Q7d0JBQ0R3RixTQUFTOzRCQUFFQyxPQUFPO3dCQUFJO29CQUN4QjtpQkFDRDtnQkFDRHBFLFdBQVcsbUJBQW1CNkU7WUFDaEM7WUFFQSxJQUFJaEgsZ0JBQWdCWCxhQUFhLElBQUlqQixXQUFXQyxRQUFRLENBQUNnQixhQUFhLEVBQUU7Z0JBQ3RFLE1BQU04RCx5QkFBeUJuRSxNQUFNRCxPQUFPLENBQUNYLFdBQVdDLFFBQVEsQ0FBQ2dCLGFBQWEsSUFBSWpCLFdBQVdDLFFBQVEsQ0FBQ2dCLGFBQWEsR0FBRyxFQUFFO2dCQUN4SCxNQUFNNEgsdUJBQXVCOUQsdUJBQXVCMEQsR0FBRyxDQUNyRCxDQUFDbEUsVUFBVUMsUUFDVCxJQUFJckYsMkNBQVNBLENBQUM7d0JBQ1pzSSxVQUFVOzRCQUNSLElBQUlySSx5Q0FBT0EsQ0FBQztnQ0FDVjBELE1BQU0sR0FBaUJ5QixPQUFkQyxRQUFRLEdBQUUsTUFBYSxPQUFURDtnQ0FDdkJzRCxNQUFNSCxnQkFBZ0JoRixZQUFZOzRCQUNwQzt5QkFDRDt3QkFDRHdGLFNBQVM7NEJBQUVDLE9BQU87d0JBQUk7b0JBQ3hCO2dCQUVKcEUsV0FBVyx5QkFBeUI4RTtZQUN0QztZQUVBLElBQUlqSCxnQkFBZ0JWLFVBQVUsSUFBSWxCLFdBQVdDLFFBQVEsQ0FBQ2lCLFVBQVUsRUFBRTtnQkFDaEUsTUFBTThELHNCQUFzQnBFLE1BQU1ELE9BQU8sQ0FBQ1gsV0FBV0MsUUFBUSxDQUFDaUIsVUFBVSxJQUFJbEIsV0FBV0MsUUFBUSxDQUFDaUIsVUFBVSxHQUFHLEVBQUU7Z0JBQy9HLE1BQU00SCxvQkFBb0I5RCxvQkFBb0J5RCxHQUFHLENBQy9DLENBQUNsRSxVQUFVQyxRQUNULElBQUlyRiwyQ0FBU0EsQ0FBQzt3QkFDWnNJLFVBQVU7NEJBQ1IsSUFBSXJJLHlDQUFPQSxDQUFDO2dDQUNWMEQsTUFBTSxHQUFpQnlCLE9BQWRDLFFBQVEsR0FBRSxNQUFhLE9BQVREO2dDQUN2QnNELE1BQU1ILGdCQUFnQmhGLFlBQVk7NEJBQ3BDO3lCQUNEO3dCQUNEd0YsU0FBUzs0QkFBRUMsT0FBTzt3QkFBSTtvQkFDeEI7Z0JBRUpwRSxXQUFXLHdCQUF3QitFO1lBQ3JDO1lBRUEsSUFBSWxILGdCQUFnQnFELGdCQUFnQixJQUFJakYsV0FBV0MsUUFBUSxDQUFDZ0YsZ0JBQWdCLEVBQUU7Z0JBQzVFLE1BQU04RCwwQkFBaUMsRUFBRTtnQkFDekMsTUFBTTdELGtCQUFrQmxGLFdBQVdDLFFBQVEsQ0FBQ2dGLGdCQUFnQjtnQkFFNUQsd0RBQXdEO2dCQUN4RDhELHdCQUF3QnBCLElBQUksQ0FDMUIsSUFBSXhJLDJDQUFTQSxDQUFDO29CQUNac0ksVUFBVTt3QkFDUixJQUFJckkseUNBQU9BLENBQUM7NEJBQ1YwRCxNQUFNb0MsZ0JBQWdCSSxXQUFXOzRCQUNqQ3VDLE1BQU1ILGdCQUFnQi9FLFlBQVk7NEJBQ2xDZ0csU0FBUzt3QkFDWDtxQkFDRDtvQkFDRFQsU0FBUzt3QkFBRUMsT0FBTztvQkFBSTtvQkFDdEJhLFNBQVM7d0JBQ1BDLE1BQU07b0JBQ1I7b0JBQ0FDLFFBQVE7d0JBQ05DLE1BQU07NEJBQ0pDLE9BQU87NEJBQ1B2QixNQUFNOzRCQUNOd0IsT0FBTzt3QkFDVDtvQkFDRjtnQkFDRjtnQkFHRixrREFBa0Q7Z0JBQ2xELE1BQU1DLGdCQUFnQjFJLE1BQU1ELE9BQU8sQ0FBQ3VFLGdCQUFnQlEsUUFBUSxJQUFJUixnQkFBZ0JRLFFBQVEsR0FBRyxFQUFFO2dCQUM3RjRELGNBQWNoRixPQUFPLENBQUMsQ0FBQ1Y7b0JBQ3JCbUYsd0JBQXdCcEIsSUFBSSxDQUMxQixJQUFJeEksMkNBQVNBLENBQUM7d0JBQ1pzSSxVQUFVOzRCQUNSLElBQUlySSx5Q0FBT0EsQ0FBQztnQ0FDVjBELE1BQU0sR0FBa0IsT0FBZmMsS0FBS2lDLFNBQVMsRUFBQztnQ0FDeEIrQixNQUFNO2dDQUNOQyxNQUFNSCxnQkFBZ0JoRixZQUFZOzRCQUNwQzs0QkFDQSxJQUFJdEQseUNBQU9BLENBQUM7Z0NBQ1YwRCxNQUFNYyxLQUFLQSxJQUFJO2dDQUNmaUUsTUFBTUgsZ0JBQWdCaEYsWUFBWTs0QkFDcEM7eUJBQ0Q7d0JBQ0R3RixTQUFTOzRCQUFFQyxPQUFPO3dCQUFJO29CQUN4QjtnQkFFSjtnQkFFQSxpQ0FBaUM7Z0JBQ2pDLElBQUlqRCxnQkFBZ0JjLGlCQUFpQixJQUFJZCxnQkFBZ0JjLGlCQUFpQixDQUFDakYsTUFBTSxHQUFHLEdBQUc7b0JBQ3JGZ0ksd0JBQXdCcEIsSUFBSSxDQUMxQixJQUFJeEksMkNBQVNBLENBQUM7d0JBQ1pzSSxVQUFVOzRCQUNSLElBQUlySSx5Q0FBT0EsQ0FBQztnQ0FDVjBELE1BQU07Z0NBQ044RSxNQUFNO2dDQUNOQyxNQUFNSCxnQkFBZ0IvRSxZQUFZOzRCQUNwQzt5QkFDRDt3QkFDRHVGLFNBQVM7NEJBQUVLLFFBQVE7NEJBQUtKLE9BQU87d0JBQUk7b0JBQ3JDO29CQUVGLE1BQU1uQyxvQkFBb0JwRixNQUFNRCxPQUFPLENBQUN1RSxnQkFBZ0JjLGlCQUFpQixJQUFJZCxnQkFBZ0JjLGlCQUFpQixHQUFHLEVBQUU7b0JBQ25IQSxrQkFBa0IxQixPQUFPLENBQUMsQ0FBQ0MsVUFBVUM7d0JBQ25DdUUsd0JBQXdCcEIsSUFBSSxDQUMxQixJQUFJeEksMkNBQVNBLENBQUM7NEJBQ1pzSSxVQUFVO2dDQUNSLElBQUlySSx5Q0FBT0EsQ0FBQztvQ0FDVjBELE1BQU0sR0FBaUJ5QixPQUFkQyxRQUFRLEdBQUUsTUFBYSxPQUFURDtvQ0FDdkJzRCxNQUFNSCxnQkFBZ0JoRixZQUFZO2dDQUNwQzs2QkFDRDs0QkFDRHdGLFNBQVM7Z0NBQUVDLE9BQU87NEJBQUk7d0JBQ3hCO29CQUVKO2dCQUNGO2dCQUVBcEUsV0FBVyxxQkFBcUJnRjtZQUNsQztZQUVBLElBQUluSCxnQkFBZ0JxRSxlQUFlLElBQUlqRyxXQUFXQyxRQUFRLENBQUNnRyxlQUFlLEVBQUU7Z0JBQzFFLE1BQU1zRCx5QkFBZ0MsRUFBRTtnQkFDeEMsTUFBTXJFLGtCQUFrQmxGLFdBQVdDLFFBQVEsQ0FBQ2dHLGVBQWU7Z0JBRTNELGtCQUFrQjtnQkFDbEJzRCx1QkFBdUI1QixJQUFJLENBQ3pCLElBQUl4SSwyQ0FBU0EsQ0FBQztvQkFDWnNJLFVBQVU7d0JBQ1IsSUFBSXJJLHlDQUFPQSxDQUFDOzRCQUNWMEQsTUFBTW9DLGdCQUFnQkksV0FBVzs0QkFDakN1QyxNQUFNSCxnQkFBZ0IvRSxZQUFZOzRCQUNsQ2dHLFNBQVM7d0JBQ1g7cUJBQ0Q7b0JBQ0RULFNBQVM7d0JBQUVDLE9BQU87b0JBQUk7Z0JBQ3hCO2dCQUdGLHFCQUFxQjtnQkFDckIsTUFBTWpDLHVCQUF1QnRGLE1BQU1ELE9BQU8sQ0FBQ3VFLGdCQUFnQlEsUUFBUSxJQUFJUixnQkFBZ0JRLFFBQVEsR0FBRyxFQUFFO2dCQUNwR1EscUJBQXFCNUIsT0FBTyxDQUFDLENBQUNWO29CQUM1QjJGLHVCQUF1QjVCLElBQUksQ0FDekIsSUFBSXhJLDJDQUFTQSxDQUFDO3dCQUNac0ksVUFBVTs0QkFDUixJQUFJckkseUNBQU9BLENBQUM7Z0NBQ1YwRCxNQUFNLEdBQWtCLE9BQWZjLEtBQUtpQyxTQUFTLEVBQUM7Z0NBQ3hCK0IsTUFBTTtnQ0FDTkMsTUFBTUgsZ0JBQWdCaEYsWUFBWTs0QkFDcEM7NEJBQ0EsSUFBSXRELHlDQUFPQSxDQUFDO2dDQUNWMEQsTUFBTWMsS0FBS0EsSUFBSTtnQ0FDZmlFLE1BQU1ILGdCQUFnQmhGLFlBQVk7NEJBQ3BDO3lCQUNEO3dCQUNEd0YsU0FBUzs0QkFBRUMsT0FBTzt3QkFBSTtvQkFDeEI7Z0JBRUo7Z0JBRUEsd0JBQXdCO2dCQUN4QixJQUFJakQsZ0JBQWdCaUIsT0FBTyxJQUFJakIsZ0JBQWdCaUIsT0FBTyxDQUFDcEYsTUFBTSxHQUFHLEdBQUc7b0JBQ2pFd0ksdUJBQXVCNUIsSUFBSSxDQUN6QixJQUFJeEksMkNBQVNBLENBQUM7d0JBQ1pzSSxVQUFVOzRCQUNSLElBQUlySSx5Q0FBT0EsQ0FBQztnQ0FDVjBELE1BQU07Z0NBQ044RSxNQUFNO2dDQUNOQyxNQUFNSCxnQkFBZ0IvRSxZQUFZOzRCQUNwQzt5QkFDRDt3QkFDRHVGLFNBQVM7NEJBQUVLLFFBQVE7NEJBQUtKLE9BQU87d0JBQUk7b0JBQ3JDO29CQUVGb0IsdUJBQXVCNUIsSUFBSSxDQUN6QixJQUFJeEksMkNBQVNBLENBQUM7d0JBQ1pzSSxVQUFVOzRCQUNSLElBQUlySSx5Q0FBT0EsQ0FBQztnQ0FDVjBELE1BQU1vQyxnQkFBZ0JpQixPQUFPLENBQUNDLElBQUksQ0FBQztnQ0FDbkN5QixNQUFNSCxnQkFBZ0I5RSxhQUFhOzRCQUNyQzt5QkFDRDt3QkFDRHNGLFNBQVM7NEJBQUVDLE9BQU87d0JBQUk7b0JBQ3hCO2dCQUVKO2dCQUVBcEUsV0FBVyw0QkFBNEJ3RjtZQUN6QztZQUVBLElBQUkzSCxnQkFBZ0JULE9BQU8sSUFBSW5CLFdBQVdDLFFBQVEsQ0FBQ2tCLE9BQU8sRUFBRTtnQkFDMUQsTUFBTXFJLGlCQUF3QixFQUFFO2dCQUNoQ0EsZUFBZTdCLElBQUksQ0FDakIsSUFBSXhJLDJDQUFTQSxDQUFDO29CQUNac0ksVUFBVTt3QkFDUixJQUFJckkseUNBQU9BLENBQUM7NEJBQ1YwRCxNQUFNLFVBQTRDLE9BQWxDOUMsV0FBV0MsUUFBUSxDQUFDa0IsT0FBTyxDQUFDRSxLQUFLOzRCQUNqRHVHLE1BQU07NEJBQ05DLE1BQU1ILGdCQUFnQmhGLFlBQVk7d0JBQ3BDO3FCQUNEO29CQUNEd0YsU0FBUzt3QkFBRUMsT0FBTztvQkFBSTtnQkFDeEI7Z0JBRUZxQixlQUFlN0IsSUFBSSxDQUNqQixJQUFJeEksMkNBQVNBLENBQUM7b0JBQ1pzSSxVQUFVO3dCQUNSLElBQUlySSx5Q0FBT0EsQ0FBQzs0QkFDVjBELE1BQU07NEJBQ044RSxNQUFNOzRCQUNOQyxNQUFNSCxnQkFBZ0IvRSxZQUFZO3dCQUNwQztxQkFDRDtvQkFDRHVGLFNBQVM7d0JBQUVDLE9BQU87b0JBQUk7Z0JBQ3hCO2dCQUVGLE1BQU05QixrQkFBa0J6RixNQUFNRCxPQUFPLENBQUNYLFdBQVdDLFFBQVEsQ0FBQ2tCLE9BQU8sQ0FBQ3lELFFBQVEsSUFBSTVFLFdBQVdDLFFBQVEsQ0FBQ2tCLE9BQU8sQ0FBQ3lELFFBQVEsR0FBRyxFQUFFO2dCQUN2SHlCLGdCQUFnQi9CLE9BQU8sQ0FBQyxDQUFDTztvQkFDdkIyRSxlQUFlN0IsSUFBSSxDQUNqQixJQUFJeEksMkNBQVNBLENBQUM7d0JBQ1pzSSxVQUFVOzRCQUNSLElBQUlySSx5Q0FBT0EsQ0FBQztnQ0FDVjBELE1BQU0sS0FBYSxPQUFSK0I7Z0NBQ1hnRCxNQUFNSCxnQkFBZ0I5RSxhQUFhOzRCQUNyQzt5QkFDRDt3QkFDRHNGLFNBQVM7NEJBQUVDLE9BQU87d0JBQUk7b0JBQ3hCO2dCQUVKO2dCQUNBcUIsZUFBZTdCLElBQUksQ0FDakIsSUFBSXhJLDJDQUFTQSxDQUFDO29CQUNac0ksVUFBVTt3QkFDUixJQUFJckkseUNBQU9BLENBQUM7NEJBQ1YwRCxNQUFNOzRCQUNOOEUsTUFBTTs0QkFDTkMsTUFBTUgsZ0JBQWdCL0UsWUFBWTt3QkFDcEM7cUJBQ0Q7b0JBQ0R1RixTQUFTO3dCQUFFSyxRQUFRO3dCQUFLSixPQUFPO29CQUFJO2dCQUNyQztnQkFFRixNQUFNN0IsbUJBQW1CMUYsTUFBTUQsT0FBTyxDQUFDWCxXQUFXQyxRQUFRLENBQUNrQixPQUFPLENBQUNvRixRQUFRLElBQUl2RyxXQUFXQyxRQUFRLENBQUNrQixPQUFPLENBQUNvRixRQUFRLEdBQUcsRUFBRTtnQkFDeEhELGlCQUFpQmhDLE9BQU8sQ0FBQyxDQUFDaUMsVUFBVS9CO29CQUNsQ2dGLGVBQWU3QixJQUFJLENBQ2pCLElBQUl4SSwyQ0FBU0EsQ0FBQzt3QkFDWnNJLFVBQVU7NEJBQ1IsSUFBSXJJLHlDQUFPQSxDQUFDO2dDQUNWMEQsTUFBTSxHQUFpQnlELE9BQWQvQixRQUFRLEdBQUUsTUFBYSxPQUFUK0I7Z0NBQ3ZCc0IsTUFBTUgsZ0JBQWdCaEYsWUFBWTs0QkFDcEM7eUJBQ0Q7d0JBQ0R3RixTQUFTOzRCQUFFQyxPQUFPO3dCQUFJO29CQUN4QjtnQkFFSjtnQkFDQXBFLFdBQVcsaUJBQWlCeUY7WUFDOUI7WUFFQSxJQUFJNUgsZ0JBQWdCTixhQUFhLElBQUl0QixXQUFXQyxRQUFRLENBQUNxQixhQUFhLEVBQUU7Z0JBQ3RFLE1BQU1tSSx1QkFBdUI7b0JBQzNCLElBQUl0SywyQ0FBU0EsQ0FBQzt3QkFDWnNJLFVBQVU7NEJBQ1IsSUFBSXJJLHlDQUFPQSxDQUFDO2dDQUNWMEQsTUFBTSxTQUFnRCxPQUF2QzlDLFdBQVdDLFFBQVEsQ0FBQ3FCLGFBQWEsQ0FBQ0UsSUFBSTtnQ0FDckRvRyxNQUFNO2dDQUNOQyxNQUFNSCxnQkFBZ0JoRixZQUFZOzRCQUNwQzt5QkFDRDt3QkFDRHdGLFNBQVM7NEJBQUVDLE9BQU87d0JBQUk7b0JBQ3hCO29CQUNBLElBQUloSiwyQ0FBU0EsQ0FBQzt3QkFDWnNJLFVBQVU7NEJBQ1IsSUFBSXJJLHlDQUFPQSxDQUFDO2dDQUNWMEQsTUFBTSxRQUE4QyxPQUF0QzlDLFdBQVdDLFFBQVEsQ0FBQ3FCLGFBQWEsQ0FBQ2tGLEdBQUc7Z0NBQ25EcUIsTUFBTUgsZ0JBQWdCOUUsYUFBYTs0QkFDckM7eUJBQ0Q7d0JBQ0RzRixTQUFTOzRCQUFFQyxPQUFPO3dCQUFJO29CQUN4QjtvQkFDQSxJQUFJaEosMkNBQVNBLENBQUM7d0JBQ1pzSSxVQUFVOzRCQUNSLElBQUlySSx5Q0FBT0EsQ0FBQztnQ0FDVjBELE1BQU0sY0FBeUQsT0FBM0M5QyxXQUFXQyxRQUFRLENBQUNxQixhQUFhLENBQUNtRixRQUFRLEVBQUM7Z0NBQy9Eb0IsTUFBTUgsZ0JBQWdCaEYsWUFBWTtnQ0FDbENpRyxTQUFTOzRCQUNYO3lCQUNEO3dCQUNEVCxTQUFTOzRCQUFFQyxPQUFPO3dCQUFJO29CQUN4QjtpQkFDRDtnQkFDRHBFLFdBQVcsMEJBQTBCMEY7WUFDdkM7WUFFQSxJQUFJN0gsZ0JBQWdCSCxNQUFNLElBQUl6QixXQUFXQyxRQUFRLENBQUN3QixNQUFNLEVBQUU7Z0JBQ3hELE1BQU1pRixrQkFBa0I5RixNQUFNRCxPQUFPLENBQUNYLFdBQVdDLFFBQVEsQ0FBQ3dCLE1BQU0sSUFBSXpCLFdBQVdDLFFBQVEsQ0FBQ3dCLE1BQU0sR0FBRyxFQUFFO2dCQUNuRyxNQUFNaUksZ0JBQWdCaEQsZ0JBQWdCK0IsR0FBRyxDQUN2QyxDQUFDbEUsVUFBVUMsUUFDVCxJQUFJckYsMkNBQVNBLENBQUM7d0JBQ1pzSSxVQUFVOzRCQUNSLElBQUlySSx5Q0FBT0EsQ0FBQztnQ0FDVjBELE1BQU0sR0FBaUJ5QixPQUFkQyxRQUFRLEdBQUUsTUFBYSxPQUFURDtnQ0FDdkJzRCxNQUFNSCxnQkFBZ0JoRixZQUFZOzRCQUNwQzt5QkFDRDt3QkFDRHdGLFNBQVM7NEJBQUVDLE9BQU87d0JBQUk7b0JBQ3hCO2dCQUVKcEUsV0FBVyxrQkFBa0IyRjtZQUMvQjtZQUVBLFNBQVM7WUFDVGpDLFNBQVNFLElBQUksQ0FDWCxJQUFJeEksMkNBQVNBLENBQUM7Z0JBQ1pzSSxVQUFVO29CQUNSLElBQUlySSx5Q0FBT0EsQ0FBQzt3QkFDVjBELE1BQU07d0JBQ04rRSxNQUFNSCxnQkFBZ0I5RSxhQUFhO3dCQUNuQytGLFNBQVM7b0JBQ1g7aUJBQ0Q7Z0JBQ0RYLFdBQVcxSSwrQ0FBYUEsQ0FBQzJJLE1BQU07Z0JBQy9CQyxTQUFTO29CQUFFSyxRQUFRO2dCQUFJO1lBQ3pCO1lBR0Ysa0JBQWtCO1lBQ2xCLE1BQU1vQixNQUFNLElBQUkxSywwQ0FBUUEsQ0FBQztnQkFDdkJnQixVQUFVO29CQUNSO3dCQUNFMkosWUFBWSxDQUFDO3dCQUNibkMsVUFBVUE7b0JBQ1o7aUJBQ0Q7WUFDSDtZQUVBLHdCQUF3QjtZQUN4QnZILFFBQVFDLEdBQUcsQ0FBQztZQUNaLE1BQU0wSixTQUFTLE1BQU0zSyx3Q0FBTUEsQ0FBQzRLLFFBQVEsQ0FBQ0g7WUFDckN6SixRQUFRQyxHQUFHLENBQUMsa0NBQWtDMEosT0FBT0UsVUFBVTtZQUUvRCxNQUFNQyxPQUFPLElBQUlDLEtBQUs7Z0JBQUNKO2FBQWMsRUFBRTtnQkFBRW5KLE1BQU07WUFBMEU7WUFDekgsTUFBTXdKLE1BQU1DLElBQUlDLGVBQWUsQ0FBQ0o7WUFDaEMsTUFBTWxELFdBQVcsR0FBbUM5RyxPQUFoQ0EsV0FBV00sVUFBVSxFQUFDLFlBQXFDWixPQUEzQk0sV0FBV08sWUFBWSxFQUFDLEtBQWMsT0FBWGIsS0FBS3FILEdBQUcsSUFBRztZQUUxRjdHLFFBQVFDLEdBQUcsQ0FBQyw0Q0FBNEMyRztZQUN4RCxNQUFNdUQsT0FBT0MsU0FBU0MsYUFBYSxDQUFDO1lBQ3BDRixLQUFLRyxJQUFJLEdBQUdOO1lBQ1pHLEtBQUtJLFFBQVEsR0FBRzNEO1lBQ2hCd0QsU0FBU0ksSUFBSSxDQUFDQyxXQUFXLENBQUNOO1lBQzFCQSxLQUFLTyxLQUFLO1lBQ1ZOLFNBQVNJLElBQUksQ0FBQ0csV0FBVyxDQUFDUjtZQUMxQkYsSUFBSVcsZUFBZSxDQUFDWjtZQUNwQmhLLFFBQVFDLEdBQUcsQ0FBQztRQUNkLEVBQUUsT0FBTzJELE9BQU87WUFDZDVELFFBQVE0RCxLQUFLLENBQUMsc0JBQXNCQTtZQUNwQyxNQUFNLElBQUkxRCxNQUFNLHVCQUFnRixPQUF6RDBELGlCQUFpQjFELFFBQVEwRCxNQUFNb0QsT0FBTyxHQUFHO1FBQ2xGO0lBQ0Y7QUFDRjtBQUVPLE1BQU02RCxpQkFBaUIsSUFBSXZMLGlCQUFnQiIsInNvdXJjZXMiOlsid2VicGFjazovL19OX0UvLi9saWIvZXhwb3J0LXV0aWxzLnRzPzEwZDQiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IGpzUERGIGZyb20gXCJqc3BkZlwiXG5pbXBvcnQgeyBEb2N1bWVudCwgUGFja2VyLCBQYXJhZ3JhcGgsIFRleHRSdW4sIEhlYWRpbmdMZXZlbCwgQWxpZ25tZW50VHlwZSwgVW5kZXJsaW5lVHlwZSB9IGZyb20gXCJkb2N4XCJcblxuaW50ZXJmYWNlIExlc3NvbkRhdGEge1xuICBsZXNzb25UaXRsZTogc3RyaW5nXG4gIGxlc3NvblR5cGU6IHN0cmluZ1xuICBzdHVkZW50TGV2ZWw6IHN0cmluZ1xuICB0YXJnZXRMYW5ndWFnZTogc3RyaW5nXG4gIHNlY3Rpb25zOiB7XG4gICAgd2FybXVwOiBzdHJpbmdbXVxuICAgIHZvY2FidWxhcnk6IEFycmF5PHsgd29yZDogc3RyaW5nOyBtZWFuaW5nOiBzdHJpbmc7IGV4YW1wbGU/OiBzdHJpbmc7IGV4YW1wbGVzPzogc3RyaW5nW10gfT5cbiAgICByZWFkaW5nOiBzdHJpbmdcbiAgICBjb21wcmVoZW5zaW9uOiBzdHJpbmdbXVxuICAgIGRpc2N1c3Npb246IHN0cmluZ1tdXG4gICAgZGlhbG9ndWVQcmFjdGljZT86IHtcbiAgICAgIGluc3RydWN0aW9uOiBzdHJpbmdcbiAgICAgIGRpYWxvZ3VlOiBBcnJheTx7IGNoYXJhY3Rlcjogc3RyaW5nOyBsaW5lOiBzdHJpbmcgfT5cbiAgICAgIGZvbGxvd1VwUXVlc3Rpb25zOiBzdHJpbmdbXVxuICAgIH1cbiAgICBkaWFsb2d1ZUZpbGxHYXA/OiB7XG4gICAgICBpbnN0cnVjdGlvbjogc3RyaW5nXG4gICAgICBkaWFsb2d1ZTogQXJyYXk8eyBjaGFyYWN0ZXI6IHN0cmluZzsgbGluZTogc3RyaW5nOyBpc0dhcD86IGJvb2xlYW4gfT5cbiAgICAgIGFuc3dlcnM6IHN0cmluZ1tdXG4gICAgfVxuICAgIGdyYW1tYXI6IHtcbiAgICAgIGZvY3VzOiBzdHJpbmdcbiAgICAgIGV4YW1wbGVzOiBzdHJpbmdbXVxuICAgICAgZXhlcmNpc2U6IHN0cmluZ1tdXG4gICAgfVxuICAgIHByb251bmNpYXRpb246IHtcbiAgICAgIHdvcmQ6IHN0cmluZ1xuICAgICAgaXBhOiBzdHJpbmdcbiAgICAgIHByYWN0aWNlOiBzdHJpbmdcbiAgICB9XG4gICAgd3JhcHVwOiBzdHJpbmdbXVxuICB9XG59XG5cbmV4cG9ydCBjbGFzcyBMZXNzb25FeHBvcnRlciB7XG4gIHByaXZhdGUgZm9ybWF0RGF0ZSgpOiBzdHJpbmcge1xuICAgIHJldHVybiBuZXcgRGF0ZSgpLnRvTG9jYWxlRGF0ZVN0cmluZyhcImVuLVVTXCIsIHtcbiAgICAgIHllYXI6IFwibnVtZXJpY1wiLFxuICAgICAgbW9udGg6IFwibG9uZ1wiLFxuICAgICAgZGF5OiBcIm51bWVyaWNcIixcbiAgICB9KVxuICB9XG5cblxuXG4gIHByaXZhdGUgdmFsaWRhdGVMZXNzb25EYXRhKGxlc3NvbkRhdGE6IExlc3NvbkRhdGEpOiB2b2lkIHtcbiAgICBjb25zb2xlLmxvZygnVmFsaWRhdGluZyBsZXNzb24gZGF0YTonLCBsZXNzb25EYXRhKVxuXG4gICAgaWYgKCFsZXNzb25EYXRhKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ0xlc3NvbiBkYXRhIGlzIHJlcXVpcmVkJylcbiAgICB9XG4gICAgaWYgKCFsZXNzb25EYXRhLmxlc3NvblRpdGxlKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ0FJLWdlbmVyYXRlZCBsZXNzb24gdGl0bGUgaXMgcmVxdWlyZWQnKVxuICAgIH1cbiAgICBpZiAoIWxlc3NvbkRhdGEubGVzc29uVHlwZSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdMZXNzb24gdHlwZSBpcyByZXF1aXJlZCcpXG4gICAgfVxuICAgIGlmICghbGVzc29uRGF0YS5zdHVkZW50TGV2ZWwpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignU3R1ZGVudCBsZXZlbCBpcyByZXF1aXJlZCcpXG4gICAgfVxuICAgIGlmICghbGVzc29uRGF0YS50YXJnZXRMYW5ndWFnZSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdUYXJnZXQgbGFuZ3VhZ2UgaXMgcmVxdWlyZWQnKVxuICAgIH1cbiAgICBpZiAoIWxlc3NvbkRhdGEuc2VjdGlvbnMpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignTGVzc29uIHNlY3Rpb25zIGFyZSByZXF1aXJlZCcpXG4gICAgfVxuXG4gICAgLy8gVmFsaWRhdGUgc2VjdGlvbnMgc3RydWN0dXJlIHdpdGggZGV0YWlsZWQgbG9nZ2luZ1xuICAgIGNvbnN0IHNlY3Rpb25zID0gbGVzc29uRGF0YS5zZWN0aW9uc1xuICAgIGNvbnNvbGUubG9nKCdWYWxpZGF0aW5nIHNlY3Rpb24gdHlwZXM6Jywge1xuICAgICAgd2FybXVwOiB7IHR5cGU6IHR5cGVvZiBzZWN0aW9ucy53YXJtdXAsIGlzQXJyYXk6IEFycmF5LmlzQXJyYXkoc2VjdGlvbnMud2FybXVwKSwgdmFsdWU6IHNlY3Rpb25zLndhcm11cCB9LFxuICAgICAgdm9jYWJ1bGFyeTogeyB0eXBlOiB0eXBlb2Ygc2VjdGlvbnMudm9jYWJ1bGFyeSwgaXNBcnJheTogQXJyYXkuaXNBcnJheShzZWN0aW9ucy52b2NhYnVsYXJ5KSwgbGVuZ3RoOiBzZWN0aW9ucy52b2NhYnVsYXJ5Py5sZW5ndGggfSxcbiAgICAgIHJlYWRpbmc6IHsgdHlwZTogdHlwZW9mIHNlY3Rpb25zLnJlYWRpbmcsIGxlbmd0aDogc2VjdGlvbnMucmVhZGluZz8ubGVuZ3RoIH0sXG4gICAgICBjb21wcmVoZW5zaW9uOiB7IHR5cGU6IHR5cGVvZiBzZWN0aW9ucy5jb21wcmVoZW5zaW9uLCBpc0FycmF5OiBBcnJheS5pc0FycmF5KHNlY3Rpb25zLmNvbXByZWhlbnNpb24pLCBsZW5ndGg6IHNlY3Rpb25zLmNvbXByZWhlbnNpb24/Lmxlbmd0aCB9LFxuICAgICAgZGlzY3Vzc2lvbjogeyB0eXBlOiB0eXBlb2Ygc2VjdGlvbnMuZGlzY3Vzc2lvbiwgaXNBcnJheTogQXJyYXkuaXNBcnJheShzZWN0aW9ucy5kaXNjdXNzaW9uKSwgbGVuZ3RoOiBzZWN0aW9ucy5kaXNjdXNzaW9uPy5sZW5ndGggfSxcbiAgICAgIGdyYW1tYXI6IHsgdHlwZTogdHlwZW9mIHNlY3Rpb25zLmdyYW1tYXIsIGhhc0ZvY3VzOiAhIXNlY3Rpb25zLmdyYW1tYXI/LmZvY3VzIH0sXG4gICAgICBwcm9udW5jaWF0aW9uOiB7IHR5cGU6IHR5cGVvZiBzZWN0aW9ucy5wcm9udW5jaWF0aW9uLCBoYXNXb3JkOiAhIXNlY3Rpb25zLnByb251bmNpYXRpb24/LndvcmQgfSxcbiAgICAgIHdyYXB1cDogeyB0eXBlOiB0eXBlb2Ygc2VjdGlvbnMud3JhcHVwLCBpc0FycmF5OiBBcnJheS5pc0FycmF5KHNlY3Rpb25zLndyYXB1cCksIGxlbmd0aDogc2VjdGlvbnMud3JhcHVwPy5sZW5ndGggfVxuICAgIH0pXG5cbiAgICBpZiAoIUFycmF5LmlzQXJyYXkoc2VjdGlvbnMud2FybXVwKSkge1xuICAgICAgY29uc29sZS53YXJuKCdXYXJtdXAgc2VjdGlvbiBpcyBub3QgYW4gYXJyYXk6Jywgc2VjdGlvbnMud2FybXVwKVxuICAgIH1cbiAgICBpZiAoIUFycmF5LmlzQXJyYXkoc2VjdGlvbnMudm9jYWJ1bGFyeSkpIHtcbiAgICAgIGNvbnNvbGUud2FybignVm9jYWJ1bGFyeSBzZWN0aW9uIGlzIG5vdCBhbiBhcnJheTonLCBzZWN0aW9ucy52b2NhYnVsYXJ5KVxuICAgIH1cbiAgICBpZiAodHlwZW9mIHNlY3Rpb25zLnJlYWRpbmcgIT09ICdzdHJpbmcnKSB7XG4gICAgICBjb25zb2xlLndhcm4oJ1JlYWRpbmcgc2VjdGlvbiBpcyBub3QgYSBzdHJpbmc6Jywgc2VjdGlvbnMucmVhZGluZylcbiAgICB9XG4gICAgaWYgKCFBcnJheS5pc0FycmF5KHNlY3Rpb25zLmNvbXByZWhlbnNpb24pKSB7XG4gICAgICBjb25zb2xlLndhcm4oJ0NvbXByZWhlbnNpb24gc2VjdGlvbiBpcyBub3QgYW4gYXJyYXk6Jywgc2VjdGlvbnMuY29tcHJlaGVuc2lvbilcbiAgICB9XG4gICAgaWYgKCFBcnJheS5pc0FycmF5KHNlY3Rpb25zLmRpc2N1c3Npb24pKSB7XG4gICAgICBjb25zb2xlLndhcm4oJ0Rpc2N1c3Npb24gc2VjdGlvbiBpcyBub3QgYW4gYXJyYXk6Jywgc2VjdGlvbnMuZGlzY3Vzc2lvbilcbiAgICB9XG4gICAgaWYgKCFzZWN0aW9ucy5ncmFtbWFyIHx8ICFzZWN0aW9ucy5ncmFtbWFyLmZvY3VzKSB7XG4gICAgICBjb25zb2xlLndhcm4oJ0dyYW1tYXIgc2VjdGlvbiBpcyBtYWxmb3JtZWQ6Jywgc2VjdGlvbnMuZ3JhbW1hcilcbiAgICB9XG4gICAgaWYgKCFzZWN0aW9ucy5wcm9udW5jaWF0aW9uIHx8ICFzZWN0aW9ucy5wcm9udW5jaWF0aW9uLndvcmQpIHtcbiAgICAgIGNvbnNvbGUud2FybignUHJvbnVuY2lhdGlvbiBzZWN0aW9uIGlzIG1hbGZvcm1lZDonLCBzZWN0aW9ucy5wcm9udW5jaWF0aW9uKVxuICAgIH1cbiAgICBpZiAoIUFycmF5LmlzQXJyYXkoc2VjdGlvbnMud3JhcHVwKSkge1xuICAgICAgY29uc29sZS53YXJuKCdXcmFwdXAgc2VjdGlvbiBpcyBub3QgYW4gYXJyYXk6Jywgc2VjdGlvbnMud3JhcHVwKVxuICAgIH1cblxuICAgIGNvbnNvbGUubG9nKCdMZXNzb24gZGF0YSB2YWxpZGF0aW9uIGNvbXBsZXRlZCcpXG4gIH1cblxuICBhc3luYyBleHBvcnRUb1BERihsZXNzb25EYXRhOiBMZXNzb25EYXRhLCBlbmFibGVkU2VjdGlvbnM6IFJlY29yZDxzdHJpbmcsIGJvb2xlYW4+KTogUHJvbWlzZTx2b2lkPiB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnNvbGUubG9nKCdTdGFydGluZyBQREYgZXhwb3J0IHdpdGggZGF0YTonLCB7IGxlc3NvbkRhdGEsIGVuYWJsZWRTZWN0aW9ucyB9KVxuXG4gICAgICAvLyBDaGVjayBpZiB3ZSdyZSBpbiBhIGJyb3dzZXIgZW52aXJvbm1lbnRcbiAgICAgIGlmICh0eXBlb2Ygd2luZG93ID09PSAndW5kZWZpbmVkJykge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1BERiBleHBvcnQgaXMgb25seSBhdmFpbGFibGUgaW4gYnJvd3NlciBlbnZpcm9ubWVudCcpXG4gICAgICB9XG5cbiAgICAgIC8vIENoZWNrIGlmIGpzUERGIGlzIGF2YWlsYWJsZVxuICAgICAgaWYgKHR5cGVvZiBqc1BERiA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdqc1BERiBsaWJyYXJ5IGlzIG5vdCBhdmFpbGFibGUnKVxuICAgICAgfVxuXG4gICAgICBjb25zb2xlLmxvZygnRW52aXJvbm1lbnQgY2hlY2tzIHBhc3NlZCcpXG4gICAgICB0aGlzLnZhbGlkYXRlTGVzc29uRGF0YShsZXNzb25EYXRhKVxuXG4gICAgICAvLyBBZGRpdGlvbmFsIHZhbGlkYXRpb24gZm9yIGVuYWJsZWQgc2VjdGlvbnNcbiAgICAgIGlmICghZW5hYmxlZFNlY3Rpb25zIHx8IE9iamVjdC5rZXlzKGVuYWJsZWRTZWN0aW9ucykubGVuZ3RoID09PSAwKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignTm8gc2VjdGlvbnMgZW5hYmxlZCBmb3IgZXhwb3J0JylcbiAgICAgIH1cblxuICAgICAgY29uc29sZS5sb2coJ0NyZWF0aW5nIGpzUERGIGluc3RhbmNlLi4uJylcbiAgICAgIGNvbnN0IHBkZiA9IG5ldyBqc1BERigpXG4gICAgICBjb25zb2xlLmxvZygnanNQREYgaW5zdGFuY2UgY3JlYXRlZCBzdWNjZXNzZnVsbHknKVxuXG4gICAgICBsZXQgeVBvc2l0aW9uID0gMjBcbiAgICAgIGNvbnN0IHBhZ2VIZWlnaHQgPSBwZGYuaW50ZXJuYWwucGFnZVNpemUuaGVpZ2h0XG4gICAgICBjb25zdCBtYXJnaW4gPSAyMFxuICAgICAgY29uc3QgbGluZUhlaWdodCA9IDdcblxuICAgICAgY29uc29sZS5sb2coJ1BERiBkaW1lbnNpb25zOicsIHsgcGFnZUhlaWdodCwgbWFyZ2luLCBsaW5lSGVpZ2h0IH0pXG5cbiAgICAgIC8vIFR5cG9ncmFwaHkgaGllcmFyY2h5IGNvbnN0YW50cyAobWF0Y2hpbmcgd2ViIGludGVyZmFjZSlcbiAgICAgIGNvbnN0IEZPTlRfU0laRVMgPSB7XG4gICAgICAgIExFU1NPTl9USVRMRTogMzIsICAgICAgLy8gUHJpbWFyeSBoZWFkaW5nXG4gICAgICAgIFNFQ1RJT05fSEVBREVSOiAyOCwgICAgLy8gU2Vjb25kYXJ5IGhlYWRpbmdzXG4gICAgICAgIE1BSU5fQ09OVEVOVDogMTYsICAgICAgLy8gQm9keSB0ZXh0XG4gICAgICAgIElOU1RSVUNUSU9OUzogMTUsICAgICAgLy8gR3VpZGFuY2UgdGV4dFxuICAgICAgICBTVVBQTEVNRU5UQVJZOiAxNCAgICAgIC8vIEFuc3dlciBrZXlzLCBleHBsYW5hdGlvbnNcbiAgICAgIH1cblxuICAgICAgLy8gSGVscGVyIGZ1bmN0aW9uIHRvIGFkZCB0ZXh0IHdpdGggd29yZCB3cmFwcGluZ1xuICAgICAgY29uc3QgYWRkVGV4dCA9ICh0ZXh0OiBzdHJpbmcsIGZvbnRTaXplID0gRk9OVF9TSVpFUy5NQUlOX0NPTlRFTlQsIGlzQm9sZCA9IGZhbHNlLCBpbmRlbnQgPSAwKSA9PiB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgLy8gU2FuaXRpemUgdGV4dCB0byBwcmV2ZW50IFBERiBlcnJvcnNcbiAgICAgICAgICBjb25zdCBzYW5pdGl6ZWRUZXh0ID0gdGV4dFxuICAgICAgICAgICAgLnJlcGxhY2UoL1tcXHUwMDAwLVxcdTAwMUZcXHUwMDdGLVxcdTAwOUZdL2csICcnKSAvLyBSZW1vdmUgY29udHJvbCBjaGFyYWN0ZXJzXG4gICAgICAgICAgICAucmVwbGFjZSgvW1xcdTIwMDAtXFx1MjA2RlxcdTJFMDAtXFx1MkU3RlxcdTMwMDAtXFx1MzAzRl0vZywgJyAnKSAvLyBSZXBsYWNlIHNwZWNpYWwgc3BhY2VzXG4gICAgICAgICAgICAudHJpbSgpXG5cbiAgICAgICAgICBpZiAoIXNhbml0aXplZFRleHQpIHtcbiAgICAgICAgICAgIGNvbnNvbGUud2FybignRW1wdHkgdGV4dCBhZnRlciBzYW5pdGl6YXRpb24sIHNraXBwaW5nJylcbiAgICAgICAgICAgIHJldHVyblxuICAgICAgICAgIH1cblxuICAgICAgICAgIGNvbnNvbGUubG9nKGBBZGRpbmcgdGV4dDogXCIke3Nhbml0aXplZFRleHQuc3Vic3RyaW5nKDAsIDUwKX0ke3Nhbml0aXplZFRleHQubGVuZ3RoID4gNTAgPyAnLi4uJyA6ICcnfVwiYClcblxuICAgICAgICAgIHBkZi5zZXRGb250U2l6ZShmb250U2l6ZSlcbiAgICAgICAgICBwZGYuc2V0Rm9udChcImhlbHZldGljYVwiLCBpc0JvbGQgPyBcImJvbGRcIiA6IFwibm9ybWFsXCIpXG5cbiAgICAgICAgICBjb25zdCBtYXhXaWR0aCA9IHBkZi5pbnRlcm5hbC5wYWdlU2l6ZS53aWR0aCAtIG1hcmdpbiAqIDIgLSBpbmRlbnRcbiAgICAgICAgICBjb25zdCBsaW5lcyA9IHBkZi5zcGxpdFRleHRUb1NpemUoc2FuaXRpemVkVGV4dCwgbWF4V2lkdGgpXG5cbiAgICAgICAgICBmb3IgKGNvbnN0IGxpbmUgb2YgbGluZXMpIHtcbiAgICAgICAgICAgIGlmICh5UG9zaXRpb24gPiBwYWdlSGVpZ2h0IC0gMzApIHtcbiAgICAgICAgICAgICAgcGRmLmFkZFBhZ2UoKVxuICAgICAgICAgICAgICB5UG9zaXRpb24gPSAyMFxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcGRmLnRleHQobGluZSwgbWFyZ2luICsgaW5kZW50LCB5UG9zaXRpb24pXG4gICAgICAgICAgICB5UG9zaXRpb24gKz0gbGluZUhlaWdodFxuICAgICAgICAgIH1cbiAgICAgICAgICB5UG9zaXRpb24gKz0gMyAvLyBFeHRyYSBzcGFjaW5nIGFmdGVyIHRleHQgYmxvY2tcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBhZGRpbmcgdGV4dCB0byBQREY6JywgZXJyb3IsICdUZXh0OicsIHRleHQpXG4gICAgICAgICAgdGhyb3cgZXJyb3JcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBjb25zdCBhZGRTZWN0aW9uID0gKHRpdGxlOiBzdHJpbmcsIGNvbnRlbnQ6ICgpID0+IHZvaWQpID0+IHtcbiAgICAgICAgaWYgKHlQb3NpdGlvbiA+IHBhZ2VIZWlnaHQgLSA1MCkge1xuICAgICAgICAgIHBkZi5hZGRQYWdlKClcbiAgICAgICAgICB5UG9zaXRpb24gPSAyMFxuICAgICAgICB9XG4gICAgICAgIGFkZFRleHQodGl0bGUsIEZPTlRfU0laRVMuU0VDVElPTl9IRUFERVIsIHRydWUpXG4gICAgICAgIHlQb3NpdGlvbiArPSA1XG4gICAgICAgIGNvbnRlbnQoKVxuICAgICAgICB5UG9zaXRpb24gKz0gMTBcbiAgICAgIH1cblxuICAgICAgLy8gVGl0bGUgYW5kIG1ldGFkYXRhXG4gICAgICBhZGRUZXh0KGxlc3NvbkRhdGEubGVzc29uVGl0bGUsIEZPTlRfU0laRVMuTEVTU09OX1RJVExFLCB0cnVlKVxuICAgICAgYWRkVGV4dChcbiAgICAgICAgYFRhcmdldCBMYW5ndWFnZTogJHtsZXNzb25EYXRhLnRhcmdldExhbmd1YWdlLmNoYXJBdCgwKS50b1VwcGVyQ2FzZSgpICsgbGVzc29uRGF0YS50YXJnZXRMYW5ndWFnZS5zbGljZSgxKX1gLFxuICAgICAgICBGT05UX1NJWkVTLlNVUFBMRU1FTlRBUlksXG4gICAgICApXG4gICAgICBhZGRUZXh0KGBHZW5lcmF0ZWQgb246ICR7dGhpcy5mb3JtYXREYXRlKCl9YCwgRk9OVF9TSVpFUy5TVVBQTEVNRU5UQVJZKVxuICAgICAgeVBvc2l0aW9uICs9IDEwXG5cbiAgICAgIC8vIEFkZCBzZWN0aW9ucyBiYXNlZCBvbiBlbmFibGVkIHN0YXRlXG4gICAgICBpZiAoZW5hYmxlZFNlY3Rpb25zLndhcm11cCAmJiBsZXNzb25EYXRhLnNlY3Rpb25zLndhcm11cCkge1xuICAgICAgICBhZGRTZWN0aW9uKFwiV2FybS11cCBRdWVzdGlvbnNcIiwgKCkgPT4ge1xuICAgICAgICAgIGNvbnN0IHdhcm11cFF1ZXN0aW9ucyA9IEFycmF5LmlzQXJyYXkobGVzc29uRGF0YS5zZWN0aW9ucy53YXJtdXApID8gbGVzc29uRGF0YS5zZWN0aW9ucy53YXJtdXAgOiBbXVxuICAgICAgICAgIHdhcm11cFF1ZXN0aW9ucy5mb3JFYWNoKChxdWVzdGlvbiwgaW5kZXgpID0+IHtcbiAgICAgICAgICAgIGFkZFRleHQoYCR7aW5kZXggKyAxfS4gJHtxdWVzdGlvbn1gLCBGT05UX1NJWkVTLk1BSU5fQ09OVEVOVCwgZmFsc2UsIDEwKVxuICAgICAgICAgIH0pXG4gICAgICAgIH0pXG4gICAgICB9XG5cbiAgICAgIGlmIChlbmFibGVkU2VjdGlvbnMudm9jYWJ1bGFyeSAmJiBsZXNzb25EYXRhLnNlY3Rpb25zLnZvY2FidWxhcnkpIHtcbiAgICAgICAgYWRkU2VjdGlvbihcIktleSBWb2NhYnVsYXJ5XCIsICgpID0+IHtcbiAgICAgICAgICBjb25zdCB2b2NhYnVsYXJ5SXRlbXMgPSBBcnJheS5pc0FycmF5KGxlc3NvbkRhdGEuc2VjdGlvbnMudm9jYWJ1bGFyeSkgPyBsZXNzb25EYXRhLnNlY3Rpb25zLnZvY2FidWxhcnkgOiBbXVxuICAgICAgICAgIHZvY2FidWxhcnlJdGVtcy5mb3JFYWNoKChpdGVtLCBpbmRleCkgPT4ge1xuICAgICAgICAgICAgYWRkVGV4dChgJHtpbmRleCArIDF9LiAke2l0ZW0ud29yZH1gLCBGT05UX1NJWkVTLk1BSU5fQ09OVEVOVCwgdHJ1ZSwgMTApXG4gICAgICAgICAgICBhZGRUZXh0KGAgICBNZWFuaW5nOiAke2l0ZW0ubWVhbmluZ31gLCBGT05UX1NJWkVTLk1BSU5fQ09OVEVOVCwgZmFsc2UsIDE1KVxuXG4gICAgICAgICAgICAvLyBIYW5kbGUgYm90aCBvbGQgZm9ybWF0IChleGFtcGxlKSBhbmQgbmV3IGZvcm1hdCAoZXhhbXBsZXMgYXJyYXkpXG4gICAgICAgICAgICBpZiAoaXRlbS5leGFtcGxlcyAmJiBBcnJheS5pc0FycmF5KGl0ZW0uZXhhbXBsZXMpICYmIGl0ZW0uZXhhbXBsZXMubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICBhZGRUZXh0KGAgICBFeGFtcGxlczpgLCBGT05UX1NJWkVTLklOU1RSVUNUSU9OUywgdHJ1ZSwgMTUpXG4gICAgICAgICAgICAgIGNvbnN0IGV4YW1wbGVzID0gQXJyYXkuaXNBcnJheShpdGVtLmV4YW1wbGVzKSA/IGl0ZW0uZXhhbXBsZXMgOiBbXVxuICAgICAgICAgICAgICBleGFtcGxlcy5mb3JFYWNoKChleGFtcGxlLCBleEluZGV4KSA9PiB7XG4gICAgICAgICAgICAgICAgYWRkVGV4dChgICAgJHtleEluZGV4ICsgMX0uIFwiJHtleGFtcGxlfVwiYCwgRk9OVF9TSVpFUy5TVVBQTEVNRU5UQVJZLCBmYWxzZSwgMjApXG4gICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICB9IGVsc2UgaWYgKGl0ZW0uZXhhbXBsZSkge1xuICAgICAgICAgICAgICBhZGRUZXh0KGAgICBFeGFtcGxlOiBcIiR7aXRlbS5leGFtcGxlfVwiYCwgRk9OVF9TSVpFUy5TVVBQTEVNRU5UQVJZLCBmYWxzZSwgMTUpXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB5UG9zaXRpb24gKz0gM1xuICAgICAgICAgIH0pXG4gICAgICAgIH0pXG4gICAgICB9XG5cbiAgICAgIGlmIChlbmFibGVkU2VjdGlvbnMucmVhZGluZyAmJiBsZXNzb25EYXRhLnNlY3Rpb25zLnJlYWRpbmcpIHtcbiAgICAgICAgYWRkU2VjdGlvbihcIlJlYWRpbmcgUGFzc2FnZVwiLCAoKSA9PiB7XG4gICAgICAgICAgYWRkVGV4dChsZXNzb25EYXRhLnNlY3Rpb25zLnJlYWRpbmcsIEZPTlRfU0laRVMuTUFJTl9DT05URU5ULCBmYWxzZSwgMTApXG4gICAgICAgIH0pXG4gICAgICB9XG5cbiAgICAgIGlmIChlbmFibGVkU2VjdGlvbnMuY29tcHJlaGVuc2lvbiAmJiBsZXNzb25EYXRhLnNlY3Rpb25zLmNvbXByZWhlbnNpb24pIHtcbiAgICAgICAgYWRkU2VjdGlvbihcIlJlYWRpbmcgQ29tcHJlaGVuc2lvblwiLCAoKSA9PiB7XG4gICAgICAgICAgY29uc3QgY29tcHJlaGVuc2lvblF1ZXN0aW9ucyA9IEFycmF5LmlzQXJyYXkobGVzc29uRGF0YS5zZWN0aW9ucy5jb21wcmVoZW5zaW9uKSA/IGxlc3NvbkRhdGEuc2VjdGlvbnMuY29tcHJlaGVuc2lvbiA6IFtdXG4gICAgICAgICAgY29tcHJlaGVuc2lvblF1ZXN0aW9ucy5mb3JFYWNoKChxdWVzdGlvbiwgaW5kZXgpID0+IHtcbiAgICAgICAgICAgIGFkZFRleHQoYCR7aW5kZXggKyAxfS4gJHtxdWVzdGlvbn1gLCBGT05UX1NJWkVTLk1BSU5fQ09OVEVOVCwgZmFsc2UsIDEwKVxuICAgICAgICAgIH0pXG4gICAgICAgIH0pXG4gICAgICB9XG5cbiAgICAgIGlmIChlbmFibGVkU2VjdGlvbnMuZGlzY3Vzc2lvbiAmJiBsZXNzb25EYXRhLnNlY3Rpb25zLmRpc2N1c3Npb24pIHtcbiAgICAgICAgYWRkU2VjdGlvbihcIkRpc2N1c3Npb24gUXVlc3Rpb25zXCIsICgpID0+IHtcbiAgICAgICAgICBjb25zdCBkaXNjdXNzaW9uUXVlc3Rpb25zID0gQXJyYXkuaXNBcnJheShsZXNzb25EYXRhLnNlY3Rpb25zLmRpc2N1c3Npb24pID8gbGVzc29uRGF0YS5zZWN0aW9ucy5kaXNjdXNzaW9uIDogW11cbiAgICAgICAgICBkaXNjdXNzaW9uUXVlc3Rpb25zLmZvckVhY2goKHF1ZXN0aW9uLCBpbmRleCkgPT4ge1xuICAgICAgICAgICAgYWRkVGV4dChgJHtpbmRleCArIDF9LiAke3F1ZXN0aW9ufWAsIEZPTlRfU0laRVMuTUFJTl9DT05URU5ULCBmYWxzZSwgMTApXG4gICAgICAgICAgfSlcbiAgICAgICAgfSlcbiAgICAgIH1cblxuICAgICAgaWYgKGVuYWJsZWRTZWN0aW9ucy5kaWFsb2d1ZVByYWN0aWNlICYmIGxlc3NvbkRhdGEuc2VjdGlvbnMuZGlhbG9ndWVQcmFjdGljZSkge1xuICAgICAgICBhZGRTZWN0aW9uKFwiRGlhbG9ndWUgUHJhY3RpY2VcIiwgKCkgPT4ge1xuICAgICAgICAgIGNvbnN0IGRpYWxvZ3VlU2VjdGlvbiA9IGxlc3NvbkRhdGEuc2VjdGlvbnMuZGlhbG9ndWVQcmFjdGljZSFcbiAgICAgICAgICBcbiAgICAgICAgICAvLyBBZGQgaW5zdHJ1Y3Rpb24gd2l0aCBsaWdodCBncmVlbiBiYWNrZ3JvdW5kIGNvbG9yXG4gICAgICAgICAgcGRmLnNldEZpbGxDb2xvcigyMzgsIDI0NywgMjIwKSAvLyAjRUVGN0RDXG4gICAgICAgICAgY29uc3QgaW5zdHJ1Y3Rpb25XaWR0aCA9IHBkZi5pbnRlcm5hbC5wYWdlU2l6ZS53aWR0aCAtIG1hcmdpbiAqIDIgLSAxMFxuICAgICAgICAgIGNvbnN0IGluc3RydWN0aW9uTGluZXMgPSBwZGYuc3BsaXRUZXh0VG9TaXplKGRpYWxvZ3VlU2VjdGlvbi5pbnN0cnVjdGlvbiwgaW5zdHJ1Y3Rpb25XaWR0aClcbiAgICAgICAgICBjb25zdCBpbnN0cnVjdGlvbkhlaWdodCA9IGluc3RydWN0aW9uTGluZXMubGVuZ3RoICogbGluZUhlaWdodCArIDZcbiAgICAgICAgICBwZGYucmVjdChtYXJnaW4gKyAxMCwgeVBvc2l0aW9uIC0gNCwgaW5zdHJ1Y3Rpb25XaWR0aCwgaW5zdHJ1Y3Rpb25IZWlnaHQsICdGJylcbiAgICAgICAgICBhZGRUZXh0KGRpYWxvZ3VlU2VjdGlvbi5pbnN0cnVjdGlvbiwgRk9OVF9TSVpFUy5JTlNUUlVDVElPTlMsIGZhbHNlLCAxMClcbiAgICAgICAgICB5UG9zaXRpb24gKz0gM1xuICAgICAgICAgIFxuICAgICAgICAgIC8vIEFkZCBkaWFsb2d1ZSBsaW5lcyB3aXRoIGNoYXJhY3RlciBuYW1lc1xuICAgICAgICAgIGNvbnN0IGRpYWxvZ3VlUHJhY3RpY2VMaW5lcyA9IEFycmF5LmlzQXJyYXkoZGlhbG9ndWVTZWN0aW9uLmRpYWxvZ3VlKSA/IGRpYWxvZ3VlU2VjdGlvbi5kaWFsb2d1ZSA6IFtdXG4gICAgICAgICAgZGlhbG9ndWVQcmFjdGljZUxpbmVzLmZvckVhY2goKGxpbmUpID0+IHtcbiAgICAgICAgICAgIC8vIENoYXJhY3RlciBuYW1lIGluIGJvbGQsIHRoZW4gbGluZVxuICAgICAgICAgICAgcGRmLnNldEZvbnRTaXplKEZPTlRfU0laRVMuTUFJTl9DT05URU5UKVxuICAgICAgICAgICAgcGRmLnNldEZvbnQoXCJoZWx2ZXRpY2FcIiwgXCJib2xkXCIpXG4gICAgICAgICAgICBjb25zdCBjaGFyV2lkdGggPSBwZGYuZ2V0VGV4dFdpZHRoKGAke2xpbmUuY2hhcmFjdGVyfTogYClcbiAgICAgICAgICAgIHBkZi50ZXh0KGAke2xpbmUuY2hhcmFjdGVyfTogYCwgbWFyZ2luICsgMTAsIHlQb3NpdGlvbilcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgcGRmLnNldEZvbnQoXCJoZWx2ZXRpY2FcIiwgXCJub3JtYWxcIilcbiAgICAgICAgICAgIGNvbnN0IG1heFdpZHRoID0gcGRmLmludGVybmFsLnBhZ2VTaXplLndpZHRoIC0gbWFyZ2luICogMiAtIDEwIC0gY2hhcldpZHRoXG4gICAgICAgICAgICBjb25zdCBsaW5lVGV4dCA9IHBkZi5zcGxpdFRleHRUb1NpemUobGluZS5saW5lLCBtYXhXaWR0aClcbiAgICAgICAgICAgIHBkZi50ZXh0KGxpbmVUZXh0WzBdLCBtYXJnaW4gKyAxMCArIGNoYXJXaWR0aCwgeVBvc2l0aW9uKVxuICAgICAgICAgICAgeVBvc2l0aW9uICs9IGxpbmVIZWlnaHRcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgLy8gSGFuZGxlIHdyYXBwZWQgbGluZXNcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAxOyBpIDwgbGluZVRleHQubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgaWYgKHlQb3NpdGlvbiA+IHBhZ2VIZWlnaHQgLSAzMCkge1xuICAgICAgICAgICAgICAgIHBkZi5hZGRQYWdlKClcbiAgICAgICAgICAgICAgICB5UG9zaXRpb24gPSAyMFxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIHBkZi50ZXh0KGxpbmVUZXh0W2ldLCBtYXJnaW4gKyAxMCArIGNoYXJXaWR0aCwgeVBvc2l0aW9uKVxuICAgICAgICAgICAgICB5UG9zaXRpb24gKz0gbGluZUhlaWdodFxuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pXG4gICAgICAgICAgXG4gICAgICAgICAgaWYgKGRpYWxvZ3VlU2VjdGlvbi5mb2xsb3dVcFF1ZXN0aW9ucyAmJiBkaWFsb2d1ZVNlY3Rpb24uZm9sbG93VXBRdWVzdGlvbnMubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgeVBvc2l0aW9uICs9IDVcbiAgICAgICAgICAgIGFkZFRleHQoXCJGb2xsb3ctdXAgUXVlc3Rpb25zOlwiLCBGT05UX1NJWkVTLklOU1RSVUNUSU9OUywgdHJ1ZSwgMTApXG4gICAgICAgICAgICBjb25zdCBmb2xsb3dVcFF1ZXN0aW9ucyA9IEFycmF5LmlzQXJyYXkoZGlhbG9ndWVTZWN0aW9uLmZvbGxvd1VwUXVlc3Rpb25zKSA/IGRpYWxvZ3VlU2VjdGlvbi5mb2xsb3dVcFF1ZXN0aW9ucyA6IFtdXG4gICAgICAgICAgICBmb2xsb3dVcFF1ZXN0aW9ucy5mb3JFYWNoKChxdWVzdGlvbiwgaW5kZXgpID0+IHtcbiAgICAgICAgICAgICAgYWRkVGV4dChgJHtpbmRleCArIDF9LiAke3F1ZXN0aW9ufWAsIEZPTlRfU0laRVMuTUFJTl9DT05URU5ULCBmYWxzZSwgMTUpXG4gICAgICAgICAgICB9KVxuICAgICAgICAgIH1cbiAgICAgICAgfSlcbiAgICAgIH1cblxuICAgICAgaWYgKGVuYWJsZWRTZWN0aW9ucy5kaWFsb2d1ZUZpbGxHYXAgJiYgbGVzc29uRGF0YS5zZWN0aW9ucy5kaWFsb2d1ZUZpbGxHYXApIHtcbiAgICAgICAgYWRkU2VjdGlvbihcIkRpYWxvZ3VlIEZpbGwtaW4tdGhlLUdhcFwiLCAoKSA9PiB7XG4gICAgICAgICAgY29uc3QgZGlhbG9ndWVTZWN0aW9uID0gbGVzc29uRGF0YS5zZWN0aW9ucy5kaWFsb2d1ZUZpbGxHYXAhXG4gICAgICAgICAgXG4gICAgICAgICAgLy8gQWRkIGluc3RydWN0aW9uIHdpdGggbGlnaHQgYmx1ZSBiYWNrZ3JvdW5kIGNvbG9yXG4gICAgICAgICAgcGRmLnNldEZpbGxDb2xvcigyNDEsIDI1MCwgMjU1KSAvLyAjRjFGQUZGXG4gICAgICAgICAgY29uc3QgaW5zdHJ1Y3Rpb25XaWR0aCA9IHBkZi5pbnRlcm5hbC5wYWdlU2l6ZS53aWR0aCAtIG1hcmdpbiAqIDIgLSAxMFxuICAgICAgICAgIGNvbnN0IGluc3RydWN0aW9uTGluZXMgPSBwZGYuc3BsaXRUZXh0VG9TaXplKGRpYWxvZ3VlU2VjdGlvbi5pbnN0cnVjdGlvbiwgaW5zdHJ1Y3Rpb25XaWR0aClcbiAgICAgICAgICBjb25zdCBpbnN0cnVjdGlvbkhlaWdodCA9IGluc3RydWN0aW9uTGluZXMubGVuZ3RoICogbGluZUhlaWdodCArIDZcbiAgICAgICAgICBwZGYucmVjdChtYXJnaW4gKyAxMCwgeVBvc2l0aW9uIC0gNCwgaW5zdHJ1Y3Rpb25XaWR0aCwgaW5zdHJ1Y3Rpb25IZWlnaHQsICdGJylcbiAgICAgICAgICBhZGRUZXh0KGRpYWxvZ3VlU2VjdGlvbi5pbnN0cnVjdGlvbiwgRk9OVF9TSVpFUy5JTlNUUlVDVElPTlMsIGZhbHNlLCAxMClcbiAgICAgICAgICB5UG9zaXRpb24gKz0gM1xuICAgICAgICAgIFxuICAgICAgICAgIC8vIEFkZCBkaWFsb2d1ZSBsaW5lcyB3aXRoIGNoYXJhY3RlciBuYW1lc1xuICAgICAgICAgIGNvbnN0IGRpYWxvZ3VlRmlsbEdhcExpbmVzID0gQXJyYXkuaXNBcnJheShkaWFsb2d1ZVNlY3Rpb24uZGlhbG9ndWUpID8gZGlhbG9ndWVTZWN0aW9uLmRpYWxvZ3VlIDogW11cbiAgICAgICAgICBkaWFsb2d1ZUZpbGxHYXBMaW5lcy5mb3JFYWNoKChsaW5lKSA9PiB7XG4gICAgICAgICAgICAvLyBDaGFyYWN0ZXIgbmFtZSBpbiBib2xkLCB0aGVuIGxpbmVcbiAgICAgICAgICAgIHBkZi5zZXRGb250U2l6ZShGT05UX1NJWkVTLk1BSU5fQ09OVEVOVClcbiAgICAgICAgICAgIHBkZi5zZXRGb250KFwiaGVsdmV0aWNhXCIsIFwiYm9sZFwiKVxuICAgICAgICAgICAgY29uc3QgY2hhcldpZHRoID0gcGRmLmdldFRleHRXaWR0aChgJHtsaW5lLmNoYXJhY3Rlcn06IGApXG4gICAgICAgICAgICBwZGYudGV4dChgJHtsaW5lLmNoYXJhY3Rlcn06IGAsIG1hcmdpbiArIDEwLCB5UG9zaXRpb24pXG4gICAgICAgICAgICBcbiAgICAgICAgICAgIHBkZi5zZXRGb250KFwiaGVsdmV0aWNhXCIsIFwibm9ybWFsXCIpXG4gICAgICAgICAgICBjb25zdCBtYXhXaWR0aCA9IHBkZi5pbnRlcm5hbC5wYWdlU2l6ZS53aWR0aCAtIG1hcmdpbiAqIDIgLSAxMCAtIGNoYXJXaWR0aFxuICAgICAgICAgICAgY29uc3QgbGluZVRleHQgPSBwZGYuc3BsaXRUZXh0VG9TaXplKGxpbmUubGluZSwgbWF4V2lkdGgpXG4gICAgICAgICAgICBwZGYudGV4dChsaW5lVGV4dFswXSwgbWFyZ2luICsgMTAgKyBjaGFyV2lkdGgsIHlQb3NpdGlvbilcbiAgICAgICAgICAgIHlQb3NpdGlvbiArPSBsaW5lSGVpZ2h0XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIC8vIEhhbmRsZSB3cmFwcGVkIGxpbmVzXG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMTsgaSA8IGxpbmVUZXh0Lmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgIGlmICh5UG9zaXRpb24gPiBwYWdlSGVpZ2h0IC0gMzApIHtcbiAgICAgICAgICAgICAgICBwZGYuYWRkUGFnZSgpXG4gICAgICAgICAgICAgICAgeVBvc2l0aW9uID0gMjBcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBwZGYudGV4dChsaW5lVGV4dFtpXSwgbWFyZ2luICsgMTAgKyBjaGFyV2lkdGgsIHlQb3NpdGlvbilcbiAgICAgICAgICAgICAgeVBvc2l0aW9uICs9IGxpbmVIZWlnaHRcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KVxuICAgICAgICAgIFxuICAgICAgICAgIGlmIChkaWFsb2d1ZVNlY3Rpb24uYW5zd2VycyAmJiBkaWFsb2d1ZVNlY3Rpb24uYW5zd2Vycy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICB5UG9zaXRpb24gKz0gNVxuICAgICAgICAgICAgYWRkVGV4dChcIkFuc3dlciBLZXk6XCIsIEZPTlRfU0laRVMuSU5TVFJVQ1RJT05TLCB0cnVlLCAxMClcbiAgICAgICAgICAgIGFkZFRleHQoZGlhbG9ndWVTZWN0aW9uLmFuc3dlcnMuam9pbignLCAnKSwgRk9OVF9TSVpFUy5TVVBQTEVNRU5UQVJZLCBmYWxzZSwgMTUpXG4gICAgICAgICAgfVxuICAgICAgICB9KVxuICAgICAgfVxuXG4gICAgICBpZiAoZW5hYmxlZFNlY3Rpb25zLmdyYW1tYXIgJiYgbGVzc29uRGF0YS5zZWN0aW9ucy5ncmFtbWFyKSB7XG4gICAgICAgIGFkZFNlY3Rpb24oXCJHcmFtbWFyIEZvY3VzXCIsICgpID0+IHtcbiAgICAgICAgICBhZGRUZXh0KGBGb2N1czogJHtsZXNzb25EYXRhLnNlY3Rpb25zLmdyYW1tYXIuZm9jdXN9YCwgRk9OVF9TSVpFUy5NQUlOX0NPTlRFTlQsIHRydWUsIDEwKVxuICAgICAgICAgIHlQb3NpdGlvbiArPSAzXG4gICAgICAgICAgYWRkVGV4dChcIkV4YW1wbGVzOlwiLCBGT05UX1NJWkVTLklOU1RSVUNUSU9OUywgdHJ1ZSwgMTApXG4gICAgICAgICAgY29uc3QgZ3JhbW1hckV4YW1wbGVzID0gQXJyYXkuaXNBcnJheShsZXNzb25EYXRhLnNlY3Rpb25zLmdyYW1tYXIuZXhhbXBsZXMpID8gbGVzc29uRGF0YS5zZWN0aW9ucy5ncmFtbWFyLmV4YW1wbGVzIDogW11cbiAgICAgICAgICBncmFtbWFyRXhhbXBsZXMuZm9yRWFjaCgoZXhhbXBsZSwgaW5kZXgpID0+IHtcbiAgICAgICAgICAgIGFkZFRleHQoYOKAoiAke2V4YW1wbGV9YCwgRk9OVF9TSVpFUy5TVVBQTEVNRU5UQVJZLCBmYWxzZSwgMTUpXG4gICAgICAgICAgfSlcbiAgICAgICAgICB5UG9zaXRpb24gKz0gM1xuICAgICAgICAgIGFkZFRleHQoXCJQcmFjdGljZSBFeGVyY2lzZTpcIiwgRk9OVF9TSVpFUy5JTlNUUlVDVElPTlMsIHRydWUsIDEwKVxuICAgICAgICAgIGNvbnN0IGdyYW1tYXJFeGVyY2lzZXMgPSBBcnJheS5pc0FycmF5KGxlc3NvbkRhdGEuc2VjdGlvbnMuZ3JhbW1hci5leGVyY2lzZSkgPyBsZXNzb25EYXRhLnNlY3Rpb25zLmdyYW1tYXIuZXhlcmNpc2UgOiBbXVxuICAgICAgICAgIGdyYW1tYXJFeGVyY2lzZXMuZm9yRWFjaCgoZXhlcmNpc2UsIGluZGV4KSA9PiB7XG4gICAgICAgICAgICBhZGRUZXh0KGAke2luZGV4ICsgMX0uICR7ZXhlcmNpc2V9YCwgRk9OVF9TSVpFUy5NQUlOX0NPTlRFTlQsIGZhbHNlLCAxNSlcbiAgICAgICAgICB9KVxuICAgICAgICB9KVxuICAgICAgfVxuXG4gICAgICBpZiAoZW5hYmxlZFNlY3Rpb25zLnByb251bmNpYXRpb24gJiYgbGVzc29uRGF0YS5zZWN0aW9ucy5wcm9udW5jaWF0aW9uKSB7XG4gICAgICAgIGFkZFNlY3Rpb24oXCJQcm9udW5jaWF0aW9uIFByYWN0aWNlXCIsICgpID0+IHtcbiAgICAgICAgICBhZGRUZXh0KGBXb3JkOiAke2xlc3NvbkRhdGEuc2VjdGlvbnMucHJvbnVuY2lhdGlvbi53b3JkfWAsIEZPTlRfU0laRVMuTUFJTl9DT05URU5ULCB0cnVlLCAxMClcbiAgICAgICAgICBhZGRUZXh0KGBJUEE6ICR7bGVzc29uRGF0YS5zZWN0aW9ucy5wcm9udW5jaWF0aW9uLmlwYX1gLCBGT05UX1NJWkVTLlNVUFBMRU1FTlRBUlksIGZhbHNlLCAxMClcbiAgICAgICAgICBhZGRUZXh0KGBQcmFjdGljZTogXCIke2xlc3NvbkRhdGEuc2VjdGlvbnMucHJvbnVuY2lhdGlvbi5wcmFjdGljZX1cImAsIEZPTlRfU0laRVMuTUFJTl9DT05URU5ULCBmYWxzZSwgMTApXG4gICAgICAgIH0pXG4gICAgICB9XG5cbiAgICAgIGlmIChlbmFibGVkU2VjdGlvbnMud3JhcHVwICYmIGxlc3NvbkRhdGEuc2VjdGlvbnMud3JhcHVwKSB7XG4gICAgICAgIGFkZFNlY3Rpb24oXCJMZXNzb24gV3JhcC11cFwiLCAoKSA9PiB7XG4gICAgICAgICAgY29uc3Qgd3JhcHVwUXVlc3Rpb25zID0gQXJyYXkuaXNBcnJheShsZXNzb25EYXRhLnNlY3Rpb25zLndyYXB1cCkgPyBsZXNzb25EYXRhLnNlY3Rpb25zLndyYXB1cCA6IFtdXG4gICAgICAgICAgd3JhcHVwUXVlc3Rpb25zLmZvckVhY2goKHF1ZXN0aW9uLCBpbmRleCkgPT4ge1xuICAgICAgICAgICAgYWRkVGV4dChgJHtpbmRleCArIDF9LiAke3F1ZXN0aW9ufWAsIEZPTlRfU0laRVMuTUFJTl9DT05URU5ULCBmYWxzZSwgMTApXG4gICAgICAgICAgfSlcbiAgICAgICAgfSlcbiAgICAgIH1cblxuICAgICAgLy8gRm9vdGVyXG4gICAgICBjb25zdCBwYWdlQ291bnQgPSAocGRmIGFzIGFueSkuaW50ZXJuYWwuZ2V0TnVtYmVyT2ZQYWdlcygpXG4gICAgICBmb3IgKGxldCBpID0gMTsgaSA8PSBwYWdlQ291bnQ7IGkrKykge1xuICAgICAgICBwZGYuc2V0UGFnZShpKVxuICAgICAgICBwZGYuc2V0Rm9udFNpemUoOClcbiAgICAgICAgcGRmLnNldEZvbnQoXCJoZWx2ZXRpY2FcIiwgXCJub3JtYWxcIilcbiAgICAgICAgcGRmLnRleHQoYEdlbmVyYXRlZCBieSBMaW5ndWFTcGFyayAtIFBhZ2UgJHtpfSBvZiAke3BhZ2VDb3VudH1gLCBtYXJnaW4sIHBhZ2VIZWlnaHQgLSAxMClcbiAgICAgIH1cblxuICAgICAgLy8gRG93bmxvYWQgdGhlIFBERlxuICAgICAgdHJ5IHtcbiAgICAgICAgY29uc3QgZmlsZU5hbWUgPSBgJHtsZXNzb25EYXRhLmxlc3NvblR5cGV9LWxlc3Nvbi0ke2xlc3NvbkRhdGEuc3R1ZGVudExldmVsfS0ke0RhdGUubm93KCl9LnBkZmBcbiAgICAgICAgY29uc29sZS5sb2coJ1NhdmluZyBQREYgd2l0aCBmaWxlbmFtZTonLCBmaWxlTmFtZSlcbiAgICAgICAgcGRmLnNhdmUoZmlsZU5hbWUpXG4gICAgICAgIGNvbnNvbGUubG9nKCdQREYgZXhwb3J0IGNvbXBsZXRlZCBzdWNjZXNzZnVsbHknKVxuICAgICAgfSBjYXRjaCAoc2F2ZUVycm9yKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIHNhdmluZyBQREY6Jywgc2F2ZUVycm9yKVxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYEZhaWxlZCB0byBzYXZlIFBERjogJHtzYXZlRXJyb3IgaW5zdGFuY2VvZiBFcnJvciA/IHNhdmVFcnJvci5tZXNzYWdlIDogJ1Vua25vd24gc2F2ZSBlcnJvcid9YClcbiAgICAgIH1cbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcignUERGIGV4cG9ydCBlcnJvcjonLCBlcnJvcilcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIHN0YWNrOicsIGVycm9yIGluc3RhbmNlb2YgRXJyb3IgPyBlcnJvci5zdGFjayA6ICdObyBzdGFjayB0cmFjZScpXG4gICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBkZXRhaWxzOicsIHtcbiAgICAgICAgbmFtZTogZXJyb3IgaW5zdGFuY2VvZiBFcnJvciA/IGVycm9yLm5hbWUgOiAnVW5rbm93bicsXG4gICAgICAgIG1lc3NhZ2U6IGVycm9yIGluc3RhbmNlb2YgRXJyb3IgPyBlcnJvci5tZXNzYWdlIDogJ1Vua25vd24gZXJyb3InLFxuICAgICAgICBsZXNzb25EYXRhS2V5czogbGVzc29uRGF0YSA/IE9iamVjdC5rZXlzKGxlc3NvbkRhdGEpIDogJ05vIGxlc3NvbiBkYXRhJyxcbiAgICAgICAgc2VjdGlvbnNLZXlzOiBsZXNzb25EYXRhPy5zZWN0aW9ucyA/IE9iamVjdC5rZXlzKGxlc3NvbkRhdGEuc2VjdGlvbnMpIDogJ05vIHNlY3Rpb25zJyxcbiAgICAgICAgZW5hYmxlZFNlY3Rpb25zS2V5czogZW5hYmxlZFNlY3Rpb25zID8gT2JqZWN0LmtleXMoZW5hYmxlZFNlY3Rpb25zKSA6ICdObyBlbmFibGVkIHNlY3Rpb25zJ1xuICAgICAgfSlcbiAgICAgIHRocm93IG5ldyBFcnJvcihgUERGIGV4cG9ydCBmYWlsZWQ6ICR7ZXJyb3IgaW5zdGFuY2VvZiBFcnJvciA/IGVycm9yLm1lc3NhZ2UgOiAnVW5rbm93biBlcnJvcid9YClcbiAgICB9XG4gIH1cblxuICBhc3luYyBleHBvcnRUb1dvcmQobGVzc29uRGF0YTogTGVzc29uRGF0YSwgZW5hYmxlZFNlY3Rpb25zOiBSZWNvcmQ8c3RyaW5nLCBib29sZWFuPik6IFByb21pc2U8dm9pZD4ge1xuICAgIHRyeSB7XG4gICAgICBjb25zb2xlLmxvZygnU3RhcnRpbmcgV29yZCBleHBvcnQgd2l0aCBkYXRhOicsIHsgbGVzc29uRGF0YSwgZW5hYmxlZFNlY3Rpb25zIH0pXG4gICAgICB0aGlzLnZhbGlkYXRlTGVzc29uRGF0YShsZXNzb25EYXRhKVxuXG4gICAgICAvLyBBZGRpdGlvbmFsIHZhbGlkYXRpb24gZm9yIGVuYWJsZWQgc2VjdGlvbnNcbiAgICAgIGlmICghZW5hYmxlZFNlY3Rpb25zIHx8IE9iamVjdC5rZXlzKGVuYWJsZWRTZWN0aW9ucykubGVuZ3RoID09PSAwKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignTm8gc2VjdGlvbnMgZW5hYmxlZCBmb3IgZXhwb3J0JylcbiAgICAgIH1cblxuICAgICAgY29uc3QgY2hpbGRyZW46IGFueVtdID0gW11cblxuICAgICAgLy8gVHlwb2dyYXBoeSBoaWVyYXJjaHkgY29uc3RhbnRzIChpbiBoYWxmLXBvaW50cyBmb3IgV29yZCAtIG11bHRpcGx5IGJ5IDIpXG4gICAgICAvLyAzMnB4ID0gMjRwdCwgMjhweCA9IDIxcHQsIDE2cHggPSAxMnB0LCAxNXB4ID0gMTEuMjVwdCwgMTRweCA9IDEwLjVwdFxuICAgICAgY29uc3QgV09SRF9GT05UX1NJWkVTID0ge1xuICAgICAgICBMRVNTT05fVElUTEU6IDQ4LCAgICAgIC8vIDI0cHQgKDMycHggZXF1aXZhbGVudClcbiAgICAgICAgU0VDVElPTl9IRUFERVI6IDQyLCAgICAvLyAyMXB0ICgyOHB4IGVxdWl2YWxlbnQpICBcbiAgICAgICAgTUFJTl9DT05URU5UOiAyNCwgICAgICAvLyAxMnB0ICgxNnB4IGVxdWl2YWxlbnQpXG4gICAgICAgIElOU1RSVUNUSU9OUzogMjMsICAgICAgLy8gMTEuNXB0ICgxNXB4IGVxdWl2YWxlbnQpXG4gICAgICAgIFNVUFBMRU1FTlRBUlk6IDIxICAgICAgLy8gMTAuNXB0ICgxNHB4IGVxdWl2YWxlbnQpXG4gICAgICB9XG5cbiAgICAgIC8vIFRpdGxlIGFuZCBtZXRhZGF0YVxuICAgICAgY2hpbGRyZW4ucHVzaChcbiAgICAgICAgbmV3IFBhcmFncmFwaCh7XG4gICAgICAgICAgY2hpbGRyZW46IFtcbiAgICAgICAgICAgIG5ldyBUZXh0UnVuKHtcbiAgICAgICAgICAgICAgdGV4dDogbGVzc29uRGF0YS5sZXNzb25UaXRsZSxcbiAgICAgICAgICAgICAgYm9sZDogdHJ1ZSxcbiAgICAgICAgICAgICAgc2l6ZTogV09SRF9GT05UX1NJWkVTLkxFU1NPTl9USVRMRSxcbiAgICAgICAgICAgIH0pLFxuICAgICAgICAgIF0sXG4gICAgICAgICAgaGVhZGluZzogSGVhZGluZ0xldmVsLlRJVExFLFxuICAgICAgICAgIGFsaWdubWVudDogQWxpZ25tZW50VHlwZS5DRU5URVIsXG4gICAgICAgICAgc3BhY2luZzogeyBhZnRlcjogNDAwIH0sXG4gICAgICAgIH0pLFxuICAgICAgKVxuXG4gICAgICBjaGlsZHJlbi5wdXNoKFxuICAgICAgICBuZXcgUGFyYWdyYXBoKHtcbiAgICAgICAgICBjaGlsZHJlbjogW1xuICAgICAgICAgICAgbmV3IFRleHRSdW4oe1xuICAgICAgICAgICAgICB0ZXh0OiBgVGFyZ2V0IExhbmd1YWdlOiAke2xlc3NvbkRhdGEudGFyZ2V0TGFuZ3VhZ2UuY2hhckF0KDApLnRvVXBwZXJDYXNlKCkgKyBsZXNzb25EYXRhLnRhcmdldExhbmd1YWdlLnNsaWNlKDEpfWAsXG4gICAgICAgICAgICAgIHNpemU6IFdPUkRfRk9OVF9TSVpFUy5TVVBQTEVNRU5UQVJZLFxuICAgICAgICAgICAgfSksXG4gICAgICAgICAgXSxcbiAgICAgICAgICBzcGFjaW5nOiB7IGFmdGVyOiAyMDAgfSxcbiAgICAgICAgfSksXG4gICAgICApXG5cbiAgICAgIGNoaWxkcmVuLnB1c2goXG4gICAgICAgIG5ldyBQYXJhZ3JhcGgoe1xuICAgICAgICAgIGNoaWxkcmVuOiBbXG4gICAgICAgICAgICBuZXcgVGV4dFJ1bih7XG4gICAgICAgICAgICAgIHRleHQ6IGBHZW5lcmF0ZWQgb246ICR7dGhpcy5mb3JtYXREYXRlKCl9YCxcbiAgICAgICAgICAgICAgc2l6ZTogV09SRF9GT05UX1NJWkVTLlNVUFBMRU1FTlRBUlksXG4gICAgICAgICAgICB9KSxcbiAgICAgICAgICBdLFxuICAgICAgICAgIHNwYWNpbmc6IHsgYWZ0ZXI6IDQwMCB9LFxuICAgICAgICB9KSxcbiAgICAgIClcblxuICAgICAgLy8gSGVscGVyIGZ1bmN0aW9uIHRvIGFkZCBzZWN0aW9uXG4gICAgICBjb25zdCBhZGRTZWN0aW9uID0gKHRpdGxlOiBzdHJpbmcsIGNvbnRlbnQ6IGFueVtdKSA9PiB7XG4gICAgICAgIGNoaWxkcmVuLnB1c2goXG4gICAgICAgICAgbmV3IFBhcmFncmFwaCh7XG4gICAgICAgICAgICBjaGlsZHJlbjogW1xuICAgICAgICAgICAgICBuZXcgVGV4dFJ1bih7XG4gICAgICAgICAgICAgICAgdGV4dDogdGl0bGUsXG4gICAgICAgICAgICAgICAgYm9sZDogdHJ1ZSxcbiAgICAgICAgICAgICAgICBzaXplOiBXT1JEX0ZPTlRfU0laRVMuU0VDVElPTl9IRUFERVIsXG4gICAgICAgICAgICAgICAgdW5kZXJsaW5lOiB7IHR5cGU6IFVuZGVybGluZVR5cGUuU0lOR0xFIH0sXG4gICAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgXSxcbiAgICAgICAgICAgIGhlYWRpbmc6IEhlYWRpbmdMZXZlbC5IRUFESU5HXzIsXG4gICAgICAgICAgICBzcGFjaW5nOiB7IGJlZm9yZTogNDAwLCBhZnRlcjogMjAwIH0sXG4gICAgICAgICAgfSksXG4gICAgICAgIClcbiAgICAgICAgY2hpbGRyZW4ucHVzaCguLi5jb250ZW50KVxuICAgICAgfVxuXG4gICAgICAvLyBBZGQgc2VjdGlvbnMgYmFzZWQgb24gZW5hYmxlZCBzdGF0ZVxuICAgICAgaWYgKGVuYWJsZWRTZWN0aW9ucy53YXJtdXAgJiYgbGVzc29uRGF0YS5zZWN0aW9ucy53YXJtdXApIHtcbiAgICAgICAgY29uc3Qgd2FybXVwUXVlc3Rpb25zID0gQXJyYXkuaXNBcnJheShsZXNzb25EYXRhLnNlY3Rpb25zLndhcm11cCkgPyBsZXNzb25EYXRhLnNlY3Rpb25zLndhcm11cCA6IFtdXG4gICAgICAgIGNvbnN0IHdhcm11cENvbnRlbnQgPSB3YXJtdXBRdWVzdGlvbnMubWFwKFxuICAgICAgICAgIChxdWVzdGlvbiwgaW5kZXgpID0+XG4gICAgICAgICAgICBuZXcgUGFyYWdyYXBoKHtcbiAgICAgICAgICAgICAgY2hpbGRyZW46IFtcbiAgICAgICAgICAgICAgICBuZXcgVGV4dFJ1bih7XG4gICAgICAgICAgICAgICAgICB0ZXh0OiBgJHtpbmRleCArIDF9LiAke3F1ZXN0aW9ufWAsXG4gICAgICAgICAgICAgICAgICBzaXplOiBXT1JEX0ZPTlRfU0laRVMuTUFJTl9DT05URU5ULFxuICAgICAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgICBdLFxuICAgICAgICAgICAgICBzcGFjaW5nOiB7IGFmdGVyOiAxNTAgfSxcbiAgICAgICAgICAgIH0pLFxuICAgICAgICApXG4gICAgICAgIGFkZFNlY3Rpb24oXCJXYXJtLXVwIFF1ZXN0aW9uc1wiLCB3YXJtdXBDb250ZW50KVxuICAgICAgfVxuXG4gICAgICBpZiAoZW5hYmxlZFNlY3Rpb25zLnZvY2FidWxhcnkgJiYgbGVzc29uRGF0YS5zZWN0aW9ucy52b2NhYnVsYXJ5KSB7XG4gICAgICAgIGNvbnN0IHZvY2FiQ29udGVudDogYW55W10gPSBbXVxuICAgICAgICBjb25zdCB2b2NhYnVsYXJ5SXRlbXMgPSBBcnJheS5pc0FycmF5KGxlc3NvbkRhdGEuc2VjdGlvbnMudm9jYWJ1bGFyeSkgPyBsZXNzb25EYXRhLnNlY3Rpb25zLnZvY2FidWxhcnkgOiBbXVxuICAgICAgICB2b2NhYnVsYXJ5SXRlbXMuZm9yRWFjaCgoaXRlbSwgaW5kZXgpID0+IHtcbiAgICAgICAgICB2b2NhYkNvbnRlbnQucHVzaChcbiAgICAgICAgICAgIG5ldyBQYXJhZ3JhcGgoe1xuICAgICAgICAgICAgICBjaGlsZHJlbjogW1xuICAgICAgICAgICAgICAgIG5ldyBUZXh0UnVuKHtcbiAgICAgICAgICAgICAgICAgIHRleHQ6IGAke2luZGV4ICsgMX0uICR7aXRlbS53b3JkfWAsXG4gICAgICAgICAgICAgICAgICBib2xkOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgc2l6ZTogV09SRF9GT05UX1NJWkVTLk1BSU5fQ09OVEVOVCxcbiAgICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgICAgXSxcbiAgICAgICAgICAgICAgc3BhY2luZzogeyBhZnRlcjogMTAwIH0sXG4gICAgICAgICAgICB9KSxcbiAgICAgICAgICApXG4gICAgICAgICAgdm9jYWJDb250ZW50LnB1c2goXG4gICAgICAgICAgICBuZXcgUGFyYWdyYXBoKHtcbiAgICAgICAgICAgICAgY2hpbGRyZW46IFtcbiAgICAgICAgICAgICAgICBuZXcgVGV4dFJ1bih7XG4gICAgICAgICAgICAgICAgICB0ZXh0OiBgICAgTWVhbmluZzogJHtpdGVtLm1lYW5pbmd9YCxcbiAgICAgICAgICAgICAgICAgIHNpemU6IFdPUkRfRk9OVF9TSVpFUy5NQUlOX0NPTlRFTlQsXG4gICAgICAgICAgICAgICAgfSksXG4gICAgICAgICAgICAgIF0sXG4gICAgICAgICAgICAgIHNwYWNpbmc6IHsgYWZ0ZXI6IDEwMCB9LFxuICAgICAgICAgICAgfSksXG4gICAgICAgICAgKVxuXG4gICAgICAgICAgLy8gSGFuZGxlIGJvdGggb2xkIGZvcm1hdCAoZXhhbXBsZSkgYW5kIG5ldyBmb3JtYXQgKGV4YW1wbGVzIGFycmF5KVxuICAgICAgICAgIGlmIChpdGVtLmV4YW1wbGVzICYmIEFycmF5LmlzQXJyYXkoaXRlbS5leGFtcGxlcykgJiYgaXRlbS5leGFtcGxlcy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICB2b2NhYkNvbnRlbnQucHVzaChcbiAgICAgICAgICAgICAgbmV3IFBhcmFncmFwaCh7XG4gICAgICAgICAgICAgICAgY2hpbGRyZW46IFtcbiAgICAgICAgICAgICAgICAgIG5ldyBUZXh0UnVuKHtcbiAgICAgICAgICAgICAgICAgICAgdGV4dDogYCAgIEV4YW1wbGVzOmAsXG4gICAgICAgICAgICAgICAgICAgIHNpemU6IFdPUkRfRk9OVF9TSVpFUy5JTlNUUlVDVElPTlMsXG4gICAgICAgICAgICAgICAgICAgIGJvbGQ6IHRydWUsXG4gICAgICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgICAgICBdLFxuICAgICAgICAgICAgICAgIHNwYWNpbmc6IHsgYWZ0ZXI6IDEwMCB9LFxuICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgIClcbiAgICAgICAgICAgIC8vIEFkZGl0aW9uYWwgc2FmZXR5IGNoZWNrIGJlZm9yZSBmb3JFYWNoXG4gICAgICAgICAgICBjb25zdCBleGFtcGxlcyA9IEFycmF5LmlzQXJyYXkoaXRlbS5leGFtcGxlcykgPyBpdGVtLmV4YW1wbGVzIDogW11cbiAgICAgICAgICAgIGV4YW1wbGVzLmZvckVhY2goKGV4YW1wbGUsIGV4SW5kZXgpID0+IHtcbiAgICAgICAgICAgICAgdm9jYWJDb250ZW50LnB1c2goXG4gICAgICAgICAgICAgICAgbmV3IFBhcmFncmFwaCh7XG4gICAgICAgICAgICAgICAgICBjaGlsZHJlbjogW1xuICAgICAgICAgICAgICAgICAgICBuZXcgVGV4dFJ1bih7XG4gICAgICAgICAgICAgICAgICAgICAgdGV4dDogYCAgICAgICR7ZXhJbmRleCArIDF9LiBcIiR7ZXhhbXBsZX1cImAsXG4gICAgICAgICAgICAgICAgICAgICAgc2l6ZTogV09SRF9GT05UX1NJWkVTLlNVUFBMRU1FTlRBUlksXG4gICAgICAgICAgICAgICAgICAgICAgaXRhbGljczogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgfSksXG4gICAgICAgICAgICAgICAgICBdLFxuICAgICAgICAgICAgICAgICAgc3BhY2luZzogeyBhZnRlcjogMTAwIH0sXG4gICAgICAgICAgICAgICAgfSksXG4gICAgICAgICAgICAgIClcbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgICB2b2NhYkNvbnRlbnQucHVzaChcbiAgICAgICAgICAgICAgbmV3IFBhcmFncmFwaCh7XG4gICAgICAgICAgICAgICAgY2hpbGRyZW46IFtuZXcgVGV4dFJ1bih7IHRleHQ6IFwiXCIgfSldLFxuICAgICAgICAgICAgICAgIHNwYWNpbmc6IHsgYWZ0ZXI6IDEwMCB9LFxuICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgIClcbiAgICAgICAgICB9IGVsc2UgaWYgKGl0ZW0uZXhhbXBsZSkge1xuICAgICAgICAgICAgdm9jYWJDb250ZW50LnB1c2goXG4gICAgICAgICAgICAgIG5ldyBQYXJhZ3JhcGgoe1xuICAgICAgICAgICAgICAgIGNoaWxkcmVuOiBbXG4gICAgICAgICAgICAgICAgICBuZXcgVGV4dFJ1bih7XG4gICAgICAgICAgICAgICAgICAgIHRleHQ6IGAgICBFeGFtcGxlOiBcIiR7aXRlbS5leGFtcGxlfVwiYCxcbiAgICAgICAgICAgICAgICAgICAgc2l6ZTogV09SRF9GT05UX1NJWkVTLlNVUFBMRU1FTlRBUlksXG4gICAgICAgICAgICAgICAgICAgIGl0YWxpY3M6IHRydWUsXG4gICAgICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgICAgICBdLFxuICAgICAgICAgICAgICAgIHNwYWNpbmc6IHsgYWZ0ZXI6IDIwMCB9LFxuICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgIClcbiAgICAgICAgICB9XG4gICAgICAgIH0pXG4gICAgICAgIGFkZFNlY3Rpb24oXCJLZXkgVm9jYWJ1bGFyeVwiLCB2b2NhYkNvbnRlbnQpXG4gICAgICB9XG5cbiAgICAgIGlmIChlbmFibGVkU2VjdGlvbnMucmVhZGluZyAmJiBsZXNzb25EYXRhLnNlY3Rpb25zLnJlYWRpbmcpIHtcbiAgICAgICAgY29uc3QgcmVhZGluZ0NvbnRlbnQgPSBbXG4gICAgICAgICAgbmV3IFBhcmFncmFwaCh7XG4gICAgICAgICAgICBjaGlsZHJlbjogW1xuICAgICAgICAgICAgICBuZXcgVGV4dFJ1bih7XG4gICAgICAgICAgICAgICAgdGV4dDogbGVzc29uRGF0YS5zZWN0aW9ucy5yZWFkaW5nLFxuICAgICAgICAgICAgICAgIHNpemU6IFdPUkRfRk9OVF9TSVpFUy5NQUlOX0NPTlRFTlQsXG4gICAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgXSxcbiAgICAgICAgICAgIHNwYWNpbmc6IHsgYWZ0ZXI6IDIwMCB9LFxuICAgICAgICAgIH0pLFxuICAgICAgICBdXG4gICAgICAgIGFkZFNlY3Rpb24oXCJSZWFkaW5nIFBhc3NhZ2VcIiwgcmVhZGluZ0NvbnRlbnQpXG4gICAgICB9XG5cbiAgICAgIGlmIChlbmFibGVkU2VjdGlvbnMuY29tcHJlaGVuc2lvbiAmJiBsZXNzb25EYXRhLnNlY3Rpb25zLmNvbXByZWhlbnNpb24pIHtcbiAgICAgICAgY29uc3QgY29tcHJlaGVuc2lvblF1ZXN0aW9ucyA9IEFycmF5LmlzQXJyYXkobGVzc29uRGF0YS5zZWN0aW9ucy5jb21wcmVoZW5zaW9uKSA/IGxlc3NvbkRhdGEuc2VjdGlvbnMuY29tcHJlaGVuc2lvbiA6IFtdXG4gICAgICAgIGNvbnN0IGNvbXByZWhlbnNpb25Db250ZW50ID0gY29tcHJlaGVuc2lvblF1ZXN0aW9ucy5tYXAoXG4gICAgICAgICAgKHF1ZXN0aW9uLCBpbmRleCkgPT5cbiAgICAgICAgICAgIG5ldyBQYXJhZ3JhcGgoe1xuICAgICAgICAgICAgICBjaGlsZHJlbjogW1xuICAgICAgICAgICAgICAgIG5ldyBUZXh0UnVuKHtcbiAgICAgICAgICAgICAgICAgIHRleHQ6IGAke2luZGV4ICsgMX0uICR7cXVlc3Rpb259YCxcbiAgICAgICAgICAgICAgICAgIHNpemU6IFdPUkRfRk9OVF9TSVpFUy5NQUlOX0NPTlRFTlQsXG4gICAgICAgICAgICAgICAgfSksXG4gICAgICAgICAgICAgIF0sXG4gICAgICAgICAgICAgIHNwYWNpbmc6IHsgYWZ0ZXI6IDE1MCB9LFxuICAgICAgICAgICAgfSksXG4gICAgICAgIClcbiAgICAgICAgYWRkU2VjdGlvbihcIlJlYWRpbmcgQ29tcHJlaGVuc2lvblwiLCBjb21wcmVoZW5zaW9uQ29udGVudClcbiAgICAgIH1cblxuICAgICAgaWYgKGVuYWJsZWRTZWN0aW9ucy5kaXNjdXNzaW9uICYmIGxlc3NvbkRhdGEuc2VjdGlvbnMuZGlzY3Vzc2lvbikge1xuICAgICAgICBjb25zdCBkaXNjdXNzaW9uUXVlc3Rpb25zID0gQXJyYXkuaXNBcnJheShsZXNzb25EYXRhLnNlY3Rpb25zLmRpc2N1c3Npb24pID8gbGVzc29uRGF0YS5zZWN0aW9ucy5kaXNjdXNzaW9uIDogW11cbiAgICAgICAgY29uc3QgZGlzY3Vzc2lvbkNvbnRlbnQgPSBkaXNjdXNzaW9uUXVlc3Rpb25zLm1hcChcbiAgICAgICAgICAocXVlc3Rpb24sIGluZGV4KSA9PlxuICAgICAgICAgICAgbmV3IFBhcmFncmFwaCh7XG4gICAgICAgICAgICAgIGNoaWxkcmVuOiBbXG4gICAgICAgICAgICAgICAgbmV3IFRleHRSdW4oe1xuICAgICAgICAgICAgICAgICAgdGV4dDogYCR7aW5kZXggKyAxfS4gJHtxdWVzdGlvbn1gLFxuICAgICAgICAgICAgICAgICAgc2l6ZTogV09SRF9GT05UX1NJWkVTLk1BSU5fQ09OVEVOVCxcbiAgICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgICAgXSxcbiAgICAgICAgICAgICAgc3BhY2luZzogeyBhZnRlcjogMTUwIH0sXG4gICAgICAgICAgICB9KSxcbiAgICAgICAgKVxuICAgICAgICBhZGRTZWN0aW9uKFwiRGlzY3Vzc2lvbiBRdWVzdGlvbnNcIiwgZGlzY3Vzc2lvbkNvbnRlbnQpXG4gICAgICB9XG5cbiAgICAgIGlmIChlbmFibGVkU2VjdGlvbnMuZGlhbG9ndWVQcmFjdGljZSAmJiBsZXNzb25EYXRhLnNlY3Rpb25zLmRpYWxvZ3VlUHJhY3RpY2UpIHtcbiAgICAgICAgY29uc3QgZGlhbG9ndWVQcmFjdGljZUNvbnRlbnQ6IGFueVtdID0gW11cbiAgICAgICAgY29uc3QgZGlhbG9ndWVTZWN0aW9uID0gbGVzc29uRGF0YS5zZWN0aW9ucy5kaWFsb2d1ZVByYWN0aWNlXG5cbiAgICAgICAgLy8gQWRkIGluc3RydWN0aW9uIHdpdGggbGlnaHQgZ3JlZW4gYmFja2dyb3VuZCAoI0VFRjdEQylcbiAgICAgICAgZGlhbG9ndWVQcmFjdGljZUNvbnRlbnQucHVzaChcbiAgICAgICAgICBuZXcgUGFyYWdyYXBoKHtcbiAgICAgICAgICAgIGNoaWxkcmVuOiBbXG4gICAgICAgICAgICAgIG5ldyBUZXh0UnVuKHtcbiAgICAgICAgICAgICAgICB0ZXh0OiBkaWFsb2d1ZVNlY3Rpb24uaW5zdHJ1Y3Rpb24sXG4gICAgICAgICAgICAgICAgc2l6ZTogV09SRF9GT05UX1NJWkVTLklOU1RSVUNUSU9OUyxcbiAgICAgICAgICAgICAgICBpdGFsaWNzOiB0cnVlLFxuICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgIF0sXG4gICAgICAgICAgICBzcGFjaW5nOiB7IGFmdGVyOiAyMDAgfSxcbiAgICAgICAgICAgIHNoYWRpbmc6IHtcbiAgICAgICAgICAgICAgZmlsbDogXCJFRUY3RENcIiwgLy8gTGlnaHQgZ3JlZW4gYmFja2dyb3VuZFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGJvcmRlcjoge1xuICAgICAgICAgICAgICBsZWZ0OiB7XG4gICAgICAgICAgICAgICAgY29sb3I6IFwiQ0NDQ0NDXCIsXG4gICAgICAgICAgICAgICAgc2l6ZTogNixcbiAgICAgICAgICAgICAgICBzdHlsZTogXCJzaW5nbGVcIixcbiAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgfSksXG4gICAgICAgIClcblxuICAgICAgICAvLyBBZGQgZGlhbG9ndWUgbGluZXMgd2l0aCBjaGFyYWN0ZXIgbmFtZXMgaW4gYm9sZFxuICAgICAgICBjb25zdCBkaWFsb2d1ZUxpbmVzID0gQXJyYXkuaXNBcnJheShkaWFsb2d1ZVNlY3Rpb24uZGlhbG9ndWUpID8gZGlhbG9ndWVTZWN0aW9uLmRpYWxvZ3VlIDogW11cbiAgICAgICAgZGlhbG9ndWVMaW5lcy5mb3JFYWNoKChsaW5lKSA9PiB7XG4gICAgICAgICAgZGlhbG9ndWVQcmFjdGljZUNvbnRlbnQucHVzaChcbiAgICAgICAgICAgIG5ldyBQYXJhZ3JhcGgoe1xuICAgICAgICAgICAgICBjaGlsZHJlbjogW1xuICAgICAgICAgICAgICAgIG5ldyBUZXh0UnVuKHtcbiAgICAgICAgICAgICAgICAgIHRleHQ6IGAke2xpbmUuY2hhcmFjdGVyfTogYCxcbiAgICAgICAgICAgICAgICAgIGJvbGQ6IHRydWUsXG4gICAgICAgICAgICAgICAgICBzaXplOiBXT1JEX0ZPTlRfU0laRVMuTUFJTl9DT05URU5ULFxuICAgICAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgICAgIG5ldyBUZXh0UnVuKHtcbiAgICAgICAgICAgICAgICAgIHRleHQ6IGxpbmUubGluZSxcbiAgICAgICAgICAgICAgICAgIHNpemU6IFdPUkRfRk9OVF9TSVpFUy5NQUlOX0NPTlRFTlQsXG4gICAgICAgICAgICAgICAgfSksXG4gICAgICAgICAgICAgIF0sXG4gICAgICAgICAgICAgIHNwYWNpbmc6IHsgYWZ0ZXI6IDEwMCB9LFxuICAgICAgICAgICAgfSksXG4gICAgICAgICAgKVxuICAgICAgICB9KVxuXG4gICAgICAgIC8vIEFkZCBmb2xsb3ctdXAgcXVlc3Rpb25zIGlmIGFueVxuICAgICAgICBpZiAoZGlhbG9ndWVTZWN0aW9uLmZvbGxvd1VwUXVlc3Rpb25zICYmIGRpYWxvZ3VlU2VjdGlvbi5mb2xsb3dVcFF1ZXN0aW9ucy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgZGlhbG9ndWVQcmFjdGljZUNvbnRlbnQucHVzaChcbiAgICAgICAgICAgIG5ldyBQYXJhZ3JhcGgoe1xuICAgICAgICAgICAgICBjaGlsZHJlbjogW1xuICAgICAgICAgICAgICAgIG5ldyBUZXh0UnVuKHtcbiAgICAgICAgICAgICAgICAgIHRleHQ6IFwiRm9sbG93LXVwIFF1ZXN0aW9uczpcIixcbiAgICAgICAgICAgICAgICAgIGJvbGQ6IHRydWUsXG4gICAgICAgICAgICAgICAgICBzaXplOiBXT1JEX0ZPTlRfU0laRVMuSU5TVFJVQ1RJT05TLFxuICAgICAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgICBdLFxuICAgICAgICAgICAgICBzcGFjaW5nOiB7IGJlZm9yZTogMjAwLCBhZnRlcjogMTAwIH0sXG4gICAgICAgICAgICB9KSxcbiAgICAgICAgICApXG4gICAgICAgICAgY29uc3QgZm9sbG93VXBRdWVzdGlvbnMgPSBBcnJheS5pc0FycmF5KGRpYWxvZ3VlU2VjdGlvbi5mb2xsb3dVcFF1ZXN0aW9ucykgPyBkaWFsb2d1ZVNlY3Rpb24uZm9sbG93VXBRdWVzdGlvbnMgOiBbXVxuICAgICAgICAgIGZvbGxvd1VwUXVlc3Rpb25zLmZvckVhY2goKHF1ZXN0aW9uLCBpbmRleCkgPT4ge1xuICAgICAgICAgICAgZGlhbG9ndWVQcmFjdGljZUNvbnRlbnQucHVzaChcbiAgICAgICAgICAgICAgbmV3IFBhcmFncmFwaCh7XG4gICAgICAgICAgICAgICAgY2hpbGRyZW46IFtcbiAgICAgICAgICAgICAgICAgIG5ldyBUZXh0UnVuKHtcbiAgICAgICAgICAgICAgICAgICAgdGV4dDogYCR7aW5kZXggKyAxfS4gJHtxdWVzdGlvbn1gLFxuICAgICAgICAgICAgICAgICAgICBzaXplOiBXT1JEX0ZPTlRfU0laRVMuTUFJTl9DT05URU5ULFxuICAgICAgICAgICAgICAgICAgfSksXG4gICAgICAgICAgICAgICAgXSxcbiAgICAgICAgICAgICAgICBzcGFjaW5nOiB7IGFmdGVyOiAxMDAgfSxcbiAgICAgICAgICAgICAgfSksXG4gICAgICAgICAgICApXG4gICAgICAgICAgfSlcbiAgICAgICAgfVxuXG4gICAgICAgIGFkZFNlY3Rpb24oXCJEaWFsb2d1ZSBQcmFjdGljZVwiLCBkaWFsb2d1ZVByYWN0aWNlQ29udGVudClcbiAgICAgIH1cblxuICAgICAgaWYgKGVuYWJsZWRTZWN0aW9ucy5kaWFsb2d1ZUZpbGxHYXAgJiYgbGVzc29uRGF0YS5zZWN0aW9ucy5kaWFsb2d1ZUZpbGxHYXApIHtcbiAgICAgICAgY29uc3QgZGlhbG9ndWVGaWxsR2FwQ29udGVudDogYW55W10gPSBbXVxuICAgICAgICBjb25zdCBkaWFsb2d1ZVNlY3Rpb24gPSBsZXNzb25EYXRhLnNlY3Rpb25zLmRpYWxvZ3VlRmlsbEdhcFxuXG4gICAgICAgIC8vIEFkZCBpbnN0cnVjdGlvblxuICAgICAgICBkaWFsb2d1ZUZpbGxHYXBDb250ZW50LnB1c2goXG4gICAgICAgICAgbmV3IFBhcmFncmFwaCh7XG4gICAgICAgICAgICBjaGlsZHJlbjogW1xuICAgICAgICAgICAgICBuZXcgVGV4dFJ1bih7XG4gICAgICAgICAgICAgICAgdGV4dDogZGlhbG9ndWVTZWN0aW9uLmluc3RydWN0aW9uLFxuICAgICAgICAgICAgICAgIHNpemU6IFdPUkRfRk9OVF9TSVpFUy5JTlNUUlVDVElPTlMsXG4gICAgICAgICAgICAgICAgaXRhbGljczogdHJ1ZSxcbiAgICAgICAgICAgICAgfSksXG4gICAgICAgICAgICBdLFxuICAgICAgICAgICAgc3BhY2luZzogeyBhZnRlcjogMjAwIH0sXG4gICAgICAgICAgfSksXG4gICAgICAgIClcblxuICAgICAgICAvLyBBZGQgZGlhbG9ndWUgbGluZXNcbiAgICAgICAgY29uc3QgZGlhbG9ndWVGaWxsR2FwTGluZXMgPSBBcnJheS5pc0FycmF5KGRpYWxvZ3VlU2VjdGlvbi5kaWFsb2d1ZSkgPyBkaWFsb2d1ZVNlY3Rpb24uZGlhbG9ndWUgOiBbXVxuICAgICAgICBkaWFsb2d1ZUZpbGxHYXBMaW5lcy5mb3JFYWNoKChsaW5lKSA9PiB7XG4gICAgICAgICAgZGlhbG9ndWVGaWxsR2FwQ29udGVudC5wdXNoKFxuICAgICAgICAgICAgbmV3IFBhcmFncmFwaCh7XG4gICAgICAgICAgICAgIGNoaWxkcmVuOiBbXG4gICAgICAgICAgICAgICAgbmV3IFRleHRSdW4oe1xuICAgICAgICAgICAgICAgICAgdGV4dDogYCR7bGluZS5jaGFyYWN0ZXJ9OiBgLFxuICAgICAgICAgICAgICAgICAgYm9sZDogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgIHNpemU6IFdPUkRfRk9OVF9TSVpFUy5NQUlOX0NPTlRFTlQsXG4gICAgICAgICAgICAgICAgfSksXG4gICAgICAgICAgICAgICAgbmV3IFRleHRSdW4oe1xuICAgICAgICAgICAgICAgICAgdGV4dDogbGluZS5saW5lLFxuICAgICAgICAgICAgICAgICAgc2l6ZTogV09SRF9GT05UX1NJWkVTLk1BSU5fQ09OVEVOVCxcbiAgICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgICAgXSxcbiAgICAgICAgICAgICAgc3BhY2luZzogeyBhZnRlcjogMTAwIH0sXG4gICAgICAgICAgICB9KSxcbiAgICAgICAgICApXG4gICAgICAgIH0pXG5cbiAgICAgICAgLy8gQWRkIGFuc3dlciBrZXkgaWYgYW55XG4gICAgICAgIGlmIChkaWFsb2d1ZVNlY3Rpb24uYW5zd2VycyAmJiBkaWFsb2d1ZVNlY3Rpb24uYW5zd2Vycy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgZGlhbG9ndWVGaWxsR2FwQ29udGVudC5wdXNoKFxuICAgICAgICAgICAgbmV3IFBhcmFncmFwaCh7XG4gICAgICAgICAgICAgIGNoaWxkcmVuOiBbXG4gICAgICAgICAgICAgICAgbmV3IFRleHRSdW4oe1xuICAgICAgICAgICAgICAgICAgdGV4dDogXCJBbnN3ZXIgS2V5OlwiLFxuICAgICAgICAgICAgICAgICAgYm9sZDogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgIHNpemU6IFdPUkRfRk9OVF9TSVpFUy5JTlNUUlVDVElPTlMsXG4gICAgICAgICAgICAgICAgfSksXG4gICAgICAgICAgICAgIF0sXG4gICAgICAgICAgICAgIHNwYWNpbmc6IHsgYmVmb3JlOiAyMDAsIGFmdGVyOiAxMDAgfSxcbiAgICAgICAgICAgIH0pLFxuICAgICAgICAgIClcbiAgICAgICAgICBkaWFsb2d1ZUZpbGxHYXBDb250ZW50LnB1c2goXG4gICAgICAgICAgICBuZXcgUGFyYWdyYXBoKHtcbiAgICAgICAgICAgICAgY2hpbGRyZW46IFtcbiAgICAgICAgICAgICAgICBuZXcgVGV4dFJ1bih7XG4gICAgICAgICAgICAgICAgICB0ZXh0OiBkaWFsb2d1ZVNlY3Rpb24uYW5zd2Vycy5qb2luKCcsICcpLFxuICAgICAgICAgICAgICAgICAgc2l6ZTogV09SRF9GT05UX1NJWkVTLlNVUFBMRU1FTlRBUlksXG4gICAgICAgICAgICAgICAgfSksXG4gICAgICAgICAgICAgIF0sXG4gICAgICAgICAgICAgIHNwYWNpbmc6IHsgYWZ0ZXI6IDEwMCB9LFxuICAgICAgICAgICAgfSksXG4gICAgICAgICAgKVxuICAgICAgICB9XG5cbiAgICAgICAgYWRkU2VjdGlvbihcIkRpYWxvZ3VlIEZpbGwtaW4tdGhlLUdhcFwiLCBkaWFsb2d1ZUZpbGxHYXBDb250ZW50KVxuICAgICAgfVxuXG4gICAgICBpZiAoZW5hYmxlZFNlY3Rpb25zLmdyYW1tYXIgJiYgbGVzc29uRGF0YS5zZWN0aW9ucy5ncmFtbWFyKSB7XG4gICAgICAgIGNvbnN0IGdyYW1tYXJDb250ZW50OiBhbnlbXSA9IFtdXG4gICAgICAgIGdyYW1tYXJDb250ZW50LnB1c2goXG4gICAgICAgICAgbmV3IFBhcmFncmFwaCh7XG4gICAgICAgICAgICBjaGlsZHJlbjogW1xuICAgICAgICAgICAgICBuZXcgVGV4dFJ1bih7XG4gICAgICAgICAgICAgICAgdGV4dDogYEZvY3VzOiAke2xlc3NvbkRhdGEuc2VjdGlvbnMuZ3JhbW1hci5mb2N1c31gLFxuICAgICAgICAgICAgICAgIGJvbGQ6IHRydWUsXG4gICAgICAgICAgICAgICAgc2l6ZTogV09SRF9GT05UX1NJWkVTLk1BSU5fQ09OVEVOVCxcbiAgICAgICAgICAgICAgfSksXG4gICAgICAgICAgICBdLFxuICAgICAgICAgICAgc3BhY2luZzogeyBhZnRlcjogMjAwIH0sXG4gICAgICAgICAgfSksXG4gICAgICAgIClcbiAgICAgICAgZ3JhbW1hckNvbnRlbnQucHVzaChcbiAgICAgICAgICBuZXcgUGFyYWdyYXBoKHtcbiAgICAgICAgICAgIGNoaWxkcmVuOiBbXG4gICAgICAgICAgICAgIG5ldyBUZXh0UnVuKHtcbiAgICAgICAgICAgICAgICB0ZXh0OiBcIkV4YW1wbGVzOlwiLFxuICAgICAgICAgICAgICAgIGJvbGQ6IHRydWUsXG4gICAgICAgICAgICAgICAgc2l6ZTogV09SRF9GT05UX1NJWkVTLklOU1RSVUNUSU9OUyxcbiAgICAgICAgICAgICAgfSksXG4gICAgICAgICAgICBdLFxuICAgICAgICAgICAgc3BhY2luZzogeyBhZnRlcjogMTAwIH0sXG4gICAgICAgICAgfSksXG4gICAgICAgIClcbiAgICAgICAgY29uc3QgZ3JhbW1hckV4YW1wbGVzID0gQXJyYXkuaXNBcnJheShsZXNzb25EYXRhLnNlY3Rpb25zLmdyYW1tYXIuZXhhbXBsZXMpID8gbGVzc29uRGF0YS5zZWN0aW9ucy5ncmFtbWFyLmV4YW1wbGVzIDogW11cbiAgICAgICAgZ3JhbW1hckV4YW1wbGVzLmZvckVhY2goKGV4YW1wbGUpID0+IHtcbiAgICAgICAgICBncmFtbWFyQ29udGVudC5wdXNoKFxuICAgICAgICAgICAgbmV3IFBhcmFncmFwaCh7XG4gICAgICAgICAgICAgIGNoaWxkcmVuOiBbXG4gICAgICAgICAgICAgICAgbmV3IFRleHRSdW4oe1xuICAgICAgICAgICAgICAgICAgdGV4dDogYOKAoiAke2V4YW1wbGV9YCxcbiAgICAgICAgICAgICAgICAgIHNpemU6IFdPUkRfRk9OVF9TSVpFUy5TVVBQTEVNRU5UQVJZLFxuICAgICAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgICBdLFxuICAgICAgICAgICAgICBzcGFjaW5nOiB7IGFmdGVyOiAxMDAgfSxcbiAgICAgICAgICAgIH0pLFxuICAgICAgICAgIClcbiAgICAgICAgfSlcbiAgICAgICAgZ3JhbW1hckNvbnRlbnQucHVzaChcbiAgICAgICAgICBuZXcgUGFyYWdyYXBoKHtcbiAgICAgICAgICAgIGNoaWxkcmVuOiBbXG4gICAgICAgICAgICAgIG5ldyBUZXh0UnVuKHtcbiAgICAgICAgICAgICAgICB0ZXh0OiBcIlByYWN0aWNlIEV4ZXJjaXNlOlwiLFxuICAgICAgICAgICAgICAgIGJvbGQ6IHRydWUsXG4gICAgICAgICAgICAgICAgc2l6ZTogV09SRF9GT05UX1NJWkVTLklOU1RSVUNUSU9OUyxcbiAgICAgICAgICAgICAgfSksXG4gICAgICAgICAgICBdLFxuICAgICAgICAgICAgc3BhY2luZzogeyBiZWZvcmU6IDIwMCwgYWZ0ZXI6IDEwMCB9LFxuICAgICAgICAgIH0pLFxuICAgICAgICApXG4gICAgICAgIGNvbnN0IGdyYW1tYXJFeGVyY2lzZXMgPSBBcnJheS5pc0FycmF5KGxlc3NvbkRhdGEuc2VjdGlvbnMuZ3JhbW1hci5leGVyY2lzZSkgPyBsZXNzb25EYXRhLnNlY3Rpb25zLmdyYW1tYXIuZXhlcmNpc2UgOiBbXVxuICAgICAgICBncmFtbWFyRXhlcmNpc2VzLmZvckVhY2goKGV4ZXJjaXNlLCBpbmRleCkgPT4ge1xuICAgICAgICAgIGdyYW1tYXJDb250ZW50LnB1c2goXG4gICAgICAgICAgICBuZXcgUGFyYWdyYXBoKHtcbiAgICAgICAgICAgICAgY2hpbGRyZW46IFtcbiAgICAgICAgICAgICAgICBuZXcgVGV4dFJ1bih7XG4gICAgICAgICAgICAgICAgICB0ZXh0OiBgJHtpbmRleCArIDF9LiAke2V4ZXJjaXNlfWAsXG4gICAgICAgICAgICAgICAgICBzaXplOiBXT1JEX0ZPTlRfU0laRVMuTUFJTl9DT05URU5ULFxuICAgICAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgICBdLFxuICAgICAgICAgICAgICBzcGFjaW5nOiB7IGFmdGVyOiAxMDAgfSxcbiAgICAgICAgICAgIH0pLFxuICAgICAgICAgIClcbiAgICAgICAgfSlcbiAgICAgICAgYWRkU2VjdGlvbihcIkdyYW1tYXIgRm9jdXNcIiwgZ3JhbW1hckNvbnRlbnQpXG4gICAgICB9XG5cbiAgICAgIGlmIChlbmFibGVkU2VjdGlvbnMucHJvbnVuY2lhdGlvbiAmJiBsZXNzb25EYXRhLnNlY3Rpb25zLnByb251bmNpYXRpb24pIHtcbiAgICAgICAgY29uc3QgcHJvbnVuY2lhdGlvbkNvbnRlbnQgPSBbXG4gICAgICAgICAgbmV3IFBhcmFncmFwaCh7XG4gICAgICAgICAgICBjaGlsZHJlbjogW1xuICAgICAgICAgICAgICBuZXcgVGV4dFJ1bih7XG4gICAgICAgICAgICAgICAgdGV4dDogYFdvcmQ6ICR7bGVzc29uRGF0YS5zZWN0aW9ucy5wcm9udW5jaWF0aW9uLndvcmR9YCxcbiAgICAgICAgICAgICAgICBib2xkOiB0cnVlLFxuICAgICAgICAgICAgICAgIHNpemU6IFdPUkRfRk9OVF9TSVpFUy5NQUlOX0NPTlRFTlQsXG4gICAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgXSxcbiAgICAgICAgICAgIHNwYWNpbmc6IHsgYWZ0ZXI6IDE1MCB9LFxuICAgICAgICAgIH0pLFxuICAgICAgICAgIG5ldyBQYXJhZ3JhcGgoe1xuICAgICAgICAgICAgY2hpbGRyZW46IFtcbiAgICAgICAgICAgICAgbmV3IFRleHRSdW4oe1xuICAgICAgICAgICAgICAgIHRleHQ6IGBJUEE6ICR7bGVzc29uRGF0YS5zZWN0aW9ucy5wcm9udW5jaWF0aW9uLmlwYX1gLFxuICAgICAgICAgICAgICAgIHNpemU6IFdPUkRfRk9OVF9TSVpFUy5TVVBQTEVNRU5UQVJZLFxuICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgIF0sXG4gICAgICAgICAgICBzcGFjaW5nOiB7IGFmdGVyOiAxNTAgfSxcbiAgICAgICAgICB9KSxcbiAgICAgICAgICBuZXcgUGFyYWdyYXBoKHtcbiAgICAgICAgICAgIGNoaWxkcmVuOiBbXG4gICAgICAgICAgICAgIG5ldyBUZXh0UnVuKHtcbiAgICAgICAgICAgICAgICB0ZXh0OiBgUHJhY3RpY2U6IFwiJHtsZXNzb25EYXRhLnNlY3Rpb25zLnByb251bmNpYXRpb24ucHJhY3RpY2V9XCJgLFxuICAgICAgICAgICAgICAgIHNpemU6IFdPUkRfRk9OVF9TSVpFUy5NQUlOX0NPTlRFTlQsXG4gICAgICAgICAgICAgICAgaXRhbGljczogdHJ1ZSxcbiAgICAgICAgICAgICAgfSksXG4gICAgICAgICAgICBdLFxuICAgICAgICAgICAgc3BhY2luZzogeyBhZnRlcjogMjAwIH0sXG4gICAgICAgICAgfSksXG4gICAgICAgIF1cbiAgICAgICAgYWRkU2VjdGlvbihcIlByb251bmNpYXRpb24gUHJhY3RpY2VcIiwgcHJvbnVuY2lhdGlvbkNvbnRlbnQpXG4gICAgICB9XG5cbiAgICAgIGlmIChlbmFibGVkU2VjdGlvbnMud3JhcHVwICYmIGxlc3NvbkRhdGEuc2VjdGlvbnMud3JhcHVwKSB7XG4gICAgICAgIGNvbnN0IHdyYXB1cFF1ZXN0aW9ucyA9IEFycmF5LmlzQXJyYXkobGVzc29uRGF0YS5zZWN0aW9ucy53cmFwdXApID8gbGVzc29uRGF0YS5zZWN0aW9ucy53cmFwdXAgOiBbXVxuICAgICAgICBjb25zdCB3cmFwdXBDb250ZW50ID0gd3JhcHVwUXVlc3Rpb25zLm1hcChcbiAgICAgICAgICAocXVlc3Rpb24sIGluZGV4KSA9PlxuICAgICAgICAgICAgbmV3IFBhcmFncmFwaCh7XG4gICAgICAgICAgICAgIGNoaWxkcmVuOiBbXG4gICAgICAgICAgICAgICAgbmV3IFRleHRSdW4oe1xuICAgICAgICAgICAgICAgICAgdGV4dDogYCR7aW5kZXggKyAxfS4gJHtxdWVzdGlvbn1gLFxuICAgICAgICAgICAgICAgICAgc2l6ZTogV09SRF9GT05UX1NJWkVTLk1BSU5fQ09OVEVOVCxcbiAgICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgICAgXSxcbiAgICAgICAgICAgICAgc3BhY2luZzogeyBhZnRlcjogMTUwIH0sXG4gICAgICAgICAgICB9KSxcbiAgICAgICAgKVxuICAgICAgICBhZGRTZWN0aW9uKFwiTGVzc29uIFdyYXAtdXBcIiwgd3JhcHVwQ29udGVudClcbiAgICAgIH1cblxuICAgICAgLy8gRm9vdGVyXG4gICAgICBjaGlsZHJlbi5wdXNoKFxuICAgICAgICBuZXcgUGFyYWdyYXBoKHtcbiAgICAgICAgICBjaGlsZHJlbjogW1xuICAgICAgICAgICAgbmV3IFRleHRSdW4oe1xuICAgICAgICAgICAgICB0ZXh0OiBcIkdlbmVyYXRlZCBieSBMaW5ndWFTcGFya1wiLFxuICAgICAgICAgICAgICBzaXplOiBXT1JEX0ZPTlRfU0laRVMuU1VQUExFTUVOVEFSWSxcbiAgICAgICAgICAgICAgaXRhbGljczogdHJ1ZSxcbiAgICAgICAgICAgIH0pLFxuICAgICAgICAgIF0sXG4gICAgICAgICAgYWxpZ25tZW50OiBBbGlnbm1lbnRUeXBlLkNFTlRFUixcbiAgICAgICAgICBzcGFjaW5nOiB7IGJlZm9yZTogNjAwIH0sXG4gICAgICAgIH0pLFxuICAgICAgKVxuXG4gICAgICAvLyBDcmVhdGUgZG9jdW1lbnRcbiAgICAgIGNvbnN0IGRvYyA9IG5ldyBEb2N1bWVudCh7XG4gICAgICAgIHNlY3Rpb25zOiBbXG4gICAgICAgICAge1xuICAgICAgICAgICAgcHJvcGVydGllczoge30sXG4gICAgICAgICAgICBjaGlsZHJlbjogY2hpbGRyZW4sXG4gICAgICAgICAgfSxcbiAgICAgICAgXSxcbiAgICAgIH0pXG5cbiAgICAgIC8vIEdlbmVyYXRlIGFuZCBkb3dubG9hZFxuICAgICAgY29uc29sZS5sb2coJ0NyZWF0aW5nIFdvcmQgZG9jdW1lbnQuLi4nKVxuICAgICAgY29uc3QgYnVmZmVyID0gYXdhaXQgUGFja2VyLnRvQnVmZmVyKGRvYylcbiAgICAgIGNvbnNvbGUubG9nKCdEb2N1bWVudCBidWZmZXIgY3JlYXRlZCwgc2l6ZTonLCBidWZmZXIuYnl0ZUxlbmd0aClcblxuICAgICAgY29uc3QgYmxvYiA9IG5ldyBCbG9iKFtidWZmZXIgYXMgYW55XSwgeyB0eXBlOiBcImFwcGxpY2F0aW9uL3ZuZC5vcGVueG1sZm9ybWF0cy1vZmZpY2Vkb2N1bWVudC53b3JkcHJvY2Vzc2luZ21sLmRvY3VtZW50XCIgfSlcbiAgICAgIGNvbnN0IHVybCA9IFVSTC5jcmVhdGVPYmplY3RVUkwoYmxvYilcbiAgICAgIGNvbnN0IGZpbGVOYW1lID0gYCR7bGVzc29uRGF0YS5sZXNzb25UeXBlfS1sZXNzb24tJHtsZXNzb25EYXRhLnN0dWRlbnRMZXZlbH0tJHtEYXRlLm5vdygpfS5kb2N4YFxuXG4gICAgICBjb25zb2xlLmxvZygnRG93bmxvYWRpbmcgV29yZCBkb2N1bWVudCB3aXRoIGZpbGVuYW1lOicsIGZpbGVOYW1lKVxuICAgICAgY29uc3QgbGluayA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJhXCIpXG4gICAgICBsaW5rLmhyZWYgPSB1cmxcbiAgICAgIGxpbmsuZG93bmxvYWQgPSBmaWxlTmFtZVxuICAgICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChsaW5rKVxuICAgICAgbGluay5jbGljaygpXG4gICAgICBkb2N1bWVudC5ib2R5LnJlbW92ZUNoaWxkKGxpbmspXG4gICAgICBVUkwucmV2b2tlT2JqZWN0VVJMKHVybClcbiAgICAgIGNvbnNvbGUubG9nKCdXb3JkIGV4cG9ydCBjb21wbGV0ZWQgc3VjY2Vzc2Z1bGx5JylcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcignV29yZCBleHBvcnQgZXJyb3I6JywgZXJyb3IpXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoYFdvcmQgZXhwb3J0IGZhaWxlZDogJHtlcnJvciBpbnN0YW5jZW9mIEVycm9yID8gZXJyb3IubWVzc2FnZSA6ICdVbmtub3duIGVycm9yJ31gKVxuICAgIH1cbiAgfVxufVxuXG5leHBvcnQgY29uc3QgbGVzc29uRXhwb3J0ZXIgPSBuZXcgTGVzc29uRXhwb3J0ZXIoKVxuIl0sIm5hbWVzIjpbImpzUERGIiwiRG9jdW1lbnQiLCJQYWNrZXIiLCJQYXJhZ3JhcGgiLCJUZXh0UnVuIiwiSGVhZGluZ0xldmVsIiwiQWxpZ25tZW50VHlwZSIsIlVuZGVybGluZVR5cGUiLCJMZXNzb25FeHBvcnRlciIsImZvcm1hdERhdGUiLCJEYXRlIiwidG9Mb2NhbGVEYXRlU3RyaW5nIiwieWVhciIsIm1vbnRoIiwiZGF5IiwidmFsaWRhdGVMZXNzb25EYXRhIiwibGVzc29uRGF0YSIsInNlY3Rpb25zIiwiY29uc29sZSIsImxvZyIsIkVycm9yIiwibGVzc29uVGl0bGUiLCJsZXNzb25UeXBlIiwic3R1ZGVudExldmVsIiwidGFyZ2V0TGFuZ3VhZ2UiLCJ3YXJtdXAiLCJ0eXBlIiwiaXNBcnJheSIsIkFycmF5IiwidmFsdWUiLCJ2b2NhYnVsYXJ5IiwibGVuZ3RoIiwicmVhZGluZyIsImNvbXByZWhlbnNpb24iLCJkaXNjdXNzaW9uIiwiZ3JhbW1hciIsImhhc0ZvY3VzIiwiZm9jdXMiLCJwcm9udW5jaWF0aW9uIiwiaGFzV29yZCIsIndvcmQiLCJ3cmFwdXAiLCJ3YXJuIiwiZXhwb3J0VG9QREYiLCJlbmFibGVkU2VjdGlvbnMiLCJPYmplY3QiLCJrZXlzIiwicGRmIiwieVBvc2l0aW9uIiwicGFnZUhlaWdodCIsImludGVybmFsIiwicGFnZVNpemUiLCJoZWlnaHQiLCJtYXJnaW4iLCJsaW5lSGVpZ2h0IiwiRk9OVF9TSVpFUyIsIkxFU1NPTl9USVRMRSIsIlNFQ1RJT05fSEVBREVSIiwiTUFJTl9DT05URU5UIiwiSU5TVFJVQ1RJT05TIiwiU1VQUExFTUVOVEFSWSIsImFkZFRleHQiLCJ0ZXh0IiwiZm9udFNpemUiLCJpc0JvbGQiLCJpbmRlbnQiLCJzYW5pdGl6ZWRUZXh0IiwicmVwbGFjZSIsInRyaW0iLCJzdWJzdHJpbmciLCJzZXRGb250U2l6ZSIsInNldEZvbnQiLCJtYXhXaWR0aCIsIndpZHRoIiwibGluZXMiLCJzcGxpdFRleHRUb1NpemUiLCJsaW5lIiwiYWRkUGFnZSIsImVycm9yIiwiYWRkU2VjdGlvbiIsInRpdGxlIiwiY29udGVudCIsImNoYXJBdCIsInRvVXBwZXJDYXNlIiwic2xpY2UiLCJ3YXJtdXBRdWVzdGlvbnMiLCJmb3JFYWNoIiwicXVlc3Rpb24iLCJpbmRleCIsInZvY2FidWxhcnlJdGVtcyIsIml0ZW0iLCJtZWFuaW5nIiwiZXhhbXBsZXMiLCJleGFtcGxlIiwiZXhJbmRleCIsImNvbXByZWhlbnNpb25RdWVzdGlvbnMiLCJkaXNjdXNzaW9uUXVlc3Rpb25zIiwiZGlhbG9ndWVQcmFjdGljZSIsImRpYWxvZ3VlU2VjdGlvbiIsInNldEZpbGxDb2xvciIsImluc3RydWN0aW9uV2lkdGgiLCJpbnN0cnVjdGlvbkxpbmVzIiwiaW5zdHJ1Y3Rpb24iLCJpbnN0cnVjdGlvbkhlaWdodCIsInJlY3QiLCJkaWFsb2d1ZVByYWN0aWNlTGluZXMiLCJkaWFsb2d1ZSIsImNoYXJXaWR0aCIsImdldFRleHRXaWR0aCIsImNoYXJhY3RlciIsImxpbmVUZXh0IiwiaSIsImZvbGxvd1VwUXVlc3Rpb25zIiwiZGlhbG9ndWVGaWxsR2FwIiwiZGlhbG9ndWVGaWxsR2FwTGluZXMiLCJhbnN3ZXJzIiwiam9pbiIsImdyYW1tYXJFeGFtcGxlcyIsImdyYW1tYXJFeGVyY2lzZXMiLCJleGVyY2lzZSIsImlwYSIsInByYWN0aWNlIiwid3JhcHVwUXVlc3Rpb25zIiwicGFnZUNvdW50IiwiZ2V0TnVtYmVyT2ZQYWdlcyIsInNldFBhZ2UiLCJmaWxlTmFtZSIsIm5vdyIsInNhdmUiLCJzYXZlRXJyb3IiLCJtZXNzYWdlIiwic3RhY2siLCJuYW1lIiwibGVzc29uRGF0YUtleXMiLCJzZWN0aW9uc0tleXMiLCJlbmFibGVkU2VjdGlvbnNLZXlzIiwiZXhwb3J0VG9Xb3JkIiwiY2hpbGRyZW4iLCJXT1JEX0ZPTlRfU0laRVMiLCJwdXNoIiwiYm9sZCIsInNpemUiLCJoZWFkaW5nIiwiVElUTEUiLCJhbGlnbm1lbnQiLCJDRU5URVIiLCJzcGFjaW5nIiwiYWZ0ZXIiLCJ1bmRlcmxpbmUiLCJTSU5HTEUiLCJIRUFESU5HXzIiLCJiZWZvcmUiLCJ3YXJtdXBDb250ZW50IiwibWFwIiwidm9jYWJDb250ZW50IiwiaXRhbGljcyIsInJlYWRpbmdDb250ZW50IiwiY29tcHJlaGVuc2lvbkNvbnRlbnQiLCJkaXNjdXNzaW9uQ29udGVudCIsImRpYWxvZ3VlUHJhY3RpY2VDb250ZW50Iiwic2hhZGluZyIsImZpbGwiLCJib3JkZXIiLCJsZWZ0IiwiY29sb3IiLCJzdHlsZSIsImRpYWxvZ3VlTGluZXMiLCJkaWFsb2d1ZUZpbGxHYXBDb250ZW50IiwiZ3JhbW1hckNvbnRlbnQiLCJwcm9udW5jaWF0aW9uQ29udGVudCIsIndyYXB1cENvbnRlbnQiLCJkb2MiLCJwcm9wZXJ0aWVzIiwiYnVmZmVyIiwidG9CdWZmZXIiLCJieXRlTGVuZ3RoIiwiYmxvYiIsIkJsb2IiLCJ1cmwiLCJVUkwiLCJjcmVhdGVPYmplY3RVUkwiLCJsaW5rIiwiZG9jdW1lbnQiLCJjcmVhdGVFbGVtZW50IiwiaHJlZiIsImRvd25sb2FkIiwiYm9keSIsImFwcGVuZENoaWxkIiwiY2xpY2siLCJyZW1vdmVDaGlsZCIsInJldm9rZU9iamVjdFVSTCIsImxlc3NvbkV4cG9ydGVyIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(app-pages-browser)/./lib/export-utils.ts\n"));

/***/ })

});